(function(e){function t(t){for(var a,o,n=t[0],l=t[1],d=t[2],c=0,u=[];c<n.length;c++)o=n[c],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&u.push(r[o][0]),r[o]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);p&&p(t);while(u.length)u.shift()();return s.push.apply(s,d||[]),i()}function i(){for(var e,t=0;t<s.length;t++){for(var i=s[t],a=!0,n=1;n<i.length;n++){var l=i[n];0!==r[l]&&(a=!1)}a&&(s.splice(t--,1),e=o(o.s=i[0]))}return e}var a={},r={app:0},s=[];function o(t){if(a[t])return a[t].exports;var i=a[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=e,o.c=a,o.d=function(e,t,i){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(i,a,function(t){return e[t]}.bind(null,a));return i},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="./";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=t,n=n.slice();for(var d=0;d<n.length;d++)t(n[d]);var p=l;s.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"020f":function(e,t,i){"use strict";i("10e2")},"094d":function(e,t,i){},1:function(e,t){},"10e2":function(e,t,i){},"171c":function(e,t,i){},"19bf":function(e,t,i){"use strict";i("8763")},"1a56":function(e,t,i){},"1ab4":function(e,t,i){"use strict";i("54f1")},"1b77":function(e,t,i){},"1e9c":function(e,t,i){},2414:function(e,t,i){"use strict";i("bcf7")},2575:function(e,t,i){},"2e3a":function(e,t,i){},"2e56":function(e,t,i){"use strict";i("6e1f")},"345e":function(e,t,i){"use strict";i("094d")},"3a10":function(e,t,i){},"3ac5":function(e,t,i){},"425b":function(e,t,i){"use strict";i("d347")},"45c7":function(e,t,i){},4706:function(e,t,i){},"4c15":function(e,t){e.exports="data:image/png;base64,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"},"4c17":function(e,t,i){},"4cd7":function(e,t,i){},"4e8d":function(e,t,i){},5271:function(e,t,i){},"54f1":function(e,t,i){},5645:function(e,t,i){},"56d7":function(e,t,i){"use strict";i.r(t);i("14d9");var a=i("2b0e"),r=i("8c4f"),s=i("28dd"),o=i("5c96"),n=i.n(o),l=(i("0fae"),function(){var e=this,t=e._self._c;return t("div",{staticClass:"main-containers"},[t("div",{staticClass:"top-container",style:{padding:"0 20px",alignItems:"center",display:"flex",justifyContent:"space-around",overflow:"hidden",top:"0",left:"0",flexWrap:"wrap",background:"#fff",width:"100%",position:"fixed",height:"auto",zIndex:"1002"}},[e._e(),t("div",{style:{boxShadow:"10px 10px 0 rgba(184, 180, 233,.5)",padding:"0 30px",margin:"0 0 24px 0%",color:"rgba(171,133,211,1)",borderRadius:"0 0 10px 10px",textAlign:"center",background:"rgba(239, 239, 239,.5)",width:"auto",fontSize:"30px",fontWeight:"600",order:"0"}},[e._v("智能菜谱推荐系统")]),t("div",[e._e(),e.Token?t("div",{style:{color:"#666",fontSize:"16px",display:"inline-block"}},[e._v(e._s(e.username))]):e._e(),e.Token?e._e():t("el-button",{style:{border:"0",padding:"0 12px",margin:"10px 10px",color:"#666",borderRadius:"20px",background:"linear-gradient(90deg, rgba(255,233,100,1) 0%, rgba(194,248,126,1) 29%, rgba(181,233,252,1) 61%, rgba(246,172,218,1) 100%)",display:"inline-block",width:"80px",fontSize:"16px",lineHeight:"32px",height:"32px",order:"1"},on:{click:function(t){return e.toLogin()}}},[e._v("登录/注册")]),e.Token?t("el-button",{style:{padding:"0 12px",margin:"10px 0 0 0px",borderColor:"rgba(171,133,211,1)",color:"#666",display:"inline-block",borderRadius:"20px",background:"none",borderWidth:"1px",width:"80px",fontSize:"16px",lineHeight:"32px",borderStyle:"solid",height:"32px",order:"5"},on:{click:e.logout}},[e._v("退出")]):e._e()],1)]),t("div",{staticClass:"body-containers",style:{minHeight:"100vh",padding:"64px 0 0",margin:"0",position:"relative",background:"url(http://codegen.caihongy.cn/20221107/2b1ea40e3b86476581f55111adaaf415.png) fixed"}},[t("div",{staticClass:"menu-preview",style:{padding:"0",borderColor:"#e2cbf7",background:"rgba(205, 210, 239,.8)",borderWidth:"0px 0 0px 0",width:"100%",borderStyle:"solid",height:"auto"}},[t("el-menu",{staticClass:"el-menu-horizontal-demo",style:{border:0,padding:"16px 0 0px 0",listStyle:"none",margin:"0 auto",alignItems:"center",background:"none",display:"flex",width:"1200px",position:"relative",justifyContent:"space-between",height:"76px"},attrs:{"default-active":e.activeIndex,"unique-opened":!0,mode:"horizontal",router:!0},on:{select:e.handleSelect}},[e._e(),e._l(e.menuList,(function(i,a){return t("el-menu-item",{key:a,attrs:{index:a+"",route:i.url}},[t("i",{class:e.iconArr[a],style:{padding:"0 10px 0 0",margin:"0",color:"inherit",width:"14px",lineHeight:"56px",fontSize:"14px",height:"60px"}}),t("span",{style:{padding:"0 10px 0 4px",lineHeight:"56px",fontSize:"14px",color:"inherit",height:"60px"}},[e._v(e._s(i.name))])])})),t("el-menu-item",{on:{click:e.goBackend}},[t("i",{staticClass:"el-icon-box",style:{padding:"0 10px 0 0",margin:"0",color:"inherit",width:"14px",lineHeight:"56px",fontSize:"14px",height:"60px"}}),t("span",{style:{padding:"0 10px 0 4px",lineHeight:"56px",fontSize:"14px",color:"inherit",height:"60px"}},[e._v("后台管理")])]),e.Token&&e.notAdmin?t("el-menu-item",{attrs:{index:e.menuList.length+2+""},on:{click:function(t){return e.goMenu("/index/center")}}},[t("i",{staticClass:"el-icon-user",style:{padding:"0 10px 0 0",margin:"0",color:"inherit",width:"14px",lineHeight:"56px",fontSize:"14px",height:"60px"}}),t("span",{style:{padding:"0 10px 0 4px",lineHeight:"56px",fontSize:"14px",color:"inherit",height:"60px"}},[e._v("个人中心")])]):e._e()],2)],1),t("div",{staticClass:"banner-preview",style:{width:"100%",height:"auto"}},[t("el-carousel",{style:{width:"1200px",margin:"10px auto"},attrs:{trigger:"click","indicator-position":"inside",arrow:"always",type:"default",direction:"horizontal",height:"400px",autoplay:!0,interval:3e3,loop:!0}},e._l(e.carouselList,(function(i){return t("el-carousel-item",{key:i.id,style:{borderRadius:"10px",width:"100%",height:"100%"}},[t("el-image",{style:{objectFit:"cover",width:"100%",height:"100%"},attrs:{src:e.baseUrl+i.value,fit:"cover"}})],1)})),1)],1),t("router-view"),t("div",{staticClass:"bottom-preview",style:{minHeight:"150px",padding:"20px 0",margin:"20px 0 0 0",alignItems:"center",background:"#404040",flexDirection:"column",display:"flex",width:"100%",justifyContent:"center"}},[t("img",{style:{width:"84px",objectFit:"cover",borderRadius:"10px",display:"none",height:"84px"},attrs:{src:"http://codegen.caihongy.cn/20221025/08cc4c2a6d624b3a81c474cda7a103a1.webp"}}),t("div",{style:{margin:"10px 0 0",fontSize:"14px",lineHeight:"28px",color:"#ccc"}}),t("div",{style:{margin:"10px 0 0",fontSize:"14px",lineHeight:"28px",color:"#ccc"}}),t("div",{style:{margin:"10px 0 0",fontSize:"14px",lineHeight:"28px",color:"#ccc"}})])],1)])}),d=[],p={data(){return{activeIndex:"0",roleMenus:[{backMenu:[{child:[{appFrontIcon:"cuIcon-circle",buttons:["新增","查看","修改","删除"],menu:"用户",menuJump:"列表",tableName:"yonghu"}],menu:"用户管理"},{child:[{appFrontIcon:"cuIcon-pic",buttons:["新增","查看","修改","删除"],menu:"菜式类型",menuJump:"列表",tableName:"caishileixing"}],menu:"菜式类型管理"},{child:[{appFrontIcon:"cuIcon-explore",buttons:["新增","查看","修改","删除","菜谱分类统计","菜谱评分统计","查看评论","首页总数","首页统计"],menu:"菜谱信息",menuJump:"列表",tableName:"caipuxinxi"}],menu:"菜谱信息管理"},{child:[{appFrontIcon:"cuIcon-pic",buttons:["查看","删除","每日评分人数统计","首页总数","首页统计"],menu:"评分信息",menuJump:"列表",tableName:"pingfenxinxi"}],menu:"评分信息管理"},{child:[{appFrontIcon:"cuIcon-message",buttons:["查看","回复","删除"],menu:"留言信息",tableName:"messages"}],menu:"留言信息"},{child:[{appFrontIcon:"cuIcon-news",buttons:["查看","修改"],menu:"关于我们",tableName:"aboutus"},{appFrontIcon:"cuIcon-time",buttons:["查看","修改"],menu:"系统简介",tableName:"systemintro"},{appFrontIcon:"cuIcon-newshot",buttons:["查看","修改"],menu:"轮播图管理",tableName:"config"},{appFrontIcon:"cuIcon-news",buttons:["新增","查看","修改","删除"],menu:"公告信息",tableName:"news"}],menu:"系统管理"}],frontMenu:[{child:[{appFrontIcon:"cuIcon-rank",buttons:["查看","评分"],menu:"菜谱信息列表",menuJump:"列表",tableName:"caipuxinxi"}],menu:"菜谱信息模块"}],hasBackLogin:"是",hasBackRegister:"否",hasFrontLogin:"否",hasFrontRegister:"否",roleName:"管理员",tableName:"users"},{backMenu:[{child:[{appFrontIcon:"cuIcon-pic",buttons:["查看","删除"],menu:"评分信息",menuJump:"列表",tableName:"pingfenxinxi"}],menu:"评分信息管理"}],frontMenu:[{child:[{appFrontIcon:"cuIcon-rank",buttons:["查看","评分"],menu:"菜谱信息列表",menuJump:"列表",tableName:"caipuxinxi"}],menu:"菜谱信息模块"}],hasBackLogin:"是",hasBackRegister:"否",hasFrontLogin:"是",hasFrontRegister:"是",roleName:"用户",tableName:"yonghu"}],baseUrl:"",carouselList:[],menuList:[],form:{ask:"",userid:localStorage.getItem("userid")},Token:localStorage.getItem("Token"),username:localStorage.getItem("username"),notAdmin:'"users"'!=localStorage.getItem("sessionTable"),timer:"",iconArr:["el-icon-star-off","el-icon-goods","el-icon-warning","el-icon-question","el-icon-info","el-icon-help","el-icon-picture-outline-round","el-icon-camera-solid","el-icon-video-camera-solid","el-icon-video-camera","el-icon-bell","el-icon-s-cooperation","el-icon-s-order","el-icon-s-platform","el-icon-s-operation","el-icon-s-promotion","el-icon-s-release","el-icon-s-ticket","el-icon-s-management","el-icon-s-open","el-icon-s-shop","el-icon-s-marketing","el-icon-s-flag","el-icon-s-comment","el-icon-s-finance","el-icon-s-claim","el-icon-s-opportunity","el-icon-s-data","el-icon-s-check"]}},created(){this.baseUrl=this.$config.baseUrl,this.menuList=this.$config.indexNav,this.getCarousel()},mounted(){this.activeIndex=localStorage.getItem("keyPath")||"0"},watch:{$route(e){let t=window.location.href;t.split("#");for(let i in this.menuList)e.path==this.menuList[i].url&&(this.activeIndex=i);this.Token=localStorage.getItem("Token")}},methods:{handleSelect(e){e&&localStorage.setItem("keyPath",e)},toLogin(){this.$router.push("/login")},logout(){localStorage.clear(),a["default"].http.headers.common["Token"]="",this.$router.push("/index/home"),this.activeIndex="0",localStorage.setItem("keyPath",this.activeIndex),this.Token="",this.$forceUpdate(),this.$message({message:"登出成功",type:"success",duration:1e3})},getCarousel(){this.$http.get("config/list",{params:{page:1,limit:3}}).then(e=>{0==e.data.code&&(this.carouselList=e.data.data.list)})},goBackend(){window.open(this.$config.baseUrl+"admin/dist/index.html","_blank")},goMenu(e){localStorage.getItem("Token")?this.$router.push(e):this.toLogin()}}},c=p,u=(i("f763"),i("2877")),g=Object(u["a"])(c,l,d,!1,null,"43ba8dda",null),h=g.exports,m=function(){var e=this,t=e._self._c;return t("div",{staticClass:"home-preview",style:{width:"1200px",margin:"10px auto",flexWrap:"wrap",justifyContent:"space-between",display:"flex"}},[e.Token?t("div",{style:{padding:"20px",margin:"20px 0 0 0",borderColor:"#dbd9f4",borderRadius:"8px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",borderWidth:"2px 1px 1px 1px",display:"block",width:"30%",position:"relative",borderStyle:"solid",height:"240px",order:"1",cursor:"pointer"},on:{click:function(t){return e.goMenu("/index/usershicaiList")}}},[t("div",{style:{margin:"0 auto",color:"#fff",borderRadius:"0px",textAlign:"center",width:"100%",fontSize:"24px",lineHeight:"42px",height:"42px"}},[e._v("我的食材库")]),t("div",{style:{margin:"20px 0",color:"rgba(255,255,255,0.9)",textAlign:"center",fontSize:"16px",lineHeight:"24px"}},[e._v("管理您的食材库存")]),t("div",{style:{margin:"10px 0",color:"rgba(255,255,255,0.8)",textAlign:"center",fontSize:"14px",lineHeight:"20px"}},[e._v("查看食材、添加新食材、过期提醒")]),t("div",{style:{margin:"20px auto 0",padding:"8px 20px",borderRadius:"20px",background:"rgba(255,255,255,0.2)",color:"#fff",textAlign:"center",width:"120px",fontSize:"14px"}},[e._v("立即查看")])]):e._e(),e.Token?t("div",{style:{padding:"20px",margin:"20px 0 0 0",borderColor:"#dbd9f4",borderRadius:"8px",background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",borderWidth:"2px 1px 1px 1px",display:"block",width:"30%",position:"relative",borderStyle:"solid",height:"240px",order:"2",cursor:"pointer"},on:{click:function(t){return e.goMenu("/index/dietStatisticsList")}}},[t("div",{style:{margin:"0 auto",color:"#fff",borderRadius:"0px",textAlign:"center",width:"100%",fontSize:"24px",lineHeight:"42px",height:"42px"}},[e._v("饮食统计")]),t("div",{style:{margin:"20px 0",color:"rgba(255,255,255,0.9)",textAlign:"center",fontSize:"16px",lineHeight:"24px"}},[e._v("查看您的饮食数据")]),t("div",{style:{margin:"10px 0",color:"rgba(255,255,255,0.8)",textAlign:"center",fontSize:"14px",lineHeight:"20px"}},[e._v("消耗统计、健康分析")]),t("div",{style:{margin:"20px auto 0",padding:"8px 20px",borderRadius:"20px",background:"rgba(255,255,255,0.2)",color:"#fff",textAlign:"center",width:"120px",fontSize:"14px"}},[e._v("查看统计")])]):e._e(),e.Token?t("div",{style:{padding:"20px",margin:"20px 0 0 0",borderColor:"#dbd9f4",borderRadius:"8px",background:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)",borderWidth:"2px 1px 1px 1px",display:"block",width:"30%",position:"relative",borderStyle:"solid",height:"240px",order:"3",cursor:"pointer"},on:{click:function(t){return e.goMenu("/index/foodUsageStatistics")}}},[t("div",{style:{margin:"0 auto",color:"#fff",borderRadius:"0px",textAlign:"center",width:"100%",fontSize:"24px",lineHeight:"42px",height:"42px"}},[e._v("常用食材分析")]),t("div",{style:{margin:"20px 0",color:"rgba(255,255,255,0.9)",textAlign:"center",fontSize:"16px",lineHeight:"24px"}},[e._v("了解您的食材使用习惯")]),t("div",{style:{margin:"10px 0",color:"rgba(255,255,255,0.8)",textAlign:"center",fontSize:"14px",lineHeight:"20px"}},[e._v("使用排行、频率分析")]),t("div",{style:{margin:"20px auto 0",padding:"8px 20px",borderRadius:"20px",background:"rgba(255,255,255,0.2)",color:"#fff",textAlign:"center",width:"120px",fontSize:"14px"}},[e._v("查看分析")])]):e._e(),e.Token?t("div",{style:{padding:"20px",margin:"20px 0 0 0",borderColor:"#dbd9f4",borderRadius:"8px",background:"linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)",borderWidth:"2px 1px 1px 1px",display:"block",width:"30%",position:"relative",borderStyle:"solid",height:"240px",order:"4",cursor:"pointer"},on:{click:function(t){return e.goMenu("/index/healthPreference")}}},[t("div",{style:{margin:"0 auto",color:"#fff",borderRadius:"0px",textAlign:"center",width:"100%",fontSize:"24px",lineHeight:"42px",height:"42px"}},[e._v("健康偏好管理")]),t("div",{style:{margin:"20px 0",color:"rgba(255,255,255,0.9)",textAlign:"center",fontSize:"16px",lineHeight:"24px"}},[e._v("设置您的健康目标")]),t("div",{style:{margin:"10px 0",color:"rgba(255,255,255,0.8)",textAlign:"center",fontSize:"14px",lineHeight:"20px"}},[e._v("营养目标、饮食偏好")]),t("div",{style:{margin:"20px auto 0",padding:"8px 20px",borderRadius:"20px",background:"rgba(255,255,255,0.2)",color:"#fff",textAlign:"center",width:"120px",fontSize:"14px"}},[e._v("设置偏好")])]):e._e(),t("div",{style:{padding:"0px",margin:"20px 0 0 0",borderColor:"#dbd9f4",borderRadius:"8px",background:"#fff",borderWidth:"2px 1px 1px 1px",display:"block",width:"30%",position:"relative",borderStyle:"solid",height:"500px",order:"5"}},[t("div",{style:{margin:"0 auto",color:"#333",borderRadius:"0px",textAlign:"center",background:"url(http://codegen.caihongy.cn/20221105/bb1ea9437beb4e1da8fcd1583db2f111.png) no-repeat,radial-gradient(circle, rgba(219,217,244,1) 0%, rgba(181,177,240,1) 100%)",width:"260px",fontSize:"22px",lineHeight:"42px",height:"42px"}},[e._v(e._s(e.aboutUsDetail.title))]),t("div",{style:{margin:"4px auto 12px",color:"#999",textAlign:"center",background:"none",display:"none",width:"75%",fontSize:"16px",lineHeight:"24px",height:"24px"}},[e._v(e._s(e.aboutUsDetail.subtitle))]),t("div",{style:{width:"100%",padding:"0 20px",margin:"20px 0 0 0",flexWrap:"wrap",display:"block",height:"200px"}},[t("img",{style:{width:"100%",margin:"0px",objectFit:"cover",borderRadius:"4px",display:"block",height:"100%"},attrs:{src:e.baseUrl+e.aboutUsDetail.picture1}}),t("img",{style:{margin:"0 10px",objectFit:"0",flex:1,display:"none",height:"120px"},attrs:{src:e.baseUrl+e.aboutUsDetail.picture2}}),t("img",{style:{margin:"0 10px",objectFit:"cover",flex:1,display:"none",height:"120px"},attrs:{src:e.baseUrl+e.aboutUsDetail.picture3}})]),t("div",{style:{padding:"20px",boxShadow:"0px 0px 2px #e6e6e6",margin:"0 auto",color:"#333",textIndent:"2em",overflow:"hidden",borderRadius:"4px",top:"240px",left:"38px",background:"rgba(248,248,252,.8)",width:"280px",lineHeight:"2",fontSize:"14px",position:"absolute",height:"216px"},domProps:{innerHTML:e._s(e.aboutUsDetail.content)}}),t("div",{style:{width:"285px",background:'url("http://codegen.caihongy.cn/20201114/7856ba26477849ea828f481fa2773a95.jpg") 0% 0% / cover no-repeat',display:"none",height:"100px"}}),t("div",{style:{width:"285px",background:'url("http://codegen.caihongy.cn/20201114/7856ba26477849ea828f481fa2773a95.jpg") 0% 0% / cover no-repeat',display:"none",height:"100px"}}),t("div",{style:{width:"285px",background:'url("http://codegen.caihongy.cn/20201114/7856ba26477849ea828f481fa2773a95.jpg") 0% 0% / cover no-repeat',display:"none",height:"100px"}}),t("div",{style:{width:"285px",background:'url("http://codegen.caihongy.cn/20201114/7856ba26477849ea828f481fa2773a95.jpg") 0% 0% / cover no-repeat',display:"none",height:"100px"}})]),t("div",{style:{padding:"0px 20px 40px 20px",margin:"20px 0 0 0",borderColor:"#dbd9f4",display:"flex",justifyContent:"space-between",borderRadius:"8px",flexWrap:"wrap",background:"#fff",borderWidth:"2px 1px 1px 1px",width:"100%",position:"relative",borderStyle:"solid",height:"auto",order:"6"}},[t("div",{style:{margin:"0 auto",color:"#333",textAlign:"center",left:"39%",background:"url(http://codegen.caihongy.cn/20221105/bb1ea9437beb4e1da8fcd1583db2f111.png) no-repeat,radial-gradient(circle, rgba(219,217,244,1) 0%, rgba(181,177,240,1) 100%)",width:"260px",lineHeight:"42px",fontSize:"22px",position:"absolute",height:"42px",order:"0"}},[e._v(e._s(e.systemIntroductionDetail.title))]),t("div",{style:{margin:"0",color:"#999",textAlign:"center",display:"none",width:"100%",lineHeight:"1.5",fontSize:"20px",height:"40px"}},[e._v(e._s(e.systemIntroductionDetail.subtitle))]),t("div",{style:{padding:"0px",margin:"70px 0 0 0",flexWrap:"wrap",background:"none",display:"flex",width:"61%",float:"left",height:"420px",order:"2"}},[t("img",{style:{margin:"0 10px 0 0",transform:"rotate(0deg)",objectFit:"cover",borderRadius:"4px",display:"block",width:"100%",height:"100%"},attrs:{src:e.baseUrl+e.systemIntroductionDetail.picture1}}),t("img",{style:{width:"240px",margin:"0",transform:"rotate(4deg)",objectFit:"cover",display:"none",height:"180px"},attrs:{src:e.baseUrl+e.systemIntroductionDetail.picture2}}),t("img",{style:{margin:"0 10px",objectFit:"cover",display:"none",height:"120px"},attrs:{src:e.baseUrl+e.systemIntroductionDetail.picture3}})]),t("div",{style:{padding:"12px",boxShadow:"0px 0px 2px #e0e0e0",margin:"62px 0 0 0",color:"#333",right:"50px",float:"right",textIndent:"2em",overflow:"hidden",top:"44px",borderRadius:"4px",background:"rgba(248,248,252,.8)",width:"56%",lineHeight:"24px",fontSize:"14px",position:"absolute",height:"352px",order:"3"},domProps:{innerHTML:e._s(e.systemIntroductionDetail.content)}}),t("div",{style:{transform:"rotate(5deg)",top:"74px",left:"140px",background:'url("http://codegen.caihongy.cn/20201114/7856ba26477849ea828f481fa2773a95.jpg") 0% 0% / cover no-repeat',display:"none",width:"320px",position:"absolute",height:"240px",order:"4",zIndex:"99"}}),t("div",{style:{width:"285px",background:'url("http://codegen.caihongy.cn/20201114/7856ba26477849ea828f481fa2773a95.jpg") 0% 0% / cover no-repeat',display:"none",height:"100px"}}),t("div",{style:{width:"285px",background:'url("http://codegen.caihongy.cn/20201114/7856ba26477849ea828f481fa2773a95.jpg") 0% 0% / cover no-repeat',display:"none",height:"100px"}}),t("div",{style:{width:"285px",background:'url("http://codegen.caihongy.cn/20201114/7856ba26477849ea828f481fa2773a95.jpg") 0% 0% / cover no-repeat',display:"none",height:"100px"}})]),t("div",{staticClass:"recommend",style:{padding:"0px 10px 10px 10px",margin:"20px 0px 0px",borderColor:"#dbd9f4",borderRadius:"8px",background:"#fff",borderWidth:"2px 1px 1px 1px",width:"100%",borderStyle:"solid",height:"auto",order:"7"}},[t("div",{staticClass:"title",style:{width:"260px",margin:"0px auto",lineHeight:"42px",textAlign:"center",background:"url(http://codegen.caihongy.cn/20221105/bb1ea9437beb4e1da8fcd1583db2f111.png) no-repeat,radial-gradient(circle, rgba(219,217,244,1) 0%, rgba(181,177,240,1) 100%)",height:"42px"}},[t("span",{style:{color:"#333",fontSize:"22px"}},[e._v("菜谱信息推荐")])]),t("div",{staticClass:"list list3 index-pv1"},[t("div",{staticClass:"swiper-container",style:{width:"100%",padding:"10px",margin:"12px 0 0px 0",borderRadius:"8px",background:"#fff",height:"auto"},attrs:{id:"recommendcaipuxinxi"}},[t("div",{staticClass:"swiper-wrapper"},e._l(e.caipuxinxiRecommend,(function(i,a){return t("div",{key:a,staticClass:"swiper-slide animation-box",style:{border:"0",cursor:"pointer",padding:"0 0 8px 0",borderRadius:"8px",background:"rgba(242, 242, 242,.6)",fontSize:"0",position:"relative"},on:{click:function(t){return e.toDetail("caipuxinxiDetail",i)}}},[e.preHttp(i.caipufengmian)?t("img",{style:{border:"0",width:"100%",borderRadius:"8px 8px 0 0",height:"220px"},attrs:{name:i.id,src:i.caipufengmian.split(",")[0],alt:""}}):t("img",{style:{border:"0",width:"100%",borderRadius:"8px 8px 0 0",height:"220px"},attrs:{name:i.id,src:e.baseUrl+(i.caipufengmian?i.caipufengmian.split(",")[0]:""),alt:""}}),t("div",{staticClass:"line1",style:{padding:"0 10px",fontSize:"14px",lineHeight:"24px",color:"#333",background:"#f8f8fc"}},[e._v(e._s(i.caipumingcheng))]),t("div",{staticClass:"line1",style:{padding:"0 10px",fontSize:"14px",lineHeight:"24px",color:"#333",background:"#f8f8fc"}},[e._v(e._s(i.caishileixing))]),t("div",{staticClass:"line1",style:{padding:"0 10px",fontSize:"14px",lineHeight:"24px",color:"#333",background:"#f8f8fc"}},[e._v("分数:"+e._s(i.fenshu))])])})),0),t("div",{staticClass:"swiper-button-prev"}),t("div",{staticClass:"swiper-button-next"})])]),t("div",{style:{border:"0",cursor:"pointer",margin:"10px auto",borderRadius:"30%",textAlign:"center",background:"radial-gradient(circle, rgba(231,230,244,1) 0%, rgba(219,217,244,1) 100%),#dbd9f4",display:"block",width:"18%",lineHeight:"32px"},on:{click:function(t){return e.moreBtn("caipuxinxi")}}},[t("span",{style:{color:"#666",fontSize:"14px"}},[e._v("查看更多")]),t("i",{staticClass:"el-icon-d-arrow-right",style:{color:"#666",fontSize:"14px"}})]),e._e()]),t("div",{staticClass:"news",style:{margin:"20px 0 0 0",borderColor:"#dbd9f4",borderRadius:"8px",background:"#fff",borderWidth:"2px 1px 1px 1px",width:"68%",borderStyle:"solid",height:"auto",order:"4"}},[t("div",{staticClass:"title",style:{margin:"0px auto",borderRadius:"0 0 30px 30px",textAlign:"center",background:"url(http://codegen.caihongy.cn/20221105/bb1ea9437beb4e1da8fcd1583db2f111.png) no-repeat,radial-gradient(circle, rgba(219,217,244,1) 0%, rgba(181,177,240,1) 100%)",width:"260px",lineHeight:"42px",height:"42px"}},[t("span",{style:{color:"#333",fontSize:"22px"}},[e._v("公告信息")])]),e.newsList.length?t("div",{staticClass:"list list9 index-pv1",style:{width:"100%",padding:"16px 20px 0 20px",flexWrap:"wrap",background:"none",display:"flex",height:"auto"}},e._l(e.newsList,(function(i,a){return a<6?t("div",{key:a,staticClass:"new9-list-item animation-box",style:{cursor:"pointer",padding:"0 20px 8px",margin:"0px auto 0",borderColor:"#ccc",background:"#f8f8fc",borderWidth:"0 0 1px 0",width:"100%",position:"relative",borderStyle:"solid",height:"auto"},on:{click:function(t){return e.toDetail("newsDetail",i)}}},[t("div",{staticClass:"new9-list-item-title line1",style:{margin:"0 30px",whiteSpace:"nowrap",overflow:"hidden",color:"#333",background:"none",width:"86%",fontSize:"16px",lineHeight:"34px",textOverflow:"ellipsis"}},[e._v(e._s(i.title))]),t("div",{staticClass:"new9-list-item-time",style:{fontSize:"12px",lineHeight:"24px",position:"absolute",right:"10px",color:"#999",top:"4px"}},[e._v(e._s(i.addtime.split(" ")[0]))]),t("div",{staticClass:"new9-list-item-descript line2",style:{margin:"0 0 0 30px",overflow:"hidden",color:"#666",background:"none",fontSize:"14px",lineHeight:"24px",textIndent:"2em",height:"48px"}},[e._v(e._s(i.introduction))]),t("div",{staticClass:"new9-list-item-identification",style:{padding:"5px 10px",color:"#333",top:"8px",left:"8px",background:"#dbd9f4",display:"inline-block",width:"30px",fontSize:"12px",position:"absolute"}},[e._v("新闻动态")])]):e._e()})),0):e._e(),t("div",{style:{border:"0",cursor:"pointer",margin:"16px auto 0",borderRadius:"16px",textAlign:"center",background:"#dbd9f4",display:"block",width:"80px",lineHeight:"32px"},on:{click:function(t){return e.moreBtn("news")}}},[t("span",{style:{color:"#666",fontSize:"14px"}},[e._v("查看更多")]),t("i",{staticClass:"el-icon-d-arrow-right",style:{color:"#666",fontSize:"14px"}})]),e._e()])])},x=[],b=(i("e9c4"),{data(){return{baseUrl:"",aboutUsDetail:{},systemIntroductionDetail:{},newsList:[],caipuxinxiRecommend:[],Token:localStorage.getItem("Token")}},created(){this.baseUrl=this.$config.baseUrl,this.getNewsList(),this.getAboutUs(),this.getSystemIntroduction(),this.getList()},methods:{preHttp(e){return e&&"http"==e.substr(0,4)},getAboutUs(){this.$http.get("aboutus/detail/1",{}).then(e=>{0==e.data.code&&(this.aboutUsDetail=e.data.data)})},getSystemIntroduction(){this.$http.get("systemintro/detail/1",{}).then(e=>{0==e.data.code&&(this.systemIntroductionDetail=e.data.data)})},getNewsList(){this.$http.get("news/list",{params:{page:1,limit:4,sort:"addtime",order:"desc"}}).then(e=>{0==e.data.code&&(this.newsList=e.data.data.list)})},getList(){let e="";e="caipuxinxi/autoSort",localStorage.getItem("Token")&&(e="caipuxinxi/autoSort2"),this.$http.get(e,{params:{page:1,limit:10}}).then(e=>{if(0==e.data.code){this.caipuxinxiRecommend=e.data.data.list;let t={observer:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},observeParents:!0,loop:!0,slidesPerView:"5",speed:500,spaceBetween:20,autoplay:{delay:3e3,disableOnInteraction:!1},pagination:{el:"null"}};t.slidesPerView&&(t.slidesPerView=Number(t.slidesPerView)),t.spaceBetween&&(t.spaceBetween=Number(t.spaceBetween)),this.$nextTick(()=>{new Swiper("#recommendcaipuxinxi",t)})}})},toDetail(e,t){this.$router.push({path:"/index/"+e,query:{detailObj:JSON.stringify(t)}})},moreBtn(e){this.$router.push({path:"/index/"+e})},goMenu(e){localStorage.getItem("Token")?this.$router.push(e):this.$router.push("/login")}}}),f=b,y=(i("7bda"),Object(u["a"])(f,m,x,!1,null,"420f0456",null)),v=y.exports,w=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"container",style:{minHeight:"100vh",alignItems:"center",backgroundImage:"url(http://codegen.caihongy.cn/20221026/dfa16b1e27da4aacaf5408c8a8adddab.png)",display:"flex",width:"100%",backgroundSize:"100% 100%",backgroundPosition:"center center",backgroundRepeat:"no-repeat",justifyContent:"center"}},[t("el-form",{ref:"loginForm",style:{padding:"40px 20px 20px",margin:"0",borderRadius:"10px",top:"0",background:"#fff",width:"570px",position:"absolute",right:"0",height:"100%"},attrs:{model:e.loginForm,rules:e.rules}},[t("div",{style:{width:"100%",margin:"150px  0 0 0",lineHeight:"1.5",fontSize:"32px",color:"rgba(51,51,51,1)",textAlign:"center"}},[e._v("USER / LOGIN")]),t("div",{style:{width:"100%",margin:"20px 0",lineHeight:"1.5",fontSize:"24px",color:"#ab85d3",textAlign:"center"}},[e._v("智能菜谱推荐系统登录")]),1==e.loginType?t("el-form-item",{staticClass:"list-item",style:{width:"80%",margin:"50px auto",borderColor:"#ab85d3",borderStyle:"solid",borderWidth:"0 0  1px 0"},attrs:{prop:"username"}},[t("div",{style:{width:"20%",lineHeight:"44px",fontSize:"14px",color:"#000",textAlign:"center",display:"inline-block"}},[e._v("账号")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.loginForm.username,expression:"loginForm.username"}],style:{border:"0",padding:"0 10px",color:"#999",display:"inline-block",width:"70%",fontSize:"14px",height:"44px"},attrs:{placeholder:"请输入账号"},domProps:{value:e.loginForm.username},on:{input:function(t){t.target.composing||e.$set(e.loginForm,"username",t.target.value)}}})]):e._e(),1==e.loginType?t("el-form-item",{staticClass:"list-item",style:{width:"80%",margin:"50px auto",borderColor:"#ab85d3",borderStyle:"solid",borderWidth:"0 0  1px 0"},attrs:{prop:"password"}},[t("div",{style:{width:"20%",lineHeight:"44px",fontSize:"14px",color:"#000",textAlign:"center",display:"inline-block"}},[e._v("密码")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.loginForm.password,expression:"loginForm.password"}],style:{border:"0",padding:"0 10px",color:"#999",display:"inline-block",width:"70%",fontSize:"14px",height:"44px"},attrs:{placeholder:"请输入密码",type:"password"},domProps:{value:e.loginForm.password},on:{input:function(t){t.target.composing||e.$set(e.loginForm,"password",t.target.value)}}})]):e._e(),e.roles.length>1?t("el-form-item",{staticClass:"list-type",style:{width:"80%",margin:"20px auto"},attrs:{prop:"role"}},e._l(e.roles,(function(i,a){return t("el-radio",{key:a,attrs:{label:i.tableName},nativeOn:{change:function(t){return e.getCurrentRow(i)}},model:{value:e.loginForm.tableName,callback:function(t){e.$set(e.loginForm,"tableName",t)},expression:"loginForm.tableName"}},[e._v(e._s(i.roleName))])})),1):e._e(),t("el-form-item",{style:{width:"80%",margin:"20px auto"}},[1==e.loginType?t("el-button",{style:{border:"0",cursor:"pointer",padding:"0 24px",margin:"10px 20px",outline:"none",color:"#666",borderRadius:"10px",background:"linear-gradient(90deg, rgba(255,233,100,1) 0%, rgba(194,248,126,1) 29%, rgba(181,233,252,1) 61%, rgba(246,172,218,1) 100%)",width:"40%",fontSize:"18px",height:"44px"},on:{click:function(t){return e.submitForm("loginForm")}}},[e._v("登录")]):e._e(),1==e.loginType?t("el-button",{style:{border:"2px solid #494592",cursor:"pointer",padding:"0 24px",margin:"10px 20px",outline:"none",color:"#000",borderRadius:"10px",background:"none",width:"40%",fontSize:"14px",height:"44px"},on:{click:function(t){return e.resetForm("loginForm")}}},[e._v("重置")]):e._e()],1),t("div",{style:{width:"80%",margin:"20px auto"}},e._l(e.roles,(function(i,a){return i.hasFrontRegister?t("router-link",{key:a,style:{cursor:"pointer",margin:"0 5px",fontSize:"14px",textDecoration:"none",color:"#706bae",background:"#fff"},attrs:{to:{path:"/register",query:{role:i.tableName,pageFlag:"register"}}}},[e._v("注册"+e._s(i.roleName.replace("注册","")))]):e._e()})),1)],1)],1)])},S=[],k={data(){return{baseUrl:this.$config.baseUrl,loginType:1,roleMenus:[],loginForm:{username:"",password:"",tableName:"",code:""},role:"",roles:[],rules:{username:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},codes:[{num:1,color:"#000",rotate:"10deg",size:"16px"},{num:2,color:"#000",rotate:"10deg",size:"16px"},{num:3,color:"#000",rotate:"10deg",size:"16px"},{num:4,color:"#000",rotate:"10deg",size:"16px"}]}},components:{},created(){for(let e in this.roleMenus)this.roleMenus[e]&&this.roleMenus[e].hasFrontLogin&&this.roles.push(this.roleMenus[e])},mounted(){},methods:{randomString(){for(var e=4,t=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","0","1","2","3","4","5","6","7","8","9"],i=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],a=["14","15","16","17","18"],r=0;r<e;r++){var s=Math.floor(Math.random()*t.length);this.codes[r].num=t[s];for(var o="#",n=0;n<6;n++){s=Math.floor(Math.random()*i.length);o+=i[s]}this.codes[r].color=o;var l=Math.floor(45*Math.random()),d=Math.floor(2*Math.random());1==d&&(l="-"+l),this.codes[r].rotate="rotate("+l+"deg)";var p=Math.floor(Math.random()*a.length);this.codes[r].size=a[p]+"px"}},getCurrentRow(e){this.role=e.roleName},submitForm(e){if(1!=this.roles.length){if(!this.role)return this.$message.error("请选择登录用户类型"),!1}else this.role=this.roles[0].roleName,this.loginForm.tableName=this.roles[0].tableName;this.$refs[e].validate(e=>{if(!e)return!1;this.$http.get(this.loginForm.tableName+"/login",{params:this.loginForm}).then(e=>{0===e.data.code?(localStorage.setItem("Token",e.data.token),localStorage.setItem("UserTableName",this.loginForm.tableName),localStorage.setItem("username",this.loginForm.username),localStorage.setItem("adminName",this.loginForm.username),localStorage.setItem("sessionTable",this.loginForm.tableName),localStorage.setItem("role",this.role),localStorage.setItem("keyPath",this.$config.indexNav.length+2),this.$http.get(this.loginForm.tableName+"/session").then(e=>{e.data&&e.data.data&&localStorage.setItem("userid",e.data.data.id),this.$router.push("/index/center"),this.$message({message:"登录成功",type:"success",duration:1500})})):this.$message.error(e.data.msg)})})},resetForm(e){this.$refs[e].resetFields()}}},C=k,z=(i("7ddd"),Object(u["a"])(C,w,S,!1,null,"4276e2da",null)),F=z.exports,_=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"container",style:{minHeight:"100vh",backgroundColor:"0",alignItems:"center",backgroundImage:"url(http://codegen.caihongy.cn/20221026/dfa16b1e27da4aacaf5408c8a8adddab.png)",display:"flex",width:"100%",backgroundSize:"100% 100%",backgroundPosition:"center center",backgroundRepeat:"no-repeat",justifyContent:"center"}},["register"==e.pageFlag?t("el-form",{ref:"registerForm",staticClass:"rgs-form",style:{padding:"0",margin:"0",borderRadius:"10px",top:"0",background:"#fff",width:"570px",position:"absolute",right:"0",height:"100%"},attrs:{model:e.registerForm,rules:e.rules}},[t("div",{style:{width:"100%",margin:"20px  0 0 0",lineHeight:"1.5",fontSize:"32px",color:"rgba(51, 51, 51, 1)",textAlign:"center"}},[e._v("USER / REGISTER")]),t("div",{style:{width:"100%",margin:"0px 0",lineHeight:"1.5",fontSize:"24px",color:"#ab85d3",textAlign:"center"}},[e._v("智能菜谱推荐系统注册")]),"yonghu"==e.tableName?t("el-form-item",{style:{width:"80%",padding:"0",margin:"0px auto 26px"},attrs:{prop:"zhanghao"}},[e._e(),t("el-input",{attrs:{placeholder:"请输入账号"},model:{value:e.registerForm.zhanghao,callback:function(t){e.$set(e.registerForm,"zhanghao",t)},expression:"registerForm.zhanghao"}})],1):e._e(),"yonghu"==e.tableName?t("el-form-item",{style:{width:"80%",padding:"0",margin:"0px auto 26px"},attrs:{prop:"mima"}},[e._e(),t("el-input",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:e.registerForm.mima,callback:function(t){e.$set(e.registerForm,"mima",t)},expression:"registerForm.mima"}})],1):e._e(),"yonghu"==e.tableName?t("el-form-item",{style:{width:"80%",padding:"0",margin:"0px auto 26px"},attrs:{prop:"mima"}},[e._e(),t("el-input",{attrs:{type:"password",placeholder:"请再次输入密码"},model:{value:e.registerForm.mima2,callback:function(t){e.$set(e.registerForm,"mima2",t)},expression:"registerForm.mima2"}})],1):e._e(),"yonghu"==e.tableName?t("el-form-item",{style:{width:"80%",padding:"0",margin:"0px auto 26px"},attrs:{prop:"xingming"}},[e._e(),t("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:e.registerForm.xingming,callback:function(t){e.$set(e.registerForm,"xingming",t)},expression:"registerForm.xingming"}})],1):e._e(),"yonghu"==e.tableName?t("el-form-item",{style:{width:"80%",padding:"0",margin:"0px auto 26px"},attrs:{prop:"xingbie"}},[e._e(),e._e(),t("el-select",{attrs:{placeholder:"请选择性别"},model:{value:e.registerForm.xingbie,callback:function(t){e.$set(e.registerForm,"xingbie",t)},expression:"registerForm.xingbie"}},e._l(e.yonghuxingbieOptions,(function(e,i){return t("el-option",{key:i,attrs:{label:e,value:e}})})),1)],1):e._e(),"yonghu"==e.tableName?t("el-form-item",{style:{width:"80%",padding:"0",margin:"0px auto 26px"},attrs:{prop:"youxiang"}},[e._e(),t("el-input",{attrs:{placeholder:"请输入邮箱"},model:{value:e.registerForm.youxiang,callback:function(t){e.$set(e.registerForm,"youxiang",t)},expression:"registerForm.youxiang"}})],1):e._e(),"yonghu"==e.tableName?t("el-form-item",{style:{width:"80%",padding:"0",margin:"0px auto 26px"},attrs:{prop:"shoujihaoma"}},[e._e(),t("el-input",{attrs:{placeholder:"请输入手机号"},model:{value:e.registerForm.shoujihaoma,callback:function(t){e.$set(e.registerForm,"shoujihaoma",t)},expression:"registerForm.shoujihaoma"}})],1):e._e(),"yonghu"==e.tableName?t("el-form-item",{style:{width:"80%",padding:"0",margin:"0px auto 26px"},attrs:{prop:"touxiang"}},[e._e(),t("file-upload",{attrs:{tip:"点击上传头像",action:"file/upload",limit:1,multiple:!0,fileUrls:e.registerForm.touxiang?e.registerForm.touxiang:""},on:{change:e.yonghutouxiangUploadChange}})],1):e._e(),t("el-button",{style:{border:"0",cursor:"pointer",padding:"0 10px",margin:"20px auto 5px",outline:"none",color:"#666",borderRadius:"8px",background:"linear-gradient(90deg, rgba(255,233,100,1) 0%, rgba(194,248,126,1) 29%, rgba(181,233,252,1) 61%, rgba(246,172,218,1) 100%)",display:"block",width:"80%",fontSize:"20px",height:"44px"},attrs:{type:"primary"},on:{click:function(t){return e.submitForm("registerForm")}}},[e._v("注册")]),t("el-button",{style:{border:"2px solid #494592",cursor:"pointer",padding:"0 10px",margin:"20px auto 5px",outline:"none",color:"#000",borderRadius:"8px",background:"0",display:"block",width:"80%",fontSize:"16px",height:"44px"},on:{click:function(t){return e.resetForm("registerForm")}}},[e._v("重置")]),t("router-link",{style:{cursor:"pointer",padding:"0 10%",color:"rgba(159, 159, 159, 1)",display:"inline-block",lineHeight:"1",fontSize:"12px",textDecoration:"none"},attrs:{to:"/login"}},[e._v("已有账户登录")])],1):e._e()],1)])},A=[],I={data(){return{pageFlag:"",tableName:"",registerForm:{xingbie:""},rules:{},yonghuxingbieOptions:[]}},mounted(){},created(){this.pageFlag=this.$route.query.pageFlag,this.tableName=this.$route.query.role,"yonghu"==this.tableName&&(this.rules.zhanghao=[{required:!0,message:"请输入账号",trigger:"blur"}]),"yonghu"==this.tableName&&(this.rules.mima=[{required:!0,message:"请输入密码",trigger:"blur"}]),"yonghu"==this.tableName&&(this.rules.xingming=[{required:!0,message:"请输入姓名",trigger:"blur"}]),this.yonghuxingbieOptions=["男","女"],"yonghu"==this.tableName&&(this.rules.youxiang=[{required:!0,validator:this.$validate.isEmail,trigger:"blur"}]),"yonghu"==this.tableName&&(this.rules.shoujihaoma=[{required:!0,validator:this.$validate.isMobile,trigger:"blur"}])},methods:{getUUID(){return(new Date).getTime()},yonghutouxiangUploadChange(e){this.registerForm.touxiang=e.replace(new RegExp(this.$config.baseUrl,"g"),"")},submitForm(e){this.$refs[e].validate(e=>{if(!e)return!1;var t=this.tableName+"/register";"yonghu"!=this.tableName||this.registerForm.mima==this.registerForm.mima2?this.$http.post(t,this.registerForm).then(e=>{0===e.data.code?this.$message({message:"注册成功",type:"success",duration:1500,onClose:()=>{this.$router.push("/login")}}):this.$message.error(e.data.msg)}):this.$message.error("两次密码输入不一致")})},resetForm(e){this.$refs[e].resetFields()}}},T=I,N=(i("c94c"),Object(u["a"])(T,_,A,!1,null,"5a3f5a62",null)),R=N.exports,D=function(){var e=this,t=e._self._c;return t("div",{staticClass:"center-preview",style:{width:"1200px",margin:"10px auto",position:"relative",background:"none"}},[t("div",{staticClass:"title",style:{padding:"20px 0",margin:"0px 0 10px",borderColor:"#cbc9ea",color:"#333",borderRadius:"8px",textAlign:"center",background:"radial-gradient(circle, rgba(231,230,244,1) 0%, rgba(219,217,244,1) 100%)",borderWidth:"1px 2px 4px 2px",fontSize:"20px",lineHeight:"24px",borderStyle:"solid"}},[e._v(e._s(e.title))]),t("el-tabs",{style:{border:"2px solid #dbd9f4",padding:"20px",margin:"8px 4px 4px 4px",borderRadius:"16px",background:"#fff"},attrs:{"tab-position":"left"},on:{"tab-click":e.handleClick}},[t("el-tab-pane",{attrs:{label:"个人中心"}},[t("el-form",{ref:"sessionForm",staticClass:"center-preview-pv",attrs:{model:e.sessionForm,rules:e.rules,"label-width":"80px"}},["yonghu"==e.userTableName?t("el-form-item",{style:{width:"80%",padding:"10px",margin:"4px auto",background:"none"},attrs:{label:"账号",prop:"zhanghao"}},[t("el-input",{attrs:{placeholder:"账号",readonly:""},model:{value:e.sessionForm.zhanghao,callback:function(t){e.$set(e.sessionForm,"zhanghao",t)},expression:"sessionForm.zhanghao"}})],1):e._e(),"yonghu"==e.userTableName?t("el-form-item",{style:{width:"80%",padding:"10px",margin:"4px auto",background:"none"},attrs:{label:"密码",prop:"mima"}},[t("el-input",{attrs:{type:"password",placeholder:"密码"},model:{value:e.sessionForm.mima,callback:function(t){e.$set(e.sessionForm,"mima",t)},expression:"sessionForm.mima"}})],1):e._e(),"yonghu"==e.userTableName?t("el-form-item",{style:{width:"80%",padding:"10px",margin:"4px auto",background:"none"},attrs:{label:"姓名",prop:"xingming"}},[t("el-input",{attrs:{placeholder:"姓名"},model:{value:e.sessionForm.xingming,callback:function(t){e.$set(e.sessionForm,"xingming",t)},expression:"sessionForm.xingming"}})],1):e._e(),"yonghu"==e.userTableName?t("el-form-item",{style:{width:"80%",padding:"10px",margin:"4px auto",background:"none"},attrs:{label:"性别"}},[t("el-select",{attrs:{placeholder:"请选择性别"},model:{value:e.sessionForm.xingbie,callback:function(t){e.$set(e.sessionForm,"xingbie",t)},expression:"sessionForm.xingbie"}},e._l(e.dynamicProp.xingbie,(function(e,i){return t("el-option",{key:i,attrs:{label:e,value:e}})})),1)],1):e._e(),"yonghu"==e.userTableName?t("el-form-item",{style:{width:"80%",padding:"10px",margin:"4px auto",background:"none"},attrs:{label:"邮箱",prop:"youxiang"}},[t("el-input",{attrs:{placeholder:"邮箱"},model:{value:e.sessionForm.youxiang,callback:function(t){e.$set(e.sessionForm,"youxiang",t)},expression:"sessionForm.youxiang"}})],1):e._e(),"yonghu"==e.userTableName?t("el-form-item",{style:{width:"80%",padding:"10px",margin:"4px auto",background:"none"},attrs:{label:"手机号码",prop:"shoujihaoma"}},[t("el-input",{attrs:{placeholder:"手机号码"},model:{value:e.sessionForm.shoujihaoma,callback:function(t){e.$set(e.sessionForm,"shoujihaoma",t)},expression:"sessionForm.shoujihaoma"}})],1):e._e(),"yonghu"==e.userTableName?t("el-form-item",{style:{width:"80%",padding:"10px",margin:"4px auto",background:"none"},attrs:{label:"头像"}},[t("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.uploadUrl,headers:e.headers,"show-file-list":!1,"on-success":e.yonghutouxiangHandleAvatarSuccess}},[e.sessionForm.touxiang?t("img",{staticClass:"avatar",style:{border:"1px solid #dbd9f4",cursor:"pointer",color:"#b3aeea",borderRadius:"30px",textAlign:"center",width:"200px",fontSize:"32px",lineHeight:"120px"},attrs:{src:e.baseUrl+e.sessionForm.touxiang}}):t("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1):e._e(),t("el-form-item",{style:{padding:"0",margin:"16px 0 0 0",justifyContent:"center",display:"flex"}},[t("el-button",{style:{border:"0",cursor:"pointer",padding:"0",margin:"0 10px",outline:"none",color:"#000",borderRadius:"10px",background:"linear-gradient(90deg, rgba(255,233,100,1) 0%, rgba(194,248,126,1) 29%, rgba(181,233,252,1) 61%, rgba(246,172,218,1) 100%)",width:"120px",lineHeight:"40px",fontSize:"14px",height:"40px"},attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("sessionForm")}}},[e._v("更新信息")]),t("el-button",{style:{border:"1px solid #ab85d3",cursor:"pointer",padding:"0",margin:"0 10px",outline:"none",color:"#666",borderRadius:"10px",background:"0",width:"120px",lineHeight:"40px",fontSize:"14px",height:"40px"},attrs:{type:"danger"},on:{click:e.logout}},[e._v("退出登录")])],1)],1),t("el-dialog",{attrs:{title:"用户充值",visible:e.dialogFormVisibleMoney,width:"726px",center:""},on:{"update:visible":function(t){e.dialogFormVisibleMoney=t}}},[t("el-form",{attrs:{model:e.chongzhiForm}},[t("el-form-item",{attrs:{label:"充值金额","label-width":"120px"}},[t("el-input",{attrs:{type:"number",autocomplete:"off",placeholder:"充值金额"},model:{value:e.chongzhiForm.money,callback:function(t){e.$set(e.chongzhiForm,"money",t)},expression:"chongzhiForm.money"}})],1),t("el-form-item",{attrs:{"label-width":"120px"}},[t("el-radio-group",{model:{value:e.chongzhiForm.radio,callback:function(t){e.$set(e.chongzhiForm,"radio",t)},expression:"chongzhiForm.radio"}},[t("el-radio",{staticStyle:{"margin-bottom":"30px"},attrs:{label:"微信支付"}},[t("el-image",{staticStyle:{width:"60px",height:"60px","vertical-align":"middle"},attrs:{src:i("6ed4"),fit:"fill"}}),t("span",{staticStyle:{display:"inline-block","margin-left":"10px"}},[e._v("微信支付")])],1),t("el-radio",{attrs:{label:"支付宝支付"}},[t("el-image",{staticStyle:{width:"60px",height:"60px","vertical-align":"middle"},attrs:{src:i("cf28"),fit:"fill"}}),t("span",{staticStyle:{display:"inline-block","margin-left":"10px"}},[e._v("支付宝支付")])],1),t("el-radio",{attrs:{label:"中国建设银行支付"}},[t("el-image",{staticStyle:{width:"120px",height:"60px","vertical-align":"middle"},attrs:{src:i("4c15"),fit:"fill"}})],1),t("el-radio",{attrs:{label:"中国农业银行支付"}},[t("el-image",{staticStyle:{width:"126px",height:"60px","vertical-align":"middle"},attrs:{src:i("5c2e"),fit:"fill"}})],1),t("el-radio",{attrs:{label:"中国银行支付"}},[t("el-image",{staticStyle:{width:"140px",height:"60px","vertical-align":"middle"},attrs:{src:i("c4bc"),fit:"fill"}})],1),t("el-radio",{attrs:{label:"交通银行支付"}},[t("el-image",{staticStyle:{width:"120px",height:"60px","vertical-align":"middle"},attrs:{src:i("64a2"),fit:"fill"}})],1)],1)],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.dialogFormVisibleMoney=!1}}},[e._v("取消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.chongzhi}},[e._v("确认充值")])],1)],1),t("el-dialog",{attrs:{title:"会员购买",visible:e.dialogFormVisibleVip,width:"726px",center:""},on:{"update:visible":function(t){e.dialogFormVisibleVip=t}}},[t("el-form",{attrs:{model:e.chongzhiForm}},[t("el-form-item",{attrs:{label:"会员价","label-width":"120px"}},[t("el-input",{attrs:{readonly:"",autocomplete:"off",value:"¥99/年"}})],1),t("el-form-item",{attrs:{"label-width":"120px"}},[t("el-radio-group",{model:{value:e.chongzhiForm.radio,callback:function(t){e.$set(e.chongzhiForm,"radio",t)},expression:"chongzhiForm.radio"}},[t("el-radio",{staticStyle:{"margin-bottom":"30px"},attrs:{label:"微信支付"}},[t("el-image",{staticStyle:{width:"60px",height:"60px","vertical-align":"middle"},attrs:{src:i("6ed4"),fit:"fill"}}),t("span",{staticStyle:{display:"inline-block","margin-left":"10px"}},[e._v("微信支付")])],1),t("el-radio",{attrs:{label:"支付宝支付"}},[t("el-image",{staticStyle:{width:"60px",height:"60px","vertical-align":"middle"},attrs:{src:i("cf28"),fit:"fill"}}),t("span",{staticStyle:{display:"inline-block","margin-left":"10px"}},[e._v("支付宝支付")])],1),t("el-radio",{attrs:{label:"中国建设银行支付"}},[t("el-image",{staticStyle:{width:"120px",height:"60px","vertical-align":"middle"},attrs:{src:i("4c15"),fit:"fill"}})],1),t("el-radio",{attrs:{label:"中国农业银行支付"}},[t("el-image",{staticStyle:{width:"126px",height:"60px","vertical-align":"middle"},attrs:{src:i("5c2e"),fit:"fill"}})],1),t("el-radio",{attrs:{label:"中国银行支付"}},[t("el-image",{staticStyle:{width:"140px",height:"60px","vertical-align":"middle"},attrs:{src:i("c4bc"),fit:"fill"}})],1),t("el-radio",{attrs:{label:"交通银行支付"}},[t("el-image",{staticStyle:{width:"120px",height:"60px","vertical-align":"middle"},attrs:{src:i("64a2"),fit:"fill"}})],1)],1)],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.dialogFormVisibleVip=!1}}},[e._v("取消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.chongzhivip}},[e._v("确认支付")])],1)],1)],1),t("el-tab-pane",{attrs:{label:"我的收藏"}})],1)],1)},U=[],$={baseUrl:"http://localhost:8081/springbootct3p7/",indexNav:[{name:"首页",url:"/index/home"},{name:"菜谱信息",url:"/index/caipuxinxi"},{name:"公告信息",url:"/index/news"},{name:"留言信息",url:"/index/messages"}]},H={data(){return{title:"个人中心",baseUrl:$.baseUrl,sessionForm:{},rules:{},chongzhiForm:{money:"",radio:""},disabled:!1,dialogFormVisibleMoney:!1,dialogFormVisibleVip:!1,uploadUrl:$.baseUrl+"file/upload",imageUrl:"",headers:{Token:localStorage.getItem("Token")},userTableName:localStorage.getItem("UserTableName"),dynamicProp:{}}},created(){"yonghu"==this.userTableName&&this.$set(this.sessionForm,"zhanghao",null),"yonghu"==this.userTableName&&this.$set(this.sessionForm,"mima",null),"yonghu"==this.userTableName&&this.$set(this.sessionForm,"xingming",null),"yonghu"==this.userTableName&&this.$set(this.sessionForm,"xingbie",null),"yonghu"==this.userTableName&&this.$set(this.sessionForm,"youxiang",null),"yonghu"==this.userTableName&&this.$set(this.sessionForm,"shoujihaoma",null),"yonghu"==this.userTableName&&this.$set(this.sessionForm,"touxiang",null),"yonghu"==this.userTableName&&this.$set(this.rules,"zhanghao",[{required:!0,message:"请输入账号",trigger:"blur"}]),"yonghu"==this.userTableName&&this.$set(this.rules,"mima",[{required:!0,message:"请输入密码",trigger:"blur"}]),"yonghu"==this.userTableName&&this.$set(this.rules,"xingming",[{required:!0,message:"请输入姓名",trigger:"blur"}]),"yonghu"==this.userTableName&&this.$set(this.rules,"youxiang",[{required:!1,validator:this.$validate.isEmail,trigger:"blur"}]),"yonghu"==this.userTableName&&this.$set(this.rules,"shoujihaoma",[{required:!1,validator:this.$validate.isMobile,trigger:"blur"}]),this.init(),this.getSession()},methods:{init(){"yonghu"==this.userTableName&&(this.dynamicProp.xingbie=["男","女"])},getSession(){this.$http.get(this.userTableName+"/session",{emulateJSON:!0}).then(e=>{0==e.data.code&&(this.sessionForm=e.data.data,localStorage.setItem("userid",e.data.data.id),e.data.data.vip&&localStorage.setItem("vip",e.data.data.vip),e.data.data.touxiang?localStorage.setItem("headportrait",e.data.data.touxiang):e.data.data.headportrait&&localStorage.setItem("headportrait",e.data.data.headportrait))})},onSubmit(e){this.$refs[e].validate(e=>{if(!e)return!1;this.$http.post(this.userTableName+"/update",this.sessionForm).then(e=>{0==e.data.code&&this.$message({message:"更新成功",type:"success",duration:1500})})})},yonghutouxiangHandleAvatarSuccess(e,t){0==e.code&&"yonghu"==this.userTableName&&(this.sessionForm.touxiang="upload/"+e.file)},chongzhi(){""!==this.chongzhiForm.money&&null!==this.chongzhiForm.money?this.chongzhiForm.money<=0?this.$message({message:"请输入正确的充值金额",type:"error",duration:1500}):""!==this.chongzhiForm.radio?(this.sessionForm.money=(parseInt(this.sessionForm.money)||0)+parseInt(this.chongzhiForm.money),this.$http.post(this.userTableName+"/update",this.sessionForm).then(e=>{0==e.data.code&&this.$message({message:"充值成功",type:"success",duration:1500,onClose:()=>{this.dialogFormVisibleMoney=!1}})})):this.$message({message:"请选择充值方式",type:"error",duration:1500}):this.$message({message:"请输入充值金额",type:"error",duration:1500})},chongzhivip(){this.chongzhiForm.money=199,""!==this.chongzhiForm.radio?this.sessionForm.vip?this.$message({message:"您已是我们的尊贵会员",type:"success",duration:1500}):(this.sessionForm.vip="1",this.$http.post(this.userTableName+"/update",this.sessionForm).then(e=>{0==e.data.code&&this.$message({message:"会员购买成功",type:"success",duration:1500,onClose:()=>{localStorage.setItem("vip",this.sessionForm.vip),this.dialogFormVisibleVip=!1}})})):this.$message({message:"请选择支付方式",type:"error",duration:1500})},handleClick(e,t){switch(t.target.outerText){case"个人中心":e.$router.push("/index/center");break;case"我的收藏":localStorage.setItem("storeupType",1),e.$router.push("/index/storeup");break}this.title=t.target.outerText},logout(){localStorage.clear(),a["default"].http.headers.common["Token"]="",this.$router.push("/index/home"),this.activeIndex="0",localStorage.setItem("keyPath",this.activeIndex),this.$forceUpdate(),this.$message({message:"登出成功",type:"success",duration:1500})}}},j=H,L=(i("63d0"),Object(u["a"])(j,D,U,!1,null,"eee3b684",null)),O=L.exports,W=function(){var e=this,t=e._self._c;return t("div",{style:{border:"2px solid #dbd9f4",padding:"20px",margin:"10px auto",borderRadius:"8px",background:"#fff",width:"1200px",position:"relative"}},[t("div",{staticClass:"section-title",style:{padding:"20px 0",margin:"0px 0 10px",borderColor:"#cbc9ea",color:"#333",borderRadius:"8px",textAlign:"center",background:"radial-gradient(circle, rgba(231,230,244,1) 0%, rgba(219,217,244,1) 100%)",borderWidth:"1px 2px 4px 2px",fontSize:"20px",lineHeight:"24px",borderStyle:"solid"}},[e._v("留言信息")]),t("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"65px","label-position":"left"}},[t("el-form-item",{attrs:{label:"留言",prop:"content"}},[t("el-input",{attrs:{type:"textarea",rows:5,placeholder:"请输入内容"},model:{value:e.form.content,callback:function(t){e.$set(e.form,"content",t)},expression:"form.content"}})],1),t("el-form-item",{attrs:{label:"图片",prop:"cpicture"}},[t("file-upload",{attrs:{tip:"点击上传图片",action:"file/upload",limit:1,multiple:!0,fileUrls:e.form.cpicture?e.form.cpicture:""},on:{change:e.cpictureUploadChange}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("form")}}},[e._v("立即提交")]),t("el-button",{on:{click:function(t){return e.resetForm("form")}}},[e._v("重置")])],1)],1),t("div",{staticClass:"section-content"},e._l(e.infoList,(function(a){return t("span",{key:a.id},[t("div",{staticClass:"header-block"},[a.avatarurl?t("el-avatar",{attrs:{size:50,src:e.$config.baseUrl+a.avatarurl}}):e._e(),a.avatarurl?e._e():t("el-avatar",{attrs:{size:50,src:i("c657")}}),t("span",{staticClass:"userinfo"},[e._v("用户："+e._s(a.username))])],1),t("div",{staticClass:"content-block-ask"},[e._v(" "+e._s(a.content)+" ")]),a.cpicture?t("div",{staticClass:"content",staticStyle:{margin:"0",flex:"1"}},[t("img",{staticStyle:{"max-width":"300px","max-height":"300px",border:"2px solid #EEEEEE",margin:"8px 0 0 50px"},attrs:{src:e.$config.baseUrl+a.cpicture}})]):e._e(),a.reply?t("div",{staticClass:"content-block-reply"},[e._v(" 回复："+e._s(a.reply)+" ")]):e._e(),a.rpicture?t("div",{staticClass:"content",staticStyle:{margin:"0",flex:"1"}},[t("img",{staticStyle:{"max-width":"300px","max-height":"300px",border:"2px solid #EEEEEE",margin:"8px 0 0 50px"},attrs:{src:e.$config.baseUrl+a.rpicture}})]):e._e(),t("el-divider")],1)})),0),t("el-pagination",{staticClass:"pagination",style:{width:"1200px",padding:"0",margin:"20px auto",whiteSpace:"nowrap",color:"#333",fontWeight:"500"},attrs:{background:"","pager-count":7,"page-size":e.pageSize,"page-sizes":e.pageSizes,"prev-text":"<","next-text":">","hide-on-single-page":!0,layout:["total","prev","pager","next","sizes","jumper"].join(),total:e.total},on:{"current-change":e.curChange,"prev-click":e.prevClick,"next-click":e.nextClick}})],1)},E=[],M={data(){return{layouts:"",form:{content:"",userid:localStorage.getItem("userid"),username:localStorage.getItem("username")},total:1,pageSize:20,pageSizes:[10,20,30,50],totalPage:1,rules:{content:[{required:!0,message:"请输入内容",trigger:"blur"}]},infoList:[]}},created(){this.getInfo(1)},methods:{getInfo(e){this.$http.get("messages/list",{params:{page:e,limit:this.pageSize,sort:"addtime",order:"desc"}}).then(e=>{0==e.data.code&&(this.infoList=e.data.data.list,this.total=e.data.data.total,this.pageSize=e.data.data.pageSize,this.pageSizes=[this.pageSize,2*this.pageSize,3*this.pageSize,5*this.pageSize],this.totalPage=e.data.data.totalPage)})},curChange(e){this.getInfo(e)},prevClick(e){this.getInfo(e)},nextClick(e){this.getInfo(e)},cpictureUploadChange(e){this.form.cpicture=e},submitForm(e){this.$refs[e].validate(e=>{if(!e)return!1;{null!=this.form.cpicture&&(this.form.cpicture=this.form.cpicture.replace(new RegExp(this.$config.baseUrl,"g"),"")),this.form.avatarurl=localStorage.getItem("headportrait")?localStorage.getItem("headportrait"):"";let e="",a=[];e&&(a=e.split(","));for(var t=0;t<a.length;t++){var i=new RegExp(a[t],"g");this.form.content.indexOf(a[t])>-1&&(this.form.content=this.form.content.replace(i,"**"))}this.$http.post("messages/add",this.form).then(e=>{0==e.data.code&&this.$message({type:"success",message:"留言成功!",duration:1500,onClose:()=>{this.form.content="",this.getInfo(1)}})})}})},resetForm(e){this.$refs[e].resetFields()}}},q=M,P=(i("ddeb"),Object(u["a"])(q,W,E,!1,null,"e87c0b2c",null)),B=P.exports,Q=function(){var e=this,t=e._self._c;return t("div",{style:{border:"2px solid #dbd9f4",padding:"20px",margin:"10px auto",borderRadius:"8px",background:"#fff",width:"1200px",position:"relative"}},[t("el-button",{staticClass:"el-icon-back",style:{border:"0",cursor:"pointer",padding:"0 10px",margin:"5px 10px",outline:"none",color:"#666",borderRadius:"4px",background:"linear-gradient(90deg, rgba(255,233,100,1) 0%, rgba(194,248,126,1) 29%, rgba(181,233,252,1) 61%, rgba(246,172,218,1) 100%)",width:"auto",lineHeight:"40px",fontSize:"14px",height:"15%"},attrs:{type:"warning",size:"mini"},on:{click:e.backClick}},[e._v("返回")]),1==e.storeupType?t("div",{staticClass:"section-title",style:{padding:"20px 0",margin:"0px 0 10px",borderColor:"#cbc9ea",color:"#333",borderRadius:"8px",textAlign:"center",background:"radial-gradient(circle, rgba(231,230,244,1) 0%, rgba(219,217,244,1) 100%)",borderWidth:"1px 2px 4px 2px",fontSize:"20px",lineHeight:"24px",borderStyle:"solid"}},[e._v("我的收藏")]):e._e(),t("el-form",{staticClass:"formSearch",attrs:{inline:!0,model:e.formSearch}},[t("el-form-item",[t("el-input",{attrs:{placeholder:"名称"},model:{value:e.formSearch.name,callback:function(t){e.$set(e.formSearch,"name",t)},expression:"formSearch.name"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.getStoreupList(1)}}},[e._v("查询")])],1)],1),t("el-row",{attrs:{gutter:20}},e._l(e.storeupList,(function(i,a){return t("el-col",{key:a,attrs:{span:6},nativeOn:{click:function(t){return e.toDetail(i)}}},[t("el-card",{attrs:{"body-style":{padding:"0px",cursor:"pointer"}}},[i.picture&&"http"==i.picture.substr(0,4)?t("el-image",{staticClass:"image",attrs:{src:i.picture,fit:"fill"}}):t("el-image",{staticClass:"image",attrs:{src:e.baseUrl+i.picture,fit:"fill"}}),t("div",{staticStyle:{padding:"14px"}},[i.remark?t("span",[e._v(e._s(i.name))]):e._e(),i.remark?e._e():t("span",[e._v(e._s(i.name))])])],1)],1)})),1),t("el-pagination",{staticClass:"pagination",style:{width:"1200px",padding:"0",margin:"20px auto",whiteSpace:"nowrap",color:"#333",fontWeight:"500"},attrs:{background:"","pager-count":7,"page-size":e.pageSize,"page-sizes":e.pageSizes,"prev-text":"<","next-text":">","hide-on-single-page":!0,layout:["total","prev","pager","next","sizes","jumper"].join(),total:e.total},on:{"current-change":e.curChange,"prev-click":e.prevClick,"next-click":e.nextClick}})],1)},J=[],V={data(){return{layouts:"",baseUrl:$.baseUrl,formSearch:{name:""},storeupType:1,storeupList:[],total:1,pageSize:8,pageSizes:[10,20,30,50],totalPage:1}},created(){this.storeupType=localStorage.getItem("storeupType"),this.getStoreupList(1)},methods:{backClick(){this.$router.push("/index/center")},getStoreupList(e){let t={page:e,limit:this.pageSize,type:this.storeupType,userid:localStorage.getItem("userid"),sort:"addtime",order:"desc"},i={};""!=this.formSearch.name&&(i.name="%"+this.formSearch.name+"%"),this.$http.get("storeup/list",{params:Object.assign(t,i)}).then(e=>{0==e.data.code&&(this.storeupList=e.data.data.list,this.total=e.data.data.total,this.pageSize=e.data.data.pageSize,this.pageSizes=[this.pageSize,2*this.pageSize,3*this.pageSize,5*this.pageSize],this.totalPage=e.data.data.totalPage)})},curChange(e){this.getStoreupList(e)},prevClick(e){this.getStoreupList(e)},nextClick(e){this.getStoreupList(e)},toDetail(e){this.$router.push({path:`/index/${e.tablename}Detail`,query:{storeupObj:JSON.stringify(e)}})}}},Y=V,K=(i("faca"),Object(u["a"])(Y,Q,J,!1,null,"bb6cc6e2",null)),Z=K.exports,X=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"breadcrumb-preview",style:{padding:"12px",margin:"10px auto",borderColor:"#dbd9f4",borderRadius:"8px",background:"#fff",borderWidth:"0 0 2px",width:"1200px",borderStyle:"solid"}},[t("el-breadcrumb",{style:{width:"100%",margin:"0 auto",fontSize:"14px",lineHeight:"1",display:"flex"},attrs:{separator:"Ξ"}},[t("el-breadcrumb-item",[e._v("首页")]),e._l(e.breadcrumbItem,(function(i,a){return t("el-breadcrumb-item",{key:a},[e._v(e._s(i.name))])}))],2)],1),t("div",{staticClass:"breadcrumb-preview"},[t("el-form",{staticClass:"list-form-pv",staticStyle:{"justify-content":"center",display:"flex"},attrs:{inline:!0,model:e.formSearch}},[t("div",{staticClass:"section-btn"},[t("el-form-item",[t("el-input",{attrs:{placeholder:"标题"},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}})],1),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.getNewsList(1)}}},[t("i",{staticClass:"el-icon-search"}),e._v("查询")])],1)])],1),t("div",{staticClass:"news-preview",style:{border:"2px solid #dbd9f4",width:"1200px",margin:"20px auto",position:"relative",borderRadius:"8px",background:"#fff"}},[t("div",{staticClass:"list5 index-pv1",style:{padding:"30px 20px 0px 20px",margin:"0px 0 0",flexWrap:"wrap",background:"none",display:"flex",width:"100%",height:"auto"}},e._l(e.newsList,(function(i){return t("div",{key:i.id,staticClass:"list-item animation-box",style:{cursor:"pointer",boxShadow:"0px 1px 2px #ccc",margin:"20px auto",borderRadius:"8px",background:"radial-gradient(circle, rgba(249,248,252,1) 0%, rgba(237,237,244,1) 100%),#f8f8fc",display:"flex",width:"100%",height:"200px"},on:{click:function(t){return e.toNewsDetail(i)}}},[t("el-image",{style:{margin:"0 20px",borderColor:"#fff",objectFit:"cover",borderRadius:"8px",borderWidth:"6px 6px 6px 6px",bottom:"30px",display:"inline-block",width:"320px",position:"relative",borderStyle:"solid",height:"200px"},attrs:{src:e.baseUrl+i.picture,fit:e.fill}}),t("div",{staticClass:"item-info",style:{width:"100%",padding:"10px",overflow:"hidden",background:"none",display:"inline-block",height:"auto"}},[t("div",{staticClass:"title",style:{lineHeight:"32px",fontSize:"18px",color:"#333",fontWeight:"600"}},[e._v(e._s(i.title))]),t("div",{staticClass:"introduction",style:{lineHeight:"24px",fontSize:"14px",overflow:"hidden",color:"#666",textIndent:"2em",height:"96px"}},[e._v(e._s(i.introduction))]),t("div",{staticClass:"tags",style:{padding:"0",fontSize:"14px",lineHeight:"32px",color:"#999",background:"none",display:"none"}},[e._v("新闻动态")])])],1)})),0),t("el-pagination",{staticClass:"pagination",style:{width:"1200px",padding:"0",margin:"20px auto",whiteSpace:"nowrap",color:"#333",fontWeight:"500"},attrs:{background:"","pager-count":7,"page-size":e.pageSize,"page-sizes":e.pageSizes,"prev-text":"<","next-text":">","hide-on-single-page":!0,layout:["total","prev","pager","next","sizes","jumper"].join(),total:e.total},on:{"current-change":e.curChange,"prev-click":e.prevClick,"next-click":e.nextClick}})],1)])},G=[],ee={data(){return{baseUrl:this.$config.baseUrl,breadcrumbItem:[{name:"公告信息"}],newsList:[],total:1,pageSize:10,pageSizes:[10,20,30,50],totalPage:1,layouts:"",title:""}},created(){this.getNewsList(1)},methods:{getNewsList(e){let t={page:e,limit:this.pageSize,sort:"addtime",order:"desc"},i={};""!=this.title&&(i.title="%"+this.title+"%"),this.$http.get("news/list",{params:Object.assign(t,i)}).then(e=>{0==e.data.code&&(this.newsList=e.data.data.list,this.total=e.data.data.total,this.pageSize=e.data.data.pageSize,this.pageSizes=[this.pageSize,2*this.pageSize,3*this.pageSize,5*this.pageSize],this.totalPage=e.data.data.totalPage)})},curChange(e){this.getNewsList(e)},prevClick(e){this.getNewsList(e)},nextClick(e){this.getNewsList(e)},toNewsDetail(e){this.$router.push({path:"/index/newsDetail",query:{detailObj:JSON.stringify(e)}})}}},te=ee,ie=(i("8a71"),Object(u["a"])(te,X,G,!1,null,"f22580ca",null)),ae=ie.exports,re=function(){var e=this,t=e._self._c;return t("div",{style:{border:"2px solid #dbd9f4",padding:"20px",margin:"10px auto",borderRadius:"8px",background:"#fff",width:"1200px",position:"relative"}},[t("div",{staticClass:"section-title",style:{padding:"20px 0",margin:"0px 0 10px",borderColor:"#cbc9ea",color:"#333",borderRadius:"8px",textAlign:"center",background:"radial-gradient(circle, rgba(231,230,244,1) 0%, rgba(219,217,244,1) 100%)",borderWidth:"1px 2px 4px 2px",fontSize:"20px",lineHeight:"24px",borderStyle:"solid"}},[e._v("公告信息")]),t("div",{staticClass:"section-content"},[t("div",{staticClass:"content-title"},[e._v(e._s(e.detail.title))]),t("div",{staticClass:"content-sub-title"},[e._v("发布时间："+e._s(e.detail.addtime))]),t("el-divider"),t("div",{staticClass:"content-detail",domProps:{innerHTML:e._s(e.detail.content)}})],1)])},se=[],oe=(i("5087"),{data(){return{detail:{}}},created(){this.detail=Object.assign({},JSON.parse(this.$route.query.detailObj))}}),ne=oe,le=(i("c2d8"),Object(u["a"])(ne,re,se,!1,null,"3eeb2e64",null)),de=le.exports,pe=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"breadcrumb-preview",style:{padding:"12px",margin:"10px auto",borderColor:"#dbd9f4",borderRadius:"8px",background:"#fff",borderWidth:"0 0 2px",width:"1200px",borderStyle:"solid"}},[t("el-breadcrumb",{style:{width:"100%",margin:"0 auto",fontSize:"14px",lineHeight:"1",display:"flex"},attrs:{separator:"Ξ"}},[t("el-breadcrumb-item",[e._v("首页")]),e._l(e.breadcrumbItem,(function(i,a){return t("el-breadcrumb-item",{key:a},[e._v(e._s(i.name))])}))],2)],1),t("div",{staticClass:"list-preview",style:{width:"1200px",margin:"10px auto",position:"relative",background:"none"}},[t("el-form",{staticClass:"list-form-pv",style:{border:"2px solid #dbd9f4",padding:"10px",margin:"10px 0 0 0",alignItems:"center",borderRadius:"8px",flexWrap:"wrap",background:"#f8f8fc",display:"flex",width:"100%",height:"auto"},attrs:{inline:!0,model:e.formSearch}},[t("el-form-item",{style:{margin:"10px"}},[t("div",{staticClass:"lable",style:{width:"auto",padding:"0 10px",lineHeight:"42px",display:"inline-block"}},[e._v("账号")]),t("el-input",{attrs:{placeholder:"账号",clearable:""},model:{value:e.formSearch.zhanghao,callback:function(t){e.$set(e.formSearch,"zhanghao",t)},expression:"formSearch.zhanghao"}})],1),t("el-form-item",{style:{margin:"10px"}},[t("div",{staticClass:"lable",style:{width:"auto",padding:"0 10px",lineHeight:"42px",display:"inline-block"}},[e._v("姓名")]),t("el-input",{attrs:{placeholder:"姓名",clearable:""},model:{value:e.formSearch.xingming,callback:function(t){e.$set(e.formSearch,"xingming",t)},expression:"formSearch.xingming"}})],1),t("el-button",{style:{cursor:"pointer",border:"0",padding:"0px 15px",margin:"0 10px 0 0",outline:"none",color:"#666",borderRadius:"6px",background:"linear-gradient(90deg, rgba(255,233,100,1) 0%, rgba(194,248,126,1) 29%, rgba(181,233,252,1) 61%, rgba(246,172,218,1) 100%)",width:"auto",fontSize:"14px",lineHeight:"42px",height:"42px"},attrs:{type:"primary"},on:{click:function(t){return e.getList(1,e.curFenlei)}}},[t("i",{staticClass:"el-icon-search",style:{color:"#666",margin:"0 10px 0 0",fontSize:"14px"}}),e._v("查询")]),e.isAuth("yonghu","新增")?t("el-button",{style:{cursor:"pointer",border:"0",padding:"0px 15px",margin:"0 10px 0 0",outline:"none",color:"#666",borderRadius:"6px",background:"linear-gradient(90deg, rgba(255,233,100,1) 0%, rgba(194,248,126,1) 29%, rgba(181,233,252,1) 61%, rgba(246,172,218,1) 100%)",width:"auto",fontSize:"14px",lineHeight:"42px",height:"42px"},attrs:{type:"primary"},on:{click:function(t){return e.add("/index/yonghuAdd")}}},[t("i",{staticClass:"el-icon-circle-plus-outline",style:{color:"#666",margin:"0 10px 0 0",fontSize:"14px"}}),e._v("添加")]):e._e()],1),t("div",{staticClass:"list",style:{border:"2px solid #dbd9f4",margin:"20px 0 0 0",borderRadius:"8px",background:"#fff"}},[t("div",{staticClass:"list2 index-pv1",style:{width:"100%",padding:"20px 32px 20px 20px",flexWrap:"wrap",justifyContent:"space-between",display:"block",height:"auto"}},e._l(e.dataList,(function(i,a){return t("div",{key:a,staticClass:"list-item animation-box",style:{cursor:"pointer",padding:"0",margin:"0 0 20px 2%",borderRadius:"8px",background:"#f6f6f6",display:"inline-block",width:"23%",fontSize:"0",position:"relative",height:"auto"},on:{click:function(t){return e.toDetail(i)}}},[t("div",{staticClass:"item-info",style:{padding:"0px",overflow:"hidden",borderRadius:"0 0 8px 8px",background:"#f6f6f6",display:"inline-block",width:"100%",height:"auto"}},[i.price?t("div",{staticClass:"price",style:{padding:"0px",margin:"0 12px 4px 0",lineHeight:"24px",fontSize:"12px",color:"#d15858",textAlign:"right"}},[t("span",{style:{fontSize:"12px"}},[e._v("￥")]),e._v(e._s(i.price))]):e._e()])])})),0)]),t("el-pagination",{staticClass:"pagination",style:{width:"1200px",padding:"0",margin:"20px auto",whiteSpace:"nowrap",color:"#333",fontWeight:"500"},attrs:{background:"","pager-count":7,"page-size":e.pageSize,"page-sizes":e.pageSizes,"prev-text":"<","next-text":">","hide-on-single-page":!0,layout:["total","prev","pager","next","sizes","jumper"].join(),total:e.total},on:{"current-change":e.curChange,"size-change":e.sizeChange,"prev-click":e.prevClick,"next-click":e.nextClick}})],1)])},ce=[],ue={data(){return{layouts:"",swiperIndex:-1,baseUrl:"",breadcrumbItem:[{name:"用户"}],formSearch:{zhanghao:"",xingming:""},fenlei:[],dataList:[],total:1,pageSize:12,pageSizes:[10,20,30,50],totalPage:1,curFenlei:"全部",isPlain:!1,indexQueryCondition:"",timeRange:[]}},created(){this.indexQueryCondition=this.$route.query.indexQueryCondition?this.$route.query.indexQueryCondition:"",this.baseUrl=this.$config.baseUrl,this.getFenlei(),this.getList(1,"全部")},methods:{add(e){this.$router.push({path:e})},getFenlei(){},getList(e,t,i=""){let a={page:e,limit:this.pageSize},r={};""!=this.formSearch.zhanghao&&(r.zhanghao="%"+this.formSearch.zhanghao+"%"),""!=this.formSearch.xingming&&(r.xingming="%"+this.formSearch.xingming+"%"),this.$http.get("yonghu/list",{params:Object.assign(a,r)}).then(e=>{0==e.data.code&&(this.dataList=e.data.data.list,this.total=e.data.data.total,this.pageSize=e.data.data.pageSize,this.totalPage=e.data.data.totalPage,this.pageSizes=[this.pageSize,2*this.pageSize,3*this.pageSize,5*this.pageSize])})},curChange(e){this.getList(e)},prevClick(e){this.getList(e)},sizeChange(e){this.pageSize=e,this.getList(1)},nextClick(e){this.getList(e)},toDetail(e){this.$router.push({path:"/index/yonghuDetail",query:{detailObj:JSON.stringify(e)}})}}},ge=ue,he=(i("f7b5"),Object(u["a"])(ge,pe,ce,!1,null,"1a652a03",null)),me=he.exports,xe=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"breadcrumb-preview",style:{padding:"12px",margin:"10px auto",borderColor:"#dbd9f4",borderRadius:"8px",background:"#fff",borderWidth:"0 0 2px",width:"1200px",borderStyle:"solid"}},[t("el-breadcrumb",{style:{width:"100%",margin:"0 auto",fontSize:"14px",lineHeight:"1",display:"flex"},attrs:{separator:"Ξ"}},[t("el-breadcrumb-item",[e._v("首页")]),e._l(e.breadcrumbItem,(function(i,a){return t("el-breadcrumb-item",{key:a},[e._v(e._s(i.name))])}))],2)],1),t("div",{staticClass:"detail-preview",style:{width:"1200px",padding:"0 0 20px",margin:"20px auto 0"}},[t("div",{staticClass:"attr",style:{minHeight:"780px",padding:"0 0 20px",margin:"20px  0 20px",overflow:"hidden",borderRadius:"8px",background:"#fff",display:"block",position:"relative",justifyContent:"space-between",height:"auto"}},[t("el-carousel",{style:{width:"45%",margin:"20px 10px 0px 20px",position:"",float:"left",height:"400px",order:"1"},attrs:{trigger:"click","indicator-position":"inside",arrow:"always",type:"default",direction:"horizontal",height:"400px",autoplay:"false",interval:"3000",loop:"true"}},e._l(e.detailBanner,(function(i){return t("el-carousel-item",{key:i.id,style:{border:"2px solid #dbd9f4",width:"100%",padding:"8px",borderRadius:"8px",background:"#e5e5f5",height:"100%"}},["http"==i.substr(0,4)?t("el-image",{staticClass:"image",style:{width:"100%",objectFit:"cover",borderRadius:"8px",height:"100%"},attrs:{src:i,fit:"cover"}}):t("el-image",{staticClass:"image",style:{width:"100%",objectFit:"cover",borderRadius:"8px",height:"100%"},attrs:{src:e.baseUrl+i,fit:"cover"}})],1)})),1),t("div",{staticClass:"info",style:{border:"8px solid #dbd9f4",minHeight:"750px",padding:"10px",margin:"20px 20px 0 0",borderRadius:"8px 8px 0 8px",background:"linear-gradient(90deg, rgba(250,250,252,1) 0%, rgba(239,239,246,1) 100%)",width:"50%",float:"right",height:"auto",order:"2"}},[t("div",{staticClass:"item",style:{padding:"0",margin:"10px 0 ",alignItems:"center",background:"none",display:"flex",width:"100%",justifyContent:"space-between"}},[t("div",{style:{padding:"0 20px",fontSize:"18px",color:"#333",fontWeight:"600"}})]),t("div",{staticClass:"item",style:{padding:"10px",margin:"0 20px 8px 20px",borderColor:"#ccc",background:"none",borderWidth:"0 0 1px 0",display:"flex",width:"auto",borderStyle:"solid",justifyContent:"spaceBetween"}},[t("div",{staticClass:"lable",style:{padding:"0 10px",color:"#333",textAlign:"left",display:"inline-block",width:"auto",fontSize:"14px",lineHeight:"40px",height:"40px"}},[e._v("账号")]),t("div",{style:{width:"auto",padding:"0 10px",fontSize:"14px",lineHeight:"40px",color:"#666"}},[e._v(e._s(e.detail.zhanghao))])]),t("div",{staticClass:"item",style:{padding:"10px",margin:"0 20px 8px 20px",borderColor:"#ccc",background:"none",borderWidth:"0 0 1px 0",display:"flex",width:"auto",borderStyle:"solid",justifyContent:"spaceBetween"}},[t("div",{staticClass:"lable",style:{padding:"0 10px",color:"#333",textAlign:"left",display:"inline-block",width:"auto",fontSize:"14px",lineHeight:"40px",height:"40px"}},[e._v("姓名")]),t("div",{style:{width:"auto",padding:"0 10px",fontSize:"14px",lineHeight:"40px",color:"#666"}},[e._v(e._s(e.detail.xingming))])]),t("div",{staticClass:"item",style:{padding:"10px",margin:"0 20px 8px 20px",borderColor:"#ccc",background:"none",borderWidth:"0 0 1px 0",display:"flex",width:"auto",borderStyle:"solid",justifyContent:"spaceBetween"}},[t("div",{staticClass:"lable",style:{padding:"0 10px",color:"#333",textAlign:"left",display:"inline-block",width:"auto",fontSize:"14px",lineHeight:"40px",height:"40px"}},[e._v("性别")]),t("div",{style:{width:"auto",padding:"0 10px",fontSize:"14px",lineHeight:"40px",color:"#666"}},[e._v(e._s(e.detail.xingbie))])]),t("div",{staticClass:"item",style:{padding:"10px",margin:"0 20px 8px 20px",borderColor:"#ccc",background:"none",borderWidth:"0 0 1px 0",display:"flex",width:"auto",borderStyle:"solid",justifyContent:"spaceBetween"}},[t("div",{staticClass:"lable",style:{padding:"0 10px",color:"#333",textAlign:"left",display:"inline-block",width:"auto",fontSize:"14px",lineHeight:"40px",height:"40px"}},[e._v("邮箱")]),t("div",{style:{width:"auto",padding:"0 10px",fontSize:"14px",lineHeight:"40px",color:"#666"}},[e._v(e._s(e.detail.youxiang))])]),t("div",{staticClass:"item",style:{padding:"10px",margin:"0 20px 8px 20px",borderColor:"#ccc",background:"none",borderWidth:"0 0 1px 0",display:"flex",width:"auto",borderStyle:"solid",justifyContent:"spaceBetween"}},[t("div",{staticClass:"lable",style:{padding:"0 10px",color:"#333",textAlign:"left",display:"inline-block",width:"auto",fontSize:"14px",lineHeight:"40px",height:"40px"}},[e._v("手机号码")]),t("div",{style:{width:"auto",padding:"0 10px",fontSize:"14px",lineHeight:"40px",color:"#666"}},[e._v(e._s(e.detail.shoujihaoma))])]),t("div",{staticClass:"btn",style:{width:"auto",padding:"10px 0",margin:"0 0 10px 20px",flexWrap:"wrap",display:"flex"}})])],1),t("el-tabs",{staticClass:"detail",style:{border:"2px solid #dbd9f4",boxShadow:"none",padding:"10px",margin:"20px 0",borderRadius:"8px",background:"#fff"},attrs:{type:"border-card"},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}})],1)])},be=[],fe=function(){var e=this,t=e._self._c;return t("div",[e.msTime.show?t("p",{staticStyle:{margin:"0"}},[e.tipShow?t("span",[e._v(e._s(e.tipText)+":")]):e._e(),e.tipShow?e._e():t("span",[e._v(e._s(e.tipTextEnd)+":")]),e.msTime.day>0?t("span",[t("span",[e._v(e._s(e.msTime.day))]),t("i",[e._v(e._s(e.dayTxt))])]):e._e(),t("span",[e._v(e._s(e.msTime.hour))]),t("i",[e._v(e._s(e.hourTxt))]),t("span",[e._v(e._s(e.msTime.minutes))]),t("i",[e._v(e._s(e.minutesTxt))]),t("span",[e._v(e._s(e.msTime.seconds))]),t("i",[e._v(e._s(e.secondsTxt))])]):e._e(),e.msTime.show?e._e():t("p",[e._v(e._s(e.endText))])])},ye=[],ve={replace:!0,data(){return{tipShow:!0,msTime:{show:!1,day:"",hour:"",minutes:"",seconds:""},star:"",end:"",current:""}},watch:{currentTime:function(e,t){this.gogogo()}},props:{tipText:{type:String,default:"距离开始"},tipTextEnd:{type:String,default:"距离结束"},id:{type:String,default:"1"},currentTime:{type:Number},startTime:{type:Number},endTime:{type:Number},endText:{type:String,default:"已结束"},dayTxt:{type:String,default:":"},hourTxt:{type:String,default:":"},minutesTxt:{type:String,default:":"},secondsTxt:{type:String,default:":"},secondsFixed:{type:Boolean,default:!1}},mounted(){console.log(this),this.gogogo()},methods:{gogogo:function(){10==this.startTime.toString().length?this.star=1e3*this.startTime:this.star=this.startTime,10==this.endTime.toString().length?this.end=1e3*this.endTime:this.end=this.endTime,this.currentTime?10==this.currentTime.toString().length?this.current=1e3*this.currentTime:this.current=this.currentTime:this.current=(new Date).getTime(),this.end<this.current?(this.msTime.show=!1,this.end_message()):this.current<this.star?(this.$set(this,"tipShow",!0),setTimeout(()=>{this.runTime(this.star,this.current,this.start_message)},1)):(this.end>this.current&&this.star<this.current||this.star==this.current)&&(this.$set(this,"tipShow",!1),this.msTime.show=!0,this.$emit("start_callback",this.msTime.show),setTimeout(()=>{this.runTime(this.end,this.current,this.end_message,!0)},1))},runTime(e,t,i,a){let r=this.msTime,s=e-t;if(s>0){this.msTime.show=!0,r.day=Math.floor(s/864e5),s-=864e5*r.day,r.hour=Math.floor(s/36e5),s-=36e5*r.hour,r.minutes=Math.floor(s/6e4),s-=6e4*r.minutes,r.seconds=Math.floor(s/1e3).toFixed(0),s-=1e3*r.seconds,r.hour<10&&(r.hour="0"+r.hour),r.minutes<10&&(r.minutes="0"+r.minutes),r.seconds<10&&(r.seconds="0"+r.seconds);let e=Date.now(),o=Date.now(),n=o-e;setTimeout(()=>{a?this.runTime(this.end,t+=1e3,i,!0):this.runTime(this.star,t+=1e3,i)},1e3-n)}else i()},start_message(){this.$set(this,"tipShow",!1),this.$emit("start_callback",this.msTime.show),setTimeout(()=>{this.runTime(this.end,this.star,this.end_message,!0)},1)},end_message(){this.msTime.show=!1,this.currentTime<=0||this.$emit("end_callback",this.msTime.show)}}},we=ve,Se=Object(u["a"])(we,fe,ye,!1,null,null,null),ke=Se.exports,Ce={data(){return{tablename:"yonghu",baseUrl:"",breadcrumbItem:[{name:"详情信息"}],title:"",detailBanner:[],endTime:0,detail:{},activeName:"first",total:1,pageSize:5,pageSizes:[10,20,30,50],totalPage:1,rules:{content:[{required:!0,message:"请输入内容",trigger:"blur"}]},buynumber:1}},created(){this.init()},methods:{init(){this.baseUrl=this.$config.baseUrl,this.$route.query.detailObj&&(this.detail=JSON.parse(this.$route.query.detailObj)),this.$http.get(this.tablename+"/detail/"+this.detail.id,{}).then(e=>{0==e.data.code&&(this.detail=e.data.data,this.$forceUpdate())})},curChange(e){this.getDiscussList(e)},prevClick(e){this.getDiscussList(e)},nextClick(e){this.getDiscussList(e)},download(e){e?window.open(this.baseUrl+e):this.$message({type:"error",message:"文件不存在",duration:1500})}},components:{CountDown:ke}},ze=Ce,Fe=(i("871c"),Object(u["a"])(ze,xe,be,!1,null,"0d79ff90",null)),_e=Fe.exports,Ae=function(){var e=this,t=e._self._c;return t("div",{style:{border:"2px solid #dbd9f4",padding:"20px",margin:"10px auto",borderRadius:"8px",background:"#fff",width:"1200px",position:"relative"}},[t("el-form",{ref:"ruleForm",staticClass:"add-update-preview",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"80px"}},[t("el-form-item",{style:{padding:"10px",margin:"0 0 10px",background:"0"},attrs:{label:"账号",prop:"zhanghao"}},[t("el-input",{attrs:{placeholder:"账号",clearable:""},model:{value:e.ruleForm.zhanghao,callback:function(t){e.$set(e.ruleForm,"zhanghao",t)},expression:"ruleForm.zhanghao"}})],1),t("el-form-item",{style:{padding:"10px",margin:"0 0 10px",background:"0"},attrs:{label:"密码",prop:"mima"}},[t("el-input",{attrs:{placeholder:"密码",clearable:""},model:{value:e.ruleForm.mima,callback:function(t){e.$set(e.ruleForm,"mima",t)},expression:"ruleForm.mima"}})],1),t("el-form-item",{style:{padding:"10px",margin:"0 0 10px",background:"0"},attrs:{label:"姓名",prop:"xingming"}},[t("el-input",{attrs:{placeholder:"姓名",clearable:""},model:{value:e.ruleForm.xingming,callback:function(t){e.$set(e.ruleForm,"xingming",t)},expression:"ruleForm.xingming"}})],1),t("el-form-item",{style:{padding:"10px",margin:"0 0 10px",background:"0"},attrs:{label:"性别",prop:"xingbie"}},[t("el-select",{attrs:{placeholder:"请选择性别"},model:{value:e.ruleForm.xingbie,callback:function(t){e.$set(e.ruleForm,"xingbie",t)},expression:"ruleForm.xingbie"}},e._l(e.xingbieOptions,(function(e,i){return t("el-option",{key:i,attrs:{label:e,value:e}})})),1)],1),t("el-form-item",{style:{padding:"10px",margin:"0 0 10px",background:"0"},attrs:{label:"邮箱",prop:"youxiang"}},[t("el-input",{attrs:{placeholder:"邮箱",clearable:""},model:{value:e.ruleForm.youxiang,callback:function(t){e.$set(e.ruleForm,"youxiang",t)},expression:"ruleForm.youxiang"}})],1),t("el-form-item",{style:{padding:"10px",margin:"0 0 10px",background:"0"},attrs:{label:"手机号码",prop:"shoujihaoma"}},[t("el-input",{attrs:{placeholder:"手机号码",clearable:""},model:{value:e.ruleForm.shoujihaoma,callback:function(t){e.$set(e.ruleForm,"shoujihaoma",t)},expression:"ruleForm.shoujihaoma"}})],1),"cross"!=e.type||"cross"==e.type&&!e.ro.touxiang?t("el-form-item",{style:{padding:"10px",margin:"0 0 10px",background:"0"},attrs:{label:"头像",prop:"touxiang"}},[t("file-upload",{attrs:{tip:"点击上传头像",action:"file/upload",limit:3,multiple:!0,fileUrls:e.ruleForm.touxiang?e.ruleForm.touxiang:""},on:{change:e.touxiangUploadChange}})],1):t("el-form-item",{staticClass:"upload",style:{padding:"10px",margin:"0 0 10px",background:"0"},attrs:{label:"头像",prop:"touxiang"}},["http"==e.ruleForm.touxiang.substring(0,4)?t("img",{key:e.index,staticClass:"upload-img",staticStyle:{"margin-right":"20px"},attrs:{src:e.ruleForm.touxiang.split(",")[0],width:"100",height:"100"}}):e._l(e.ruleForm.touxiang.split(","),(function(i,a){return t("img",{key:a,staticClass:"upload-img",staticStyle:{"margin-right":"20px"},attrs:{src:e.baseUrl+i,width:"100",height:"100"}})}))],2),t("el-form-item",{style:{padding:"0",margin:"0"}},[t("el-button",{style:{border:"0",cursor:"pointer",padding:"0",margin:"0 25%",outline:"none",color:"#666",borderRadius:"10px",background:"linear-gradient(90deg, rgba(255,233,100,1) 0%, rgba(194,248,126,1) 29%, rgba(181,233,252,1) 61%, rgba(246,172,218,1) 100%)",width:"128px",lineHeight:"40px",fontSize:"14px",height:"40px"},attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("提交")]),t("el-button",{style:{border:"2px solid rgba(213, 203, 235, 1)",cursor:"pointer",padding:"0",margin:"0",outline:"none",color:"#000",borderRadius:"4px",background:"rgba(255, 255, 255, 1)",width:"128px",lineHeight:"40px",fontSize:"14px",height:"40px"},on:{click:function(t){return e.back()}}},[e._v("返回")])],1)],1)],1)},Ie=[],Te={data(){return{id:"",baseUrl:"",ro:{zhanghao:!1,mima:!1,xingming:!1,xingbie:!1,youxiang:!1,shoujihaoma:!1,touxiang:!1},type:"",userTableName:localStorage.getItem("UserTableName"),ruleForm:{zhanghao:"",mima:"",xingming:"",xingbie:"",youxiang:"",shoujihaoma:"",touxiang:""},xingbieOptions:[],rules:{zhanghao:[{required:!0,message:"账号不能为空",trigger:"blur"}],mima:[{required:!0,message:"密码不能为空",trigger:"blur"}],xingming:[{required:!0,message:"姓名不能为空",trigger:"blur"}],xingbie:[],youxiang:[{validator:this.$validate.isEmail,trigger:"blur"}],shoujihaoma:[{validator:this.$validate.isMobile,trigger:"blur"}],touxiang:[]}}},computed:{},components:{},created(){let e=this.$route.query.type?this.$route.query.type:"";this.init(e),this.baseUrl=this.$config.baseUrl},methods:{getMakeZero(e){return e<10?"0"+e:e},download(e){window.open(""+e)},init(e){if(this.type=e,"cross"==e){var t=JSON.parse(localStorage.getItem("crossObj"));for(var i in t)"zhanghao"!=i?"mima"!=i?"xingming"!=i?"xingbie"!=i?"youxiang"!=i?"shoujihaoma"!=i?"touxiang"!=i||(this.ruleForm.touxiang=t[i].split(",")[0],this.ro.touxiang=!0):(this.ruleForm.shoujihaoma=t[i],this.ro.shoujihaoma=!0):(this.ruleForm.youxiang=t[i],this.ro.youxiang=!0):(this.ruleForm.xingbie=t[i],this.ro.xingbie=!0):(this.ruleForm.xingming=t[i],this.ro.xingming=!0):(this.ruleForm.mima=t[i],this.ro.mima=!0):(this.ruleForm.zhanghao=t[i],this.ro.zhanghao=!0)}this.$http.get(this.userTableName+"/session",{emulateJSON:!0}).then(e=>{if(0==e.data.code)e.data.data}),this.xingbieOptions=["男","女"]},info(e){this.$http.get("yonghu/detail/${id}",{emulateJSON:!0}).then(e=>{0==e.data.code&&(this.ruleForm=e.data.data)})},onSubmit(){var e,t,i;this.$refs["ruleForm"].validate(a=>{if(a){if("cross"==this.type){var r=localStorage.getItem("statusColumnName"),s=localStorage.getItem("statusColumnValue");if(r&&""!=r){var o=JSON.parse(localStorage.getItem("crossObj"));if(r.startsWith("["))e=Number(localStorage.getItem("userid")),t=o["id"],i=localStorage.getItem("statusColumnName"),i=i.replace(/\[/,"").replace(/\]/,"");else{for(var n in o)n==r&&(o[n]=s);var l=localStorage.getItem("crossTable");this.$http.post(l+"/update",o).then(e=>{})}}}if(t&&e){this.ruleForm.crossuserid=e,this.ruleForm.crossrefid=t;var d={page:1,limit:10,crossuserid:e,crossrefid:t};this.$http.get("yonghu/list",{params:d}).then(e=>{if(e.data.data.total>=i)return this.$message({message:localStorage.getItem("tips"),type:"success",duration:1500}),!1;this.$http.post("yonghu/add",this.ruleForm).then(e=>{0==e.data.code?this.$message({message:"操作成功",type:"success",duration:1500,onClose:()=>{this.$router.go(-1)}}):this.$message({message:e.data.msg,type:"error",duration:1500})})})}else this.$http.post("yonghu/add",this.ruleForm).then(e=>{0==e.data.code?this.$message({message:"操作成功",type:"success",duration:1500,onClose:()=>{this.$router.go(-1)}}):this.$message({message:e.data.msg,type:"error",duration:1500})})}})},getUUID(){return(new Date).getTime()},back(){this.$router.go(-1)},touxiangUploadChange(e){this.ruleForm.touxiang=e.replace(new RegExp(this.$config.baseUrl,"g"),"")}}},Ne=Te,Re=(i("9e6b"),Object(u["a"])(Ne,Ae,Ie,!1,null,"6db9f7e8",null)),De=Re.exports,Ue=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"breadcrumb-preview",style:{padding:"12px",margin:"10px auto",borderColor:"#dbd9f4",borderRadius:"8px",background:"#fff",borderWidth:"0 0 2px",width:"1200px",borderStyle:"solid"}},[t("el-breadcrumb",{style:{width:"100%",margin:"0 auto",fontSize:"14px",lineHeight:"1",display:"flex"},attrs:{separator:"Ξ"}},[t("el-breadcrumb-item",[e._v("首页")]),e._l(e.breadcrumbItem,(function(i,a){return t("el-breadcrumb-item",{key:a},[e._v(e._s(i.name))])}))],2)],1),t("div",{staticClass:"list-preview",style:{width:"1200px",margin:"10px auto",position:"relative",background:"none"}},[t("el-form",{staticClass:"list-form-pv",style:{border:"2px solid #dbd9f4",padding:"10px",margin:"10px 0 0 0",alignItems:"center",borderRadius:"8px",flexWrap:"wrap",background:"#f8f8fc",display:"flex",width:"100%",height:"auto"},attrs:{inline:!0,model:e.formSearch}},[t("el-form-item",{style:{margin:"10px"}},[t("div",{staticClass:"lable",style:{width:"auto",padding:"0 10px",lineHeight:"42px",display:"inline-block"}},[e._v("菜式类型")]),t("el-input",{attrs:{placeholder:"菜式类型",clearable:""},model:{value:e.formSearch.caishileixing,callback:function(t){e.$set(e.formSearch,"caishileixing",t)},expression:"formSearch.caishileixing"}})],1),t("el-button",{style:{cursor:"pointer",border:"0",padding:"0px 15px",margin:"0 10px 0 0",outline:"none",color:"#666",borderRadius:"6px",background:"linear-gradient(90deg, rgba(255,233,100,1) 0%, rgba(194,248,126,1) 29%, rgba(181,233,252,1) 61%, rgba(246,172,218,1) 100%)",width:"auto",fontSize:"14px",lineHeight:"42px",height:"42px"},attrs:{type:"primary"},on:{click:function(t){return e.getList(1,e.curFenlei)}}},[t("i",{staticClass:"el-icon-search",style:{color:"#666",margin:"0 10px 0 0",fontSize:"14px"}}),e._v("查询")]),e.isAuth("caishileixing","新增")?t("el-button",{style:{cursor:"pointer",border:"0",padding:"0px 15px",margin:"0 10px 0 0",outline:"none",color:"#666",borderRadius:"6px",background:"linear-gradient(90deg, rgba(255,233,100,1) 0%, rgba(194,248,126,1) 29%, rgba(181,233,252,1) 61%, rgba(246,172,218,1) 100%)",width:"auto",fontSize:"14px",lineHeight:"42px",height:"42px"},attrs:{type:"primary"},on:{click:function(t){return e.add("/index/caishileixingAdd")}}},[t("i",{staticClass:"el-icon-circle-plus-outline",style:{color:"#666",margin:"0 10px 0 0",fontSize:"14px"}}),e._v("添加")]):e._e()],1),t("div",{staticClass:"list",style:{border:"2px solid #dbd9f4",margin:"20px 0 0 0",borderRadius:"8px",background:"#fff"}},[t("div",{staticClass:"list2 index-pv1",style:{width:"100%",padding:"20px 32px 20px 20px",flexWrap:"wrap",justifyContent:"space-between",display:"block",height:"auto"}},e._l(e.dataList,(function(i,a){return t("div",{key:a,staticClass:"list-item animation-box",style:{cursor:"pointer",padding:"0",margin:"0 0 20px 2%",borderRadius:"8px",background:"#f6f6f6",display:"inline-block",width:"23%",fontSize:"0",position:"relative",height:"auto"},on:{click:function(t){return e.toDetail(i)}}},[t("div",{staticClass:"item-info",style:{padding:"0px",overflow:"hidden",borderRadius:"0 0 8px 8px",background:"#f6f6f6",display:"inline-block",width:"100%",height:"auto"}},[i.price?t("div",{staticClass:"price",style:{padding:"0px",margin:"0 12px 4px 0",lineHeight:"24px",fontSize:"12px",color:"#d15858",textAlign:"right"}},[t("span",{style:{fontSize:"12px"}},[e._v("¥")]),e._v(e._s(i.price))]):e._e()])])})),0)]),t("el-pagination",{staticClass:"pagination",style:{width:"1200px",padding:"0",margin:"20px auto",whiteSpace:"nowrap",color:"#333",fontWeight:"500"},attrs:{background:"","pager-count":7,"page-size":e.pageSize,"page-sizes":e.pageSizes,"prev-text":"<","next-text":">","hide-on-single-page":!0,layout:["total","prev","pager","next","sizes","jumper"].join(),total:e.total},on:{"current-change":e.curChange,"size-change":e.sizeChange,"prev-click":e.prevClick,"next-click":e.nextClick}})],1)])},$e=[],He={data(){return{layouts:"",swiperIndex:-1,baseUrl:"",breadcrumbItem:[{name:"菜式类型"}],formSearch:{caishileixing:""},fenlei:[],dataList:[],total:1,pageSize:12,pageSizes:[10,20,30,50],totalPage:1,curFenlei:"全部",isPlain:!1,indexQueryCondition:"",timeRange:[]}},created(){this.indexQueryCondition=this.$route.query.indexQueryCondition?this.$route.query.indexQueryCondition:"",this.baseUrl=this.$config.baseUrl,this.getFenlei(),this.getList(1,"全部")},methods:{add(e){this.$router.push({path:e})},getFenlei(){},getList(e,t,i=""){let a={page:e,limit:this.pageSize},r={};""!=this.formSearch.caishileixing&&(r.caishileixing="%"+this.formSearch.caishileixing+"%"),this.$http.get("caishileixing/list",{params:Object.assign(a,r)}).then(e=>{0==e.data.code&&(this.dataList=e.data.data.list,this.total=e.data.data.total,this.pageSize=e.data.data.pageSize,this.totalPage=e.data.data.totalPage,this.pageSizes=[this.pageSize,2*this.pageSize,3*this.pageSize,5*this.pageSize])})},curChange(e){this.getList(e)},prevClick(e){this.getList(e)},sizeChange(e){this.pageSize=e,this.getList(1)},nextClick(e){this.getList(e)},toDetail(e){this.$router.push({path:"/index/caishileixingDetail",query:{detailObj:JSON.stringify(e)}})}}},je=He,Le=(i("b62f"),Object(u["a"])(je,Ue,$e,!1,null,"0f00987a",null)),Oe=Le.exports,We=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"breadcrumb-preview",style:{padding:"12px",margin:"10px auto",borderColor:"#dbd9f4",borderRadius:"8px",background:"#fff",borderWidth:"0 0 2px",width:"1200px",borderStyle:"solid"}},[t("el-breadcrumb",{style:{width:"100%",margin:"0 auto",fontSize:"14px",lineHeight:"1",display:"flex"},attrs:{separator:"Ξ"}},[t("el-breadcrumb-item",[e._v("首页")]),e._l(e.breadcrumbItem,(function(i,a){return t("el-breadcrumb-item",{key:a},[e._v(e._s(i.name))])}))],2)],1),t("div",{staticClass:"detail-preview",style:{width:"1200px",padding:"0 0 20px",margin:"20px auto 0"}},[t("div",{staticClass:"attr",style:{minHeight:"780px",padding:"0 0 20px",margin:"20px  0 20px",overflow:"hidden",borderRadius:"8px",background:"#fff",display:"block",position:"relative",justifyContent:"space-between",height:"auto"}},[t("el-carousel",{style:{width:"45%",margin:"20px 10px 0px 20px",position:"",float:"left",height:"400px",order:"1"},attrs:{trigger:"click","indicator-position":"inside",arrow:"always",type:"default",direction:"horizontal",height:"400px",autoplay:"false",interval:"3000",loop:"true"}},e._l(e.detailBanner,(function(i){return t("el-carousel-item",{key:i.id,style:{border:"2px solid #dbd9f4",width:"100%",padding:"8px",borderRadius:"8px",background:"#e5e5f5",height:"100%"}},["http"==i.substr(0,4)?t("el-image",{staticClass:"image",style:{width:"100%",objectFit:"cover",borderRadius:"8px",height:"100%"},attrs:{src:i,fit:"cover"}}):t("el-image",{staticClass:"image",style:{width:"100%",objectFit:"cover",borderRadius:"8px",height:"100%"},attrs:{src:e.baseUrl+i,fit:"cover"}})],1)})),1),t("div",{staticClass:"info",style:{border:"8px solid #dbd9f4",minHeight:"750px",padding:"10px",margin:"20px 20px 0 0",borderRadius:"8px 8px 0 8px",background:"linear-gradient(90deg, rgba(250,250,252,1) 0%, rgba(239,239,246,1) 100%)",width:"50%",float:"right",height:"auto",order:"2"}},[t("div",{staticClass:"item",style:{padding:"0",margin:"10px 0 ",alignItems:"center",background:"none",display:"flex",width:"100%",justifyContent:"space-between"}},[t("div",{style:{padding:"0 20px",fontSize:"18px",color:"#333",fontWeight:"600"}})]),t("div",{staticClass:"item",style:{padding:"10px",margin:"0 20px 8px 20px",borderColor:"#ccc",background:"none",borderWidth:"0 0 1px 0",display:"flex",width:"auto",borderStyle:"solid",justifyContent:"spaceBetween"}},[t("div",{staticClass:"lable",style:{padding:"0 10px",color:"#333",textAlign:"left",display:"inline-block",width:"auto",fontSize:"14px",lineHeight:"40px",height:"40px"}},[e._v("菜式类型")]),t("div",{style:{width:"auto",padding:"0 10px",fontSize:"14px",lineHeight:"40px",color:"#666"}},[e._v(e._s(e.detail.caishileixing))])]),t("div",{staticClass:"btn",style:{width:"auto",padding:"10px 0",margin:"0 0 10px 20px",flexWrap:"wrap",display:"flex"}})])],1),t("el-tabs",{staticClass:"detail",style:{border:"2px solid #dbd9f4",boxShadow:"none",padding:"10px",margin:"20px 0",borderRadius:"8px",background:"#fff"},attrs:{type:"border-card"},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}})],1)])},Ee=[],Me={data(){return{tablename:"caishileixing",baseUrl:"",breadcrumbItem:[{name:"详情信息"}],title:"",detailBanner:[],endTime:0,detail:{},activeName:"first",total:1,pageSize:5,pageSizes:[10,20,30,50],totalPage:1,rules:{content:[{required:!0,message:"请输入内容",trigger:"blur"}]},buynumber:1}},created(){this.init()},methods:{init(){this.baseUrl=this.$config.baseUrl,this.$route.query.detailObj&&(this.detail=JSON.parse(this.$route.query.detailObj)),this.$http.get(this.tablename+"/detail/"+this.detail.id,{}).then(e=>{0==e.data.code&&(this.detail=e.data.data,this.$forceUpdate())})},curChange(e){this.getDiscussList(e)},prevClick(e){this.getDiscussList(e)},nextClick(e){this.getDiscussList(e)},download(e){e?window.open(this.baseUrl+e):this.$message({type:"error",message:"文件不存在",duration:1500})}},components:{CountDown:ke}},qe=Me,Pe=(i("9fdc"),Object(u["a"])(qe,We,Ee,!1,null,"6e3cfb8c",null)),Be=Pe.exports,Qe=function(){var e=this,t=e._self._c;return t("div",{style:{border:"2px solid #dbd9f4",padding:"20px",margin:"10px auto",borderRadius:"8px",background:"#fff",width:"1200px",position:"relative"}},[t("el-form",{ref:"ruleForm",staticClass:"add-update-preview",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"80px"}},[t("el-form-item",{style:{padding:"10px",margin:"0 0 10px",background:"0"},attrs:{label:"菜式类型",prop:"caishileixing"}},[t("el-input",{attrs:{placeholder:"菜式类型",clearable:""},model:{value:e.ruleForm.caishileixing,callback:function(t){e.$set(e.ruleForm,"caishileixing",t)},expression:"ruleForm.caishileixing"}})],1),t("el-form-item",{style:{padding:"0",margin:"0"}},[t("el-button",{style:{border:"0",cursor:"pointer",padding:"0",margin:"0 25%",outline:"none",color:"#666",borderRadius:"10px",background:"linear-gradient(90deg, rgba(255,233,100,1) 0%, rgba(194,248,126,1) 29%, rgba(181,233,252,1) 61%, rgba(246,172,218,1) 100%)",width:"128px",lineHeight:"40px",fontSize:"14px",height:"40px"},attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("提交")]),t("el-button",{style:{border:"2px solid rgba(213, 203, 235, 1)",cursor:"pointer",padding:"0",margin:"0",outline:"none",color:"#000",borderRadius:"4px",background:"rgba(255, 255, 255, 1)",width:"128px",lineHeight:"40px",fontSize:"14px",height:"40px"},on:{click:function(t){return e.back()}}},[e._v("返回")])],1)],1)],1)},Je=[],Ve={data(){return{id:"",baseUrl:"",ro:{caishileixing:!1},type:"",userTableName:localStorage.getItem("UserTableName"),ruleForm:{caishileixing:""},rules:{caishileixing:[{required:!0,message:"菜式类型不能为空",trigger:"blur"}]}}},computed:{},components:{},created(){let e=this.$route.query.type?this.$route.query.type:"";this.init(e),this.baseUrl=this.$config.baseUrl},methods:{getMakeZero(e){return e<10?"0"+e:e},download(e){window.open(""+e)},init(e){if(this.type=e,"cross"==e){var t=JSON.parse(localStorage.getItem("crossObj"));for(var i in t)"caishileixing"!=i||(this.ruleForm.caishileixing=t[i],this.ro.caishileixing=!0)}this.$http.get(this.userTableName+"/session",{emulateJSON:!0}).then(e=>{if(0==e.data.code)e.data.data})},info(e){this.$http.get("caishileixing/detail/${id}",{emulateJSON:!0}).then(e=>{0==e.data.code&&(this.ruleForm=e.data.data)})},onSubmit(){var e,t,i;this.$refs["ruleForm"].validate(a=>{if(a){if("cross"==this.type){var r=localStorage.getItem("statusColumnName"),s=localStorage.getItem("statusColumnValue");if(r&&""!=r){var o=JSON.parse(localStorage.getItem("crossObj"));if(r.startsWith("["))e=Number(localStorage.getItem("userid")),t=o["id"],i=localStorage.getItem("statusColumnName"),i=i.replace(/\[/,"").replace(/\]/,"");else{for(var n in o)n==r&&(o[n]=s);var l=localStorage.getItem("crossTable");this.$http.post(l+"/update",o).then(e=>{})}}}if(t&&e){this.ruleForm.crossuserid=e,this.ruleForm.crossrefid=t;var d={page:1,limit:10,crossuserid:e,crossrefid:t};this.$http.get("caishileixing/list",{params:d}).then(e=>{if(e.data.data.total>=i)return this.$message({message:localStorage.getItem("tips"),type:"success",duration:1500}),!1;this.$http.post("caishileixing/add",this.ruleForm).then(e=>{0==e.data.code?this.$message({message:"操作成功",type:"success",duration:1500,onClose:()=>{this.$router.go(-1)}}):this.$message({message:e.data.msg,type:"error",duration:1500})})})}else this.$http.post("caishileixing/add",this.ruleForm).then(e=>{0==e.data.code?this.$message({message:"操作成功",type:"success",duration:1500,onClose:()=>{this.$router.go(-1)}}):this.$message({message:e.data.msg,type:"error",duration:1500})})}})},getUUID(){return(new Date).getTime()},back(){this.$router.go(-1)}}},Ye=Ve,Ke=(i("f30d"),Object(u["a"])(Ye,Qe,Je,!1,null,"4668a6a2",null)),Ze=Ke.exports,Xe=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"breadcrumb-preview",style:{padding:"12px",margin:"10px auto",borderColor:"#dbd9f4",borderRadius:"8px",background:"#fff",borderWidth:"0 0 2px",width:"1200px",borderStyle:"solid"}},[t("el-breadcrumb",{style:{width:"100%",margin:"0 auto",fontSize:"14px",lineHeight:"1",display:"flex"},attrs:{separator:"Ξ"}},[t("el-breadcrumb-item",[e._v("首页")]),e._l(e.breadcrumbItem,(function(i,a){return t("el-breadcrumb-item",{key:a},[e._v(e._s(i.name))])}))],2)],1),t("div",{staticClass:"list-preview",style:{width:"1200px",margin:"10px auto",position:"relative",background:"none"}},[t("div",{staticClass:"category-1",style:{padding:"10px",borderColor:"#dbd9f4",borderRadius:"8px",background:"#fff",borderWidth:"2px 1px 1px 1px",display:"flex",width:"100%",borderStyle:"solid",height:"auto"}},[t("div",{staticClass:"item",class:"-1"==e.swiperIndex?"active":"",attrs:{plain:e.isPlain},on:{click:function(t){return e.getList(1,"全部")}}},[e._v("全部")]),e._l(e.fenlei,(function(i,a){return t("div",{key:a,ref:"btn"+a,refInFor:!0,staticClass:"item",class:e.swiperIndex==a?"active":"",attrs:{plain:""},on:{click:function(t){return e.getList(1,i,"btn"+a)}}},[e._v(e._s(i))])}))],2),t("el-form",{staticClass:"list-form-pv",style:{border:"2px solid #dbd9f4",padding:"10px",margin:"10px 0 0 0",alignItems:"center",borderRadius:"8px",flexWrap:"wrap",background:"#f8f8fc",display:"flex",width:"100%",height:"auto"},attrs:{inline:!0,model:e.formSearch}},[t("el-form-item",{style:{margin:"10px"}},[t("div",{staticClass:"lable",style:{width:"auto",padding:"0 10px",lineHeight:"42px",display:"inline-block"}},[e._v("菜谱名称")]),t("el-input",{attrs:{placeholder:"菜谱名称",clearable:""},model:{value:e.formSearch.caipumingcheng,callback:function(t){e.$set(e.formSearch,"caipumingcheng",t)},expression:"formSearch.caipumingcheng"}})],1),t("el-form-item",{style:{margin:"10px"}},[t("div",{staticClass:"lable",style:{width:"auto",padding:"0 10px",lineHeight:"42px",display:"inline-block"}},[e._v("菜式类型")]),t("el-select",{attrs:{placeholder:"请选择菜式类型",clearable:!0},model:{value:e.formSearch.caishileixing,callback:function(t){e.$set(e.formSearch,"caishileixing",t)},expression:"formSearch.caishileixing"}},e._l(e.caishileixingOptions,(function(e,i){return t("el-option",{key:i,attrs:{label:e,value:e}})})),1)],1),t("el-form-item",{style:{margin:"10px"}},[t("div",{staticClass:"lable",style:{width:"auto",padding:"0 10px",lineHeight:"42px",display:"inline-block"}},[e._v("烹饪方式")]),t("el-input",{attrs:{placeholder:"烹饪方式",clearable:""},model:{value:e.formSearch.pengrenfangshi,callback:function(t){e.$set(e.formSearch,"pengrenfangshi",t)},expression:"formSearch.pengrenfangshi"}})],1),t("el-button",{style:{cursor:"pointer",border:"0",padding:"0px 15px",margin:"0 10px 0 0",outline:"none",color:"#666",borderRadius:"6px",background:"linear-gradient(90deg, rgba(255,233,100,1) 0%, rgba(194,248,126,1) 29%, rgba(181,233,252,1) 61%, rgba(246,172,218,1) 100%)",width:"auto",fontSize:"14px",lineHeight:"42px",height:"42px"},attrs:{type:"primary"},on:{click:function(t){return e.getList(1,e.curFenlei)}}},[t("i",{staticClass:"el-icon-search",style:{color:"#666",margin:"0 10px 0 0",fontSize:"14px"}}),e._v("查询")]),e.isAuth("caipuxinxi","新增")?t("el-button",{style:{cursor:"pointer",border:"0",padding:"0px 15px",margin:"0 10px 0 0",outline:"none",color:"#666",borderRadius:"6px",background:"linear-gradient(90deg, rgba(255,233,100,1) 0%, rgba(194,248,126,1) 29%, rgba(181,233,252,1) 61%, rgba(246,172,218,1) 100%)",width:"auto",fontSize:"14px",lineHeight:"42px",height:"42px"},attrs:{type:"primary"},on:{click:function(t){return e.add("/index/caipuxinxiAdd")}}},[t("i",{staticClass:"el-icon-circle-plus-outline",style:{color:"#666",margin:"0 10px 0 0",fontSize:"14px"}}),e._v("添加")]):e._e()],1),t("div",{staticClass:"list",style:{border:"2px solid #dbd9f4",margin:"20px 0 0 0",borderRadius:"8px",background:"#fff"}},[t("div",{staticClass:"list2 index-pv1",style:{width:"100%",padding:"20px 32px 20px 20px",flexWrap:"wrap",justifyContent:"space-between",display:"block",height:"auto"}},e._l(e.dataList,(function(i,a){return t("div",{key:a,staticClass:"list-item animation-box",style:{cursor:"pointer",padding:"0",margin:"0 0 20px 2%",borderRadius:"8px",background:"#f6f6f6",display:"inline-block",width:"23%",fontSize:"0",position:"relative",height:"auto"},on:{click:function(t){return e.toDetail(i)}}},[i.caipufengmian&&"http"==i.caipufengmian.substr(0,4)?t("img",{staticClass:"image",style:{width:"calc(100% - 24px)",margin:"12px",objectFit:"cover",borderRadius:"8px",display:"inline-block",height:"240px"},attrs:{src:i.caipufengmian}}):t("img",{staticClass:"image",style:{width:"calc(100% - 24px)",margin:"12px",objectFit:"cover",borderRadius:"8px",display:"inline-block",height:"240px"},attrs:{src:e.baseUrl+(i.caipufengmian?i.caipufengmian.split(",")[0]:"")}}),t("div",{staticClass:"item-info",style:{padding:"0px",overflow:"hidden",borderRadius:"0 0 8px 8px",background:"#f6f6f6",display:"inline-block",width:"100%",height:"auto"}},[t("div",{staticClass:"name",style:{padding:"0 0 0 12px",margin:"0px 24px 4px 0",whiteSpace:"nowrap",overflow:"hidden",color:"#333",borderRadius:"0 20px 20px 0",background:"#ede9f6",lineHeight:"32px",fontSize:"14px",textOverflow:"ellipsis"}},[e._v(e._s(i.caipumingcheng))]),t("div",{staticClass:"name",style:{padding:"0 0 0 12px",margin:"0px 24px 4px 0",whiteSpace:"nowrap",overflow:"hidden",color:"#333",borderRadius:"0 20px 20px 0",background:"#ede9f6",lineHeight:"32px",fontSize:"14px",textOverflow:"ellipsis"}},[e._v(e._s(i.caishileixing))]),t("div",{staticClass:"name",style:{padding:"0 0 0 12px",margin:"0px 24px 4px 0",whiteSpace:"nowrap",overflow:"hidden",color:"#333",borderRadius:"0 20px 20px 0",background:"#ede9f6",lineHeight:"32px",fontSize:"14px",textOverflow:"ellipsis"}},[e._v("分数:"+e._s(i.fenshu))]),i.price?t("div",{staticClass:"price",style:{padding:"0px",margin:"0 12px 4px 0",lineHeight:"24px",fontSize:"12px",color:"#d15858",textAlign:"right"}},[t("span",{style:{fontSize:"12px"}},[e._v("¥")]),e._v(e._s(i.price))]):e._e()])])})),0)]),t("div",{staticClass:"hot",style:{border:"2px solid #dbd9f4",margin:"20px 0 0",borderRadius:"8px",background:"#fff",width:"100%",position:"relative",height:"auto"}},[t("div",{style:{padding:"0 20px",margin:"0 auto",color:"#000",textAlign:"center",background:"url(http://codegen.caihongy.cn/20221105/bb1ea9437beb4e1da8fcd1583db2f111.png) no-repeat,radial-gradient(circle, rgba(219,217,244,1) 0%, rgba(181,177,240,1) 100%)",width:"260px",lineHeight:"42px",fontSize:"24px",height:"42px"}},[e._v("热门信息")]),t("div",{style:{padding:"20px",margin:"4px 0 0 0",background:"none",display:"flex",width:"100%",justifyContent:"space-between",height:"auto"}},e._l(e.hotList,(function(i){return t("div",{key:i,style:{cursor:"pointer",width:"23%",padding:"0 0 8px 0",borderRadius:"8px",background:"#f6f6f6",height:"auto"},on:{click:function(t){return e.toDetail(i)}}},[i.caipufengmian&&"http"==i.caipufengmian.substr(0,4)?t("img",{style:{width:"calc(100% - 24px)",margin:"12px",objectFit:"cover",borderRadius:"8px",display:"block",height:"240px"},attrs:{src:i.caipufengmian,alt:""}}):t("img",{style:{width:"calc(100% - 24px)",margin:"12px",objectFit:"cover",borderRadius:"8px",display:"block",height:"240px"},attrs:{src:e.baseUrl+(i.caipufengmian?i.caipufengmian.split(",")[0]:""),alt:""}}),t("div",{style:{padding:"0 0 0 12px",margin:"0px 24px 4px 0",color:"#333",borderRadius:"0 20px 20px 0",background:"#ede9f6",lineHeight:"32px",fontSize:"14px"}},[e._v(e._s(i.caipumingcheng))]),t("div",{style:{padding:"0 0 0 12px",margin:"0px 24px 4px 0",color:"#333",borderRadius:"0 20px 20px 0",background:"#ede9f6",lineHeight:"32px",fontSize:"14px"}},[e._v(e._s(i.caishileixing))]),t("div",{style:{padding:"0 0 0 12px",margin:"0px 24px 4px 0",color:"#333",borderRadius:"0 20px 20px 0",background:"#ede9f6",lineHeight:"32px",fontSize:"14px"}},[e._v(e._s(i.fenshu))])])})),0)]),t("el-pagination",{staticClass:"pagination",style:{width:"1200px",padding:"0",margin:"20px auto",whiteSpace:"nowrap",color:"#333",fontWeight:"500"},attrs:{background:"","pager-count":7,"page-size":e.pageSize,"page-sizes":e.pageSizes,"prev-text":"<","next-text":">","hide-on-single-page":!0,layout:["total","prev","pager","next","sizes","jumper"].join(),total:e.total},on:{"current-change":e.curChange,"size-change":e.sizeChange,"prev-click":e.prevClick,"next-click":e.nextClick}})],1)])},Ge=[],et={data(){return{layouts:"",swiperIndex:-1,baseUrl:"",breadcrumbItem:[{name:"菜谱信息"}],formSearch:{caipumingcheng:"",caishileixing:"",pengrenfangshi:""},fenlei:[],hotList:[],dataList:[],total:1,pageSize:12,pageSizes:[10,20,30,50],totalPage:1,curFenlei:"全部",isPlain:!1,indexQueryCondition:"",caishileixingOptions:[],timeRange:[]}},created(){this.indexQueryCondition=this.$route.query.indexQueryCondition?this.$route.query.indexQueryCondition:"",this.baseUrl=this.$config.baseUrl,this.$http.get("option/caishileixing/caishileixing").then(e=>{0==e.data.code&&(this.caishileixingOptions=e.data.data)}),this.getFenlei(),this.getList(1,"全部"),this.getHotList()},methods:{add(e){this.$router.push({path:e})},getHotList(){let e="";e="caipuxinxi/autoSort",localStorage.getItem("Token")&&(e="caipuxinxi/autoSort2"),this.$http.get(e,{params:{page:1,limit:4}}).then(e=>{0==e.data.code&&(this.hotList=e.data.data.list)})},getFenlei(){this.$http.get("option/caishileixing/caishileixing").then(e=>{0==e.data.code&&(this.fenlei=e.data.data)})},getList(e,t,i=""){"全部"==t&&(this.swiperIndex=-1);for(let s=0;s<this.fenlei.length;s++)if(t==this.fenlei[s]){this.swiperIndex=s;break}this.curFenlei=t,"全部"==this.curFenlei?this.isPlain=!1:this.isPlain=!0;let a={page:e,limit:this.pageSize},r={};""!=this.formSearch.caipumingcheng&&(r.caipumingcheng="%"+this.formSearch.caipumingcheng+"%"),""!=this.formSearch.caishileixing&&(r.caishileixing=this.formSearch.caishileixing),""!=this.formSearch.pengrenfangshi&&(r.pengrenfangshi="%"+this.formSearch.pengrenfangshi+"%"),a["sort"]="fenshu",a["order"]="desc","全部"!=this.curFenlei&&(r.caishileixing=this.curFenlei),this.$http.get("caipuxinxi/list",{params:Object.assign(a,r)}).then(e=>{0==e.data.code&&(this.dataList=e.data.data.list,this.total=e.data.data.total,this.pageSize=e.data.data.pageSize,this.totalPage=e.data.data.totalPage,this.pageSizes=[this.pageSize,2*this.pageSize,3*this.pageSize,5*this.pageSize])})},curChange(e){this.getList(e,this.curFenlei)},prevClick(e){this.getList(e,this.curFenlei)},sizeChange(e){this.pageSize=e,this.getList(1,this.curFenlei)},nextClick(e){this.getList(e,this.curFenlei)},toDetail(e){this.$router.push({path:"/index/caipuxinxiDetail",query:{detailObj:JSON.stringify(e)}})}}},tt=et,it=(i("425b"),Object(u["a"])(tt,Xe,Ge,!1,null,"967f4512",null)),at=it.exports,rt=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"breadcrumb-preview",style:{padding:"12px",margin:"10px auto",borderColor:"#dbd9f4",borderRadius:"8px",background:"#fff",borderWidth:"0 0 2px",width:"1200px",borderStyle:"solid"}},[t("el-breadcrumb",{style:{width:"100%",margin:"0 auto",fontSize:"14px",lineHeight:"1",display:"flex"},attrs:{separator:"Ξ"}},[t("el-breadcrumb-item",[e._v("首页")]),e._l(e.breadcrumbItem,(function(i,a){return t("el-breadcrumb-item",{key:a},[e._v(e._s(i.name))])}))],2)],1),t("div",{staticClass:"detail-preview",style:{width:"1200px",padding:"0 0 20px",margin:"20px auto 0"}},[t("div",{staticClass:"attr",style:{minHeight:"780px",padding:"0 0 20px",margin:"20px  0 20px",overflow:"hidden",borderRadius:"8px",background:"#fff",display:"block",position:"relative",justifyContent:"space-between",height:"auto"}},[t("el-carousel",{style:{width:"45%",margin:"20px 10px 0px 20px",position:"",float:"left",height:"400px",order:"1"},attrs:{trigger:"click","indicator-position":"inside",arrow:"always",type:"default",direction:"horizontal",height:"400px",autoplay:"false",interval:"3000",loop:"true"}},e._l(e.detailBanner,(function(i){return t("el-carousel-item",{key:i.id,style:{border:"2px solid #dbd9f4",width:"100%",padding:"8px",borderRadius:"8px",background:"#e5e5f5",height:"100%"}},["http"==i.substr(0,4)?t("el-image",{staticClass:"image",style:{width:"100%",objectFit:"cover",borderRadius:"8px",height:"100%"},attrs:{src:i,fit:"cover"}}):t("el-image",{staticClass:"image",style:{width:"100%",objectFit:"cover",borderRadius:"8px",height:"100%"},attrs:{src:e.baseUrl+i,fit:"cover"}})],1)})),1),t("div",{staticClass:"info",style:{border:"8px solid #dbd9f4",minHeight:"750px",padding:"10px",margin:"20px 20px 0 0",borderRadius:"8px 8px 0 8px",background:"linear-gradient(90deg, rgba(250,250,252,1) 0%, rgba(239,239,246,1) 100%)",width:"50%",float:"right",height:"auto",order:"2"}},[t("div",{staticClass:"item",style:{padding:"0",margin:"10px 0 ",alignItems:"center",background:"none",display:"flex",width:"100%",justifyContent:"space-between"}},[t("div",{style:{padding:"0 20px",fontSize:"18px",color:"#333",fontWeight:"600"}},[e._v(" "+e._s(e.detail.caipumingcheng)+" ")]),t("div",{directives:[{name:"show",rawName:"v-show",value:!e.isStoreup,expression:"!isStoreup"}],style:{cursor:"pointer",width:"auto",padding:"6px 10px",borderRadius:"16px",textAlign:"center",background:"radial-gradient(circle, rgba(225,223,244,1) 0%, rgba(207,205,236,1) 100%)"},on:{click:function(t){return e.storeup(1)}}},[t("i",{staticClass:"el-icon-star-off",style:{color:"#666",fontSize:"16px"}}),t("span",{style:{color:"#666",fontSize:"16px"}},[e._v("点我收藏")])]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.isStoreup,expression:"isStoreup"}],style:{cursor:"pointer",width:"auto",padding:"6px 10px",borderRadius:"16px",textAlign:"center",background:"radial-gradient(circle, rgba(225,223,244,1) 0%, rgba(207,205,236,1) 100%)"},on:{click:function(t){return e.storeup(-1)}}},[t("i",{staticClass:"el-icon-star-on",style:{color:"#666",fontSize:"16px"}}),t("span",{style:{color:"#666",fontSize:"16px"}},[e._v("取消收藏")])])]),t("div",{staticClass:"item",style:{padding:"10px",margin:"0 20px 8px 20px",borderColor:"#ccc",background:"none",borderWidth:"0 0 1px 0",display:"flex",width:"auto",borderStyle:"solid",justifyContent:"spaceBetween"}},[t("div",{staticClass:"lable",style:{padding:"0 10px",color:"#333",textAlign:"left",display:"inline-block",width:"auto",fontSize:"14px",lineHeight:"40px",height:"40px"}},[e._v("菜式类型")]),t("div",{style:{width:"auto",padding:"0 10px",fontSize:"14px",lineHeight:"40px",color:"#666"}},[e._v(e._s(e.detail.caishileixing))])]),t("div",{staticClass:"item",style:{padding:"10px",margin:"0 20px 8px 20px",borderColor:"#ccc",background:"none",borderWidth:"0 0 1px 0",display:"flex",width:"auto",borderStyle:"solid",justifyContent:"spaceBetween"}},[t("div",{staticClass:"lable",style:{padding:"0 10px",color:"#333",textAlign:"left",display:"inline-block",width:"auto",fontSize:"14px",lineHeight:"40px",height:"40px"}},[e._v("烹饪方式")]),t("div",{style:{width:"auto",padding:"0 10px",fontSize:"14px",lineHeight:"40px",color:"#666"}},[e._v(e._s(e.detail.pengrenfangshi))])]),t("div",{staticClass:"item",style:{padding:"10px",margin:"0 20px 8px 20px",borderColor:"#ccc",background:"none",borderWidth:"0 0 1px 0",display:"flex",width:"auto",borderStyle:"solid",justifyContent:"spaceBetween"}},[t("div",{staticClass:"lable",style:{padding:"0 10px",color:"#333",textAlign:"left",display:"inline-block",width:"auto",fontSize:"14px",lineHeight:"40px",height:"40px"}},[e._v("分数")]),t("div",{style:{width:"auto",padding:"0 10px",fontSize:"14px",lineHeight:"40px",color:"#666"}},[e._v(e._s(e.detail.fenshu))])]),t("div",{staticClass:"item",style:{padding:"10px",margin:"0 20px 8px 20px",borderColor:"#ccc",background:"none",borderWidth:"0 0 1px 0",display:"flex",width:"auto",borderStyle:"solid",justifyContent:"spaceBetween"}},[t("div",{staticClass:"lable",style:{padding:"0 10px",color:"#333",textAlign:"left",display:"inline-block",width:"auto",fontSize:"14px",lineHeight:"40px",height:"40px"}},[e._v("材料")]),t("div",{style:{width:"auto",padding:"0 10px",fontSize:"14px",lineHeight:"40px",color:"#666"}},[e._v(e._s(e.detail.cailiao))])]),t("div",{staticClass:"item",style:{padding:"10px",margin:"0 20px 8px 20px",borderColor:"#ccc",background:"none",borderWidth:"0 0 1px 0",display:"flex",width:"auto",borderStyle:"solid",justifyContent:"spaceBetween"}},[t("div",{staticClass:"lable",style:{padding:"0 10px",color:"#333",textAlign:"left",display:"inline-block",width:"auto",fontSize:"14px",lineHeight:"40px",height:"40px"}},[e._v("发布日期")]),t("div",{style:{width:"auto",padding:"0 10px",fontSize:"14px",lineHeight:"40px",color:"#666"}},[e._v(e._s(e.detail.faburiqi))])]),t("div",{staticClass:"item",style:{padding:"10px",margin:"0 20px 8px 20px",borderColor:"#ccc",background:"none",borderWidth:"0 0 1px 0",display:"flex",width:"auto",borderStyle:"solid",justifyContent:"spaceBetween"}},[t("div",{staticClass:"lable",style:{padding:"0 10px",color:"#333",textAlign:"left",display:"inline-block",width:"auto",fontSize:"14px",lineHeight:"40px",height:"40px"}},[e._v("点击次数")]),t("div",{style:{width:"auto",padding:"0 10px",fontSize:"14px",lineHeight:"40px",color:"#666"}},[e._v(e._s(e.detail.clicknum))])]),t("div",{staticClass:"btn",style:{width:"auto",padding:"10px 0",margin:"0 0 10px 20px",flexWrap:"wrap",display:"flex"}},[e.isAuth("caipuxinxi","评分")?t("el-button",{style:{border:"0",cursor:"pointer",padding:"0 10px",margin:"5px 10px",outline:"none",color:"#666",borderRadius:"4px",background:"linear-gradient(90deg, rgba(255,233,100,1) 0%, rgba(194,248,126,1) 29%, rgba(181,233,252,1) 61%, rgba(246,172,218,1) 100%)",width:"auto",lineHeight:"40px",fontSize:"14px",height:"15%"},attrs:{type:"warning"},on:{click:function(t){return e.onAcross("pingfenxinxi","","[1]","该菜系已评分")}}},[e._v("评分")]):e._e()],1)]),t("div",{staticClass:"hot",style:{border:"2px solid #dbd9f4",padding:"0 0 8px",margin:"0px 10px 0px 20px",top:"524px",borderRadius:"8px",flexWrap:"wrap",background:"#fff",display:"flex",width:"45%",position:"absolute",height:"auto"}},[t("div",{style:{padding:"0",margin:"0 auto",color:"#333",textAlign:"center",background:"url(http://codegen.caihongy.cn/20221105/bb1ea9437beb4e1da8fcd1583db2f111.png) no-repeat,radial-gradient(circle, rgba(219,217,244,1) 0%, rgba(181,177,240,1) 100%)",width:"260px",lineHeight:"42px",fontSize:"18px",order:"0"}},[e._v("热门信息")]),t("div",{style:{padding:"10px",flexWrap:"wrap",background:"#fff",display:"flex",width:"100%",justifyContent:"space-between",height:"auto"}},e._l(e.hotList,(function(i){return t("div",{key:i,style:{cursor:"pointer",width:"23%",padding:"0",background:"#fff",height:"auto"},on:{click:function(t){return e.toDetail(i)}}},[i.caipufengmian&&"http"==i.caipufengmian.substr(0,4)?t("img",{style:{width:"100%",objectFit:"cover",display:"block",height:"120px"},attrs:{src:i.caipufengmian,alt:""}}):t("img",{style:{width:"100%",objectFit:"cover",display:"block",height:"120px"},attrs:{src:e.baseUrl+(i.caipufengmian?i.caipufengmian.split(",")[0]:""),alt:""}}),t("div",{style:{padding:"4px 5px 0",fontSize:"14px",lineHeight:"24px",color:"#000",background:"#f8f8fc"}},[e._v(e._s(i.caipumingcheng))]),t("div",{style:{padding:"4px 5px 0",fontSize:"14px",lineHeight:"24px",color:"#000",background:"#f8f8fc"}},[e._v(e._s(i.caishileixing))]),t("div",{style:{padding:"4px 5px 0",fontSize:"14px",lineHeight:"24px",color:"#000",background:"#f8f8fc"}},[e._v(e._s(i.fenshu))])])})),0)])],1),t("el-tabs",{staticClass:"detail",style:{border:"2px solid #dbd9f4",boxShadow:"none",padding:"10px",margin:"20px 0",borderRadius:"8px",background:"#fff"},attrs:{type:"border-card"},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[t("el-tab-pane",{attrs:{label:"制作流程",name:"first"}},[t("div",{domProps:{innerHTML:e._s(e.detail.zhizuoliucheng)}})]),t("el-tab-pane",{attrs:{label:"评论",name:"second"}},[t("el-form",{ref:"form",staticClass:"add comment",style:{padding:"15px",margin:"0 0 20px",display:"flex"},attrs:{model:e.form,rules:e.rules}},[t("el-form-item",{staticClass:"item",style:{width:"60%",display:"flex",height:"auto"},attrs:{label:"评论",prop:"content"}},[t("el-input",{attrs:{type:"textarea",rows:5,placeholder:"请输入内容"},model:{value:e.form.content,callback:function(t){e.$set(e.form,"content",t)},expression:"form.content"}})],1),t("el-form-item",{staticClass:"btn",style:{width:"100%",padding:"0 0 0 50px",margin:"0px 0 0",height:"100px"}},[t("el-button",{style:{border:"0",cursor:"pointer",padding:"0",margin:"40px 20px 40px 50px",outline:"none",color:"#666",borderRadius:"10px",background:"rgba(223, 218, 235, 1)",width:"128px",lineHeight:"40px",fontSize:"14px",height:"40px"},attrs:{type:"primary"},on:{click:function(t){return e.submitForm("form")}}},[e._v("立即提交")]),t("el-button",{style:{border:"2px solid #dfdaeb",cursor:"pointer",padding:"0",margin:"0 20px 0 0",outline:"none",color:"#666",borderRadius:"10px",background:"none",width:"128px",lineHeight:"40px",fontSize:"14px",height:"40px"},on:{click:function(t){return e.resetForm("form")}}},[e._v("重置")])],1)],1),e.infoList.length?t("div",{staticClass:"comment",style:{padding:"15px",flexWrap:"wrap",display:"flex"}},e._l(e.infoList,(function(a){return t("div",{key:a.id,style:{padding:"0",margin:"0 20px 20px",borderColor:"#ddd",overflow:"hidden",alignItems:"center",borderWidth:"0 0 1px 0",background:"#fcfcfc",width:"45%",borderStyle:"solid",height:"auto"}},[t("div",{staticClass:"user",style:{width:"100%",alignItems:"center",background:"#f5f5fc",display:"flex",height:"auto"}},[a.avatarurl?t("el-image",{style:{width:"50px",margin:"0 10px 0 0",borderRadius:"0",objectFit:"cover",height:"50px"},attrs:{size:50,src:e.baseUrl+a.avatarurl}}):e._e(),a.avatarurl?e._e():t("el-image",{style:{width:"50px",margin:"0 10px 0 0",borderRadius:"0",objectFit:"cover",height:"50px"},attrs:{size:50,src:i("c657")}}),t("div",{staticClass:"name",style:{color:"#ab85d3",fontSize:"16px"}},[e._v(e._s(a.nickname))])],1),t("div",{staticClass:"content-block-ask",style:{padding:"8px",margin:"10px 0px 0px",color:"#333",borderRadius:"4px",lineHeight:"30px",fontSize:"14px",textIndent:"2em"}},[e._v(" "+e._s(a.content)+" ")]),a.reply?t("div",{staticClass:"content-block-reply",style:{padding:"8px",margin:"10px 0px 0px",color:"#333",borderRadius:"4px",lineHeight:"30px",fontSize:"14px",textIndent:"2em"}},[e._v(" 回复："+e._s(a.reply)+" ")]):e._e()])})),0):e._e(),t("el-pagination",{staticClass:"pagination",style:{width:"1200px",padding:"0",margin:"20px auto",whiteSpace:"nowrap",color:"#333",fontWeight:"500"},attrs:{background:"","pager-count":7,"page-size":e.pageSize,"page-sizes":e.pageSizes,"prev-text":"<","next-text":">","hide-on-single-page":!0,layout:["total","prev","pager","next","sizes","jumper"].join(),total:e.total},on:{"current-change":e.curChange,"prev-click":e.prevClick,"next-click":e.nextClick}})],1)],1)],1)])},st=[],ot={data(){return{tablename:"caipuxinxi",baseUrl:"",breadcrumbItem:[{name:"详情信息"}],title:"",detailBanner:[],endTime:0,hotList:[],detail:{},activeName:"first",form:{content:"",userid:localStorage.getItem("userid"),nickname:localStorage.getItem("username"),avatarurl:""},infoList:[],total:1,pageSize:5,pageSizes:[10,20,30,50],totalPage:1,rules:{content:[{required:!0,message:"请输入内容",trigger:"blur"}]},storeupParams:{name:"",picture:"",refid:0,tablename:"caipuxinxi",userid:localStorage.getItem("userid")},isStoreup:!1,storeupInfo:{},buynumber:1}},created(){this.init()},methods:{init(){this.baseUrl=this.$config.baseUrl,this.$route.query.detailObj&&(this.detail=JSON.parse(this.$route.query.detailObj)),this.$route.query.storeupObj&&(this.detail.id=JSON.parse(this.$route.query.storeupObj).refid),this.$http.get(this.tablename+"/detail/"+this.detail.id,{}).then(e=>{0==e.data.code&&(this.detail=e.data.data,this.title=this.detail.caipumingcheng,this.detailBanner=this.detail.caipufengmian?this.detail.caipufengmian.split(","):[],this.$forceUpdate())}),this.getDiscussList(1),this.getStoreupStatus(),this.getHotList()},toDetail(e){this.$router.push({path:"/index/caipuxinxiDetail",query:{detailObj:JSON.stringify(e)}}),this.init(),document.body.scrollTop=0,document.documentElement.scrollTop=0},getHotList(){let e="";e="caipuxinxi/autoSort",localStorage.getItem("Token")&&(e="caipuxinxi/autoSort2"),this.$http.get(e,{params:{page:1,limit:4}}).then(e=>{0==e.data.code&&(this.hotList=e.data.data.list)})},onAcross(e,t,i,a,r){if(localStorage.setItem("crossTable","caipuxinxi"),localStorage.setItem("crossObj",JSON.stringify(this.detail)),localStorage.setItem("statusColumnName",i),localStorage.setItem("statusColumnValue",r),localStorage.setItem("tips",a),""!=i&&!i.startsWith("[")){var s=JSON.parse(localStorage.getItem("crossObj"));for(var o in s)if(o==i&&s[o]==r)return void this.$message({type:"success",message:a,duration:1500})}this.$router.push({path:"/index/"+e+"Add",query:{type:"cross"}})},storeup(e){1!=e||this.isStoreup||(this.storeupParams.name=this.title,this.storeupParams.picture=this.detailBanner[0],this.storeupParams.inteltype=this.detail.caishileixing,this.storeupParams.refid=this.detail.id,this.storeupParams.type=e,this.$http.post("storeup/add",this.storeupParams).then(e=>{0==e.data.code&&(this.isStoreup=!0,this.$message({type:"success",message:"收藏成功!",duration:1500}))})),-1==e&&this.isStoreup&&this.$http.get("storeup/list",{params:{page:1,limit:1,type:1,refid:this.detail.id,tablename:"caipuxinxi",userid:localStorage.getItem("userid")}}).then(e=>{if(0==e.data.code&&e.data.data.list.length>0){this.isStoreup=!0,this.storeupInfo=e.data.data.list[0];let t=new Array;t.push(this.storeupInfo.id),this.$http.post("storeup/delete",t).then(e=>{0==e.data.code&&(this.isStoreup=!1,this.$message({type:"success",message:"取消成功!",duration:1500}))})}})},getStoreupStatus(){localStorage.getItem("Token")&&this.$http.get("storeup/list",{params:{page:1,limit:1,type:1,refid:this.detail.id,tablename:"caipuxinxi",userid:localStorage.getItem("userid")}}).then(e=>{0==e.data.code&&e.data.data.list.length>0&&(this.isStoreup=!0,this.storeupInfo=e.data.data.list[0])})},curChange(e){this.getDiscussList(e)},prevClick(e){this.getDiscussList(e)},nextClick(e){this.getDiscussList(e)},download(e){e?window.open(this.baseUrl+e):this.$message({type:"error",message:"文件不存在",duration:1500})},getDiscussList(e){this.$http.get("discusscaipuxinxi/list",{params:{page:e,limit:this.pageSize,refid:this.detail.id}}).then(e=>{0==e.data.code&&(this.infoList=e.data.data.list,this.total=e.data.data.total,this.pageSize=e.data.data.pageSize,this.pageSizes=[this.pageSize,2*this.pageSize,3*this.pageSize,5*this.pageSize],this.totalPage=e.data.data.totalPage)})},submitForm(e){let t="",i=[];t&&(i=t.split(","));for(var a=0;a<i.length;a++){var r=new RegExp(i[a],"g");this.form.content.indexOf(i[a])>-1&&(this.form.content=this.form.content.replace(r,"**"))}this.$refs[e].validate(e=>{if(!e)return!1;this.form.refid=this.detail.id,this.form.avatarurl=localStorage.getItem("headportrait")?localStorage.getItem("headportrait"):"",this.$http.post("discusscaipuxinxi/add",this.form).then(e=>{0==e.data.code&&(this.form.content="",this.getDiscussList(1),this.$message({type:"success",message:"评论成功!",duration:1500}))})})},resetForm(e){this.$refs[e].resetFields()}},components:{CountDown:ke}},nt=ot,lt=(i("2414"),Object(u["a"])(nt,rt,st,!1,null,"6cc579a2",null)),dt=lt.exports,pt=function(){var e=this,t=e._self._c;return t("div",{style:{border:"2px solid #dbd9f4",padding:"20px",margin:"10px auto",borderRadius:"8px",background:"#fff",width:"1200px",position:"relative"}},[t("el-form",{ref:"ruleForm",staticClass:"add-update-preview",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"80px"}},[t("el-form-item",{style:{padding:"10px",margin:"0 0 10px",background:"0"},attrs:{label:"菜谱名称",prop:"caipumingcheng"}},[t("el-input",{attrs:{placeholder:"菜谱名称",clearable:""},model:{value:e.ruleForm.caipumingcheng,callback:function(t){e.$set(e.ruleForm,"caipumingcheng",t)},expression:"ruleForm.caipumingcheng"}})],1),"cross"!=e.type||"cross"==e.type&&!e.ro.caipufengmian?t("el-form-item",{style:{padding:"10px",margin:"0 0 10px",background:"0"},attrs:{label:"菜谱封面",prop:"caipufengmian"}},[t("file-upload",{attrs:{tip:"点击上传菜谱封面",action:"file/upload",limit:3,multiple:!0,fileUrls:e.ruleForm.caipufengmian?e.ruleForm.caipufengmian:""},on:{change:e.caipufengmianUploadChange}})],1):t("el-form-item",{staticClass:"upload",style:{padding:"10px",margin:"0 0 10px",background:"0"},attrs:{label:"菜谱封面",prop:"caipufengmian"}},["http"==e.ruleForm.caipufengmian.substring(0,4)?t("img",{key:e.index,staticClass:"upload-img",staticStyle:{"margin-right":"20px"},attrs:{src:e.ruleForm.caipufengmian.split(",")[0],width:"100",height:"100"}}):e._l(e.ruleForm.caipufengmian.split(","),(function(i,a){return t("img",{key:a,staticClass:"upload-img",staticStyle:{"margin-right":"20px"},attrs:{src:e.baseUrl+i,width:"100",height:"100"}})}))],2),t("el-form-item",{style:{padding:"10px",margin:"0 0 10px",background:"0"},attrs:{label:"菜式类型",prop:"caishileixing"}},[t("el-select",{attrs:{placeholder:"请选择菜式类型"},model:{value:e.ruleForm.caishileixing,callback:function(t){e.$set(e.ruleForm,"caishileixing",t)},expression:"ruleForm.caishileixing"}},e._l(e.caishileixingOptions,(function(e,i){return t("el-option",{key:i,attrs:{label:e,value:e}})})),1)],1),t("el-form-item",{style:{padding:"10px",margin:"0 0 10px",background:"0"},attrs:{label:"烹饪方式",prop:"pengrenfangshi"}},[t("el-input",{attrs:{placeholder:"烹饪方式",clearable:""},model:{value:e.ruleForm.pengrenfangshi,callback:function(t){e.$set(e.ruleForm,"pengrenfangshi",t)},expression:"ruleForm.pengrenfangshi"}})],1),t("el-form-item",{style:{padding:"10px",margin:"0 0 10px",background:"0"},attrs:{label:"分数",prop:"fenshu"}},[t("el-input",{attrs:{placeholder:"分数",clearable:""},model:{value:e.ruleForm.fenshu,callback:function(t){e.$set(e.ruleForm,"fenshu",t)},expression:"ruleForm.fenshu"}})],1),t("el-form-item",{style:{padding:"10px",margin:"0 0 10px",background:"0"},attrs:{label:"发布日期",prop:"faburiqi"}},[e._v('" v-model="ruleForm.faburiqi" type="date" placeholder="发布日期"> ')]),t("el-form-item",{style:{padding:"10px",margin:"0 0 10px",background:"0"},attrs:{label:"材料",prop:"cailiao"}},[t("el-input",{attrs:{type:"textarea",rows:8,placeholder:"材料"},model:{value:e.ruleForm.cailiao,callback:function(t){e.$set(e.ruleForm,"cailiao",t)},expression:"ruleForm.cailiao"}})],1),t("el-form-item",{style:{padding:"10px",margin:"0 0 10px",background:"0"},attrs:{label:"制作流程",prop:"zhizuoliucheng"}},[t("editor",{staticClass:"editor",style:{border:"1px solid #cbbae8",width:"100%",borderRadius:"4px",height:"auto"},attrs:{action:"file/upload"},model:{value:e.ruleForm.zhizuoliucheng,callback:function(t){e.$set(e.ruleForm,"zhizuoliucheng",t)},expression:"ruleForm.zhizuoliucheng"}})],1),t("el-form-item",{style:{padding:"0",margin:"0"}},[t("el-button",{style:{border:"0",cursor:"pointer",padding:"0",margin:"0 25%",outline:"none",color:"#666",borderRadius:"10px",background:"linear-gradient(90deg, rgba(255,233,100,1) 0%, rgba(194,248,126,1) 29%, rgba(181,233,252,1) 61%, rgba(246,172,218,1) 100%)",width:"128px",lineHeight:"40px",fontSize:"14px",height:"40px"},attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("提交")]),t("el-button",{style:{border:"2px solid rgba(213, 203, 235, 1)",cursor:"pointer",padding:"0",margin:"0",outline:"none",color:"#000",borderRadius:"4px",background:"rgba(255, 255, 255, 1)",width:"128px",lineHeight:"40px",fontSize:"14px",height:"40px"},on:{click:function(t){return e.back()}}},[e._v("返回")])],1)],1)],1)},ct=[],ut={data(){return{id:"",baseUrl:"",ro:{caipumingcheng:!1,caipufengmian:!1,caishileixing:!1,pengrenfangshi:!1,fenshu:!1,cailiao:!1,zhizuoliucheng:!1,faburiqi:!1,clicktime:!1,clicknum:!1},type:"",userTableName:localStorage.getItem("UserTableName"),ruleForm:{caipumingcheng:"",caipufengmian:"",caishileixing:"",pengrenfangshi:"",fenshu:"0",cailiao:"",zhizuoliucheng:"",faburiqi:"",clicktime:"",clicknum:""},caishileixingOptions:[],rules:{caipumingcheng:[{required:!0,message:"菜谱名称不能为空",trigger:"blur"}],caipufengmian:[],caishileixing:[{required:!0,message:"菜式类型不能为空",trigger:"blur"}],pengrenfangshi:[],fenshu:[{required:!0,message:"分数不能为空",trigger:"blur"},{validator:this.$validate.isIntNumer,trigger:"blur"}],cailiao:[],zhizuoliucheng:[],faburiqi:[],clicktime:[],clicknum:[{validator:this.$validate.isIntNumer,trigger:"blur"}]}}},computed:{},components:{},created(){let e=this.$route.query.type?this.$route.query.type:"";this.init(e),this.baseUrl=this.$config.baseUrl,this.ruleForm.faburiqi=this.getCurDate()},methods:{getMakeZero(e){return e<10?"0"+e:e},download(e){window.open(""+e)},init(e){if(this.type=e,"cross"==e){var t=JSON.parse(localStorage.getItem("crossObj"));for(var i in t)"caipumingcheng"!=i?"caipufengmian"!=i?"caishileixing"!=i?"pengrenfangshi"!=i?"fenshu"!=i?"cailiao"!=i?"zhizuoliucheng"!=i?"faburiqi"!=i?"clicktime"!=i?"clicknum"!=i||(this.ruleForm.clicknum=t[i],this.ro.clicknum=!0):(this.ruleForm.clicktime=t[i],this.ro.clicktime=!0):(this.ruleForm.faburiqi=t[i],this.ro.faburiqi=!0):(this.ruleForm.zhizuoliucheng=t[i],this.ro.zhizuoliucheng=!0):(this.ruleForm.cailiao=t[i],this.ro.cailiao=!0):(this.ruleForm.fenshu=t[i],this.ro.fenshu=!0):(this.ruleForm.pengrenfangshi=t[i],this.ro.pengrenfangshi=!0):(this.ruleForm.caishileixing=t[i],this.ro.caishileixing=!0):(this.ruleForm.caipufengmian=t[i].split(",")[0],this.ro.caipufengmian=!0):(this.ruleForm.caipumingcheng=t[i],this.ro.caipumingcheng=!0)}this.$http.get(this.userTableName+"/session",{emulateJSON:!0}).then(e=>{if(0==e.data.code)e.data.data}),this.$http.get("option/caishileixing/caishileixing",{emulateJSON:!0}).then(e=>{0==e.data.code&&(this.caishileixingOptions=e.data.data)})},info(e){this.$http.get("caipuxinxi/detail/${id}",{emulateJSON:!0}).then(e=>{0==e.data.code&&(this.ruleForm=e.data.data)})},onSubmit(){var e,t,i;this.$refs["ruleForm"].validate(a=>{if(a){if("cross"==this.type){var r=localStorage.getItem("statusColumnName"),s=localStorage.getItem("statusColumnValue");if(r&&""!=r){var o=JSON.parse(localStorage.getItem("crossObj"));if(r.startsWith("["))e=Number(localStorage.getItem("userid")),t=o["id"],i=localStorage.getItem("statusColumnName"),i=i.replace(/\[/,"").replace(/\]/,"");else{for(var n in o)n==r&&(o[n]=s);var l=localStorage.getItem("crossTable");this.$http.post(l+"/update",o).then(e=>{})}}}if(t&&e){this.ruleForm.crossuserid=e,this.ruleForm.crossrefid=t;var d={page:1,limit:10,crossuserid:e,crossrefid:t};this.$http.get("caipuxinxi/list",{params:d}).then(e=>{if(e.data.data.total>=i)return this.$message({message:localStorage.getItem("tips"),type:"success",duration:1500}),!1;this.$http.post("caipuxinxi/add",this.ruleForm).then(e=>{0==e.data.code?this.$message({message:"操作成功",type:"success",duration:1500,onClose:()=>{this.$router.go(-1)}}):this.$message({message:e.data.msg,type:"error",duration:1500})})})}else this.$http.post("caipuxinxi/add",this.ruleForm).then(e=>{0==e.data.code?this.$message({message:"操作成功",type:"success",duration:1500,onClose:()=>{this.$router.go(-1)}}):this.$message({message:e.data.msg,type:"error",duration:1500})})}})},getUUID(){return(new Date).getTime()},back(){this.$router.go(-1)},caipufengmianUploadChange(e){this.ruleForm.caipufengmian=e.replace(new RegExp(this.$config.baseUrl,"g"),"")}}},gt=ut,ht=(i("19bf"),Object(u["a"])(gt,pt,ct,!1,null,"6d5c4e76",null)),mt=ht.exports,xt=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"breadcrumb-preview",style:{padding:"12px",margin:"10px auto",borderColor:"#dbd9f4",borderRadius:"8px",background:"#fff",borderWidth:"0 0 2px",width:"1200px",borderStyle:"solid"}},[t("el-breadcrumb",{style:{width:"100%",margin:"0 auto",fontSize:"14px",lineHeight:"1",display:"flex"},attrs:{separator:"Ξ"}},[t("el-breadcrumb-item",[e._v("首页")]),e._l(e.breadcrumbItem,(function(i,a){return t("el-breadcrumb-item",{key:a},[e._v(e._s(i.name))])}))],2)],1),t("div",{staticClass:"list-preview",style:{width:"1200px",margin:"10px auto",position:"relative",background:"none"}},[t("el-form",{staticClass:"list-form-pv",style:{border:"2px solid #dbd9f4",padding:"10px",margin:"10px 0 0 0",alignItems:"center",borderRadius:"8px",flexWrap:"wrap",background:"#f8f8fc",display:"flex",width:"100%",height:"auto"},attrs:{inline:!0,model:e.formSearch}},[t("el-form-item",{style:{margin:"10px"}},[t("div",{staticClass:"lable",style:{width:"auto",padding:"0 10px",lineHeight:"42px",display:"inline-block"}},[e._v("菜谱名称")]),t("el-input",{attrs:{placeholder:"菜谱名称",clearable:""},model:{value:e.formSearch.caipumingcheng,callback:function(t){e.$set(e.formSearch,"caipumingcheng",t)},expression:"formSearch.caipumingcheng"}})],1),t("el-form-item",{style:{margin:"10px"}},[t("div",{staticClass:"lable",style:{width:"auto",padding:"0 10px",lineHeight:"42px",display:"inline-block"}},[e._v("菜式类型")]),t("el-input",{attrs:{placeholder:"菜式类型",clearable:""},model:{value:e.formSearch.caishileixing,callback:function(t){e.$set(e.formSearch,"caishileixing",t)},expression:"formSearch.caishileixing"}})],1),t("el-button",{style:{cursor:"pointer",border:"0",padding:"0px 15px",margin:"0 10px 0 0",outline:"none",color:"#666",borderRadius:"6px",background:"linear-gradient(90deg, rgba(255,233,100,1) 0%, rgba(194,248,126,1) 29%, rgba(181,233,252,1) 61%, rgba(246,172,218,1) 100%)",width:"auto",fontSize:"14px",lineHeight:"42px",height:"42px"},attrs:{type:"primary"},on:{click:function(t){return e.getList(1,e.curFenlei)}}},[t("i",{staticClass:"el-icon-search",style:{color:"#666",margin:"0 10px 0 0",fontSize:"14px"}}),e._v("查询")]),e.isAuth("pingfenxinxi","新增")?t("el-button",{style:{cursor:"pointer",border:"0",padding:"0px 15px",margin:"0 10px 0 0",outline:"none",color:"#666",borderRadius:"6px",background:"linear-gradient(90deg, rgba(255,233,100,1) 0%, rgba(194,248,126,1) 29%, rgba(181,233,252,1) 61%, rgba(246,172,218,1) 100%)",width:"auto",fontSize:"14px",lineHeight:"42px",height:"42px"},attrs:{type:"primary"},on:{click:function(t){return e.add("/index/pingfenxinxiAdd")}}},[t("i",{staticClass:"el-icon-circle-plus-outline",style:{color:"#666",margin:"0 10px 0 0",fontSize:"14px"}}),e._v("添加")]):e._e()],1),t("div",{staticClass:"list",style:{border:"2px solid #dbd9f4",margin:"20px 0 0 0",borderRadius:"8px",background:"#fff"}},[t("div",{staticClass:"list2 index-pv1",style:{width:"100%",padding:"20px 32px 20px 20px",flexWrap:"wrap",justifyContent:"space-between",display:"block",height:"auto"}},e._l(e.dataList,(function(i,a){return t("div",{key:a,staticClass:"list-item animation-box",style:{cursor:"pointer",padding:"0",margin:"0 0 20px 2%",borderRadius:"8px",background:"#f6f6f6",display:"inline-block",width:"23%",fontSize:"0",position:"relative",height:"auto"},on:{click:function(t){return e.toDetail(i)}}},[t("div",{staticClass:"item-info",style:{padding:"0px",overflow:"hidden",borderRadius:"0 0 8px 8px",background:"#f6f6f6",display:"inline-block",width:"100%",height:"auto"}},[i.price?t("div",{staticClass:"price",style:{padding:"0px",margin:"0 12px 4px 0",lineHeight:"24px",fontSize:"12px",color:"#d15858",textAlign:"right"}},[t("span",{style:{fontSize:"12px"}},[e._v("¥")]),e._v(e._s(i.price))]):e._e()])])})),0)]),t("el-pagination",{staticClass:"pagination",style:{width:"1200px",padding:"0",margin:"20px auto",whiteSpace:"nowrap",color:"#333",fontWeight:"500"},attrs:{background:"","pager-count":7,"page-size":e.pageSize,"page-sizes":e.pageSizes,"prev-text":"<","next-text":">","hide-on-single-page":!0,layout:["total","prev","pager","next","sizes","jumper"].join(),total:e.total},on:{"current-change":e.curChange,"size-change":e.sizeChange,"prev-click":e.prevClick,"next-click":e.nextClick}})],1)])},bt=[],ft={data(){return{layouts:"",swiperIndex:-1,baseUrl:"",breadcrumbItem:[{name:"评分信息"}],formSearch:{caipumingcheng:"",caishileixing:""},fenlei:[],dataList:[],total:1,pageSize:12,pageSizes:[10,20,30,50],totalPage:1,curFenlei:"全部",isPlain:!1,indexQueryCondition:"",timeRange:[]}},created(){this.indexQueryCondition=this.$route.query.indexQueryCondition?this.$route.query.indexQueryCondition:"",this.baseUrl=this.$config.baseUrl,this.getFenlei(),this.getList(1,"全部")},methods:{add(e){this.$router.push({path:e})},getFenlei(){},getList(e,t,i=""){let a={page:e,limit:this.pageSize},r={};""!=this.formSearch.caipumingcheng&&(r.caipumingcheng="%"+this.formSearch.caipumingcheng+"%"),""!=this.formSearch.caishileixing&&(r.caishileixing="%"+this.formSearch.caishileixing+"%"),this.$http.get("pingfenxinxi/list",{params:Object.assign(a,r)}).then(e=>{0==e.data.code&&(this.dataList=e.data.data.list,this.total=e.data.data.total,this.pageSize=e.data.data.pageSize,this.totalPage=e.data.data.totalPage,this.pageSizes=[this.pageSize,2*this.pageSize,3*this.pageSize,5*this.pageSize])})},curChange(e){this.getList(e)},prevClick(e){this.getList(e)},sizeChange(e){this.pageSize=e,this.getList(1)},nextClick(e){this.getList(e)},toDetail(e){this.$router.push({path:"/index/pingfenxinxiDetail",query:{detailObj:JSON.stringify(e)}})}}},yt=ft,vt=(i("020f"),Object(u["a"])(yt,xt,bt,!1,null,"c7d15ada",null)),wt=vt.exports,St=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"breadcrumb-preview",style:{padding:"12px",margin:"10px auto",borderColor:"#dbd9f4",borderRadius:"8px",background:"#fff",borderWidth:"0 0 2px",width:"1200px",borderStyle:"solid"}},[t("el-breadcrumb",{style:{width:"100%",margin:"0 auto",fontSize:"14px",lineHeight:"1",display:"flex"},attrs:{separator:"Ξ"}},[t("el-breadcrumb-item",[e._v("首页")]),e._l(e.breadcrumbItem,(function(i,a){return t("el-breadcrumb-item",{key:a},[e._v(e._s(i.name))])}))],2)],1),t("div",{staticClass:"detail-preview",style:{width:"1200px",padding:"0 0 20px",margin:"20px auto 0"}},[t("div",{staticClass:"attr",style:{minHeight:"780px",padding:"0 0 20px",margin:"20px  0 20px",overflow:"hidden",borderRadius:"8px",background:"#fff",display:"block",position:"relative",justifyContent:"space-between",height:"auto"}},[t("el-carousel",{style:{width:"45%",margin:"20px 10px 0px 20px",position:"",float:"left",height:"400px",order:"1"},attrs:{trigger:"click","indicator-position":"inside",arrow:"always",type:"default",direction:"horizontal",height:"400px",autoplay:"false",interval:"3000",loop:"true"}},e._l(e.detailBanner,(function(i){return t("el-carousel-item",{key:i.id,style:{border:"2px solid #dbd9f4",width:"100%",padding:"8px",borderRadius:"8px",background:"#e5e5f5",height:"100%"}},["http"==i.substr(0,4)?t("el-image",{staticClass:"image",style:{width:"100%",objectFit:"cover",borderRadius:"8px",height:"100%"},attrs:{src:i,fit:"cover"}}):t("el-image",{staticClass:"image",style:{width:"100%",objectFit:"cover",borderRadius:"8px",height:"100%"},attrs:{src:e.baseUrl+i,fit:"cover"}})],1)})),1),t("div",{staticClass:"info",style:{border:"8px solid #dbd9f4",minHeight:"750px",padding:"10px",margin:"20px 20px 0 0",borderRadius:"8px 8px 0 8px",background:"linear-gradient(90deg, rgba(250,250,252,1) 0%, rgba(239,239,246,1) 100%)",width:"50%",float:"right",height:"auto",order:"2"}},[t("div",{staticClass:"item",style:{padding:"0",margin:"10px 0 ",alignItems:"center",background:"none",display:"flex",width:"100%",justifyContent:"space-between"}},[t("div",{style:{padding:"0 20px",fontSize:"18px",color:"#333",fontWeight:"600"}})]),t("div",{staticClass:"item",style:{padding:"10px",margin:"0 20px 8px 20px",borderColor:"#ccc",background:"none",borderWidth:"0 0 1px 0",display:"flex",width:"auto",borderStyle:"solid",justifyContent:"spaceBetween"}},[t("div",{staticClass:"lable",style:{padding:"0 10px",color:"#333",textAlign:"left",display:"inline-block",width:"auto",fontSize:"14px",lineHeight:"40px",height:"40px"}},[e._v("菜谱名称")]),t("div",{style:{width:"auto",padding:"0 10px",fontSize:"14px",lineHeight:"40px",color:"#666"}},[e._v(e._s(e.detail.caipumingcheng))])]),t("div",{staticClass:"item",style:{padding:"10px",margin:"0 20px 8px 20px",borderColor:"#ccc",background:"none",borderWidth:"0 0 1px 0",display:"flex",width:"auto",borderStyle:"solid",justifyContent:"spaceBetween"}},[t("div",{staticClass:"lable",style:{padding:"0 10px",color:"#333",textAlign:"left",display:"inline-block",width:"auto",fontSize:"14px",lineHeight:"40px",height:"40px"}},[e._v("菜式类型")]),t("div",{style:{width:"auto",padding:"0 10px",fontSize:"14px",lineHeight:"40px",color:"#666"}},[e._v(e._s(e.detail.caishileixing))])]),t("div",{staticClass:"item",style:{padding:"10px",margin:"0 20px 8px 20px",borderColor:"#ccc",background:"none",borderWidth:"0 0 1px 0",display:"flex",width:"auto",borderStyle:"solid",justifyContent:"spaceBetween"}},[t("div",{staticClass:"lable",style:{padding:"0 10px",color:"#333",textAlign:"left",display:"inline-block",width:"auto",fontSize:"14px",lineHeight:"40px",height:"40px"}},[e._v("分数")]),t("div",{style:{width:"auto",padding:"0 10px",fontSize:"14px",lineHeight:"40px",color:"#666"}},[e._v(e._s(e.detail.fenshu))])]),t("div",{staticClass:"item",style:{padding:"10px",margin:"0 20px 8px 20px",borderColor:"#ccc",background:"none",borderWidth:"0 0 1px 0",display:"flex",width:"auto",borderStyle:"solid",justifyContent:"spaceBetween"}},[t("div",{staticClass:"lable",style:{padding:"0 10px",color:"#333",textAlign:"left",display:"inline-block",width:"auto",fontSize:"14px",lineHeight:"40px",height:"40px"}},[e._v("账号")]),t("div",{style:{width:"auto",padding:"0 10px",fontSize:"14px",lineHeight:"40px",color:"#666"}},[e._v(e._s(e.detail.zhanghao))])]),t("div",{staticClass:"item",style:{padding:"10px",margin:"0 20px 8px 20px",borderColor:"#ccc",background:"none",borderWidth:"0 0 1px 0",display:"flex",width:"auto",borderStyle:"solid",justifyContent:"spaceBetween"}},[t("div",{staticClass:"lable",style:{padding:"0 10px",color:"#333",textAlign:"left",display:"inline-block",width:"auto",fontSize:"14px",lineHeight:"40px",height:"40px"}},[e._v("姓名")]),t("div",{style:{width:"auto",padding:"0 10px",fontSize:"14px",lineHeight:"40px",color:"#666"}},[e._v(e._s(e.detail.xingming))])]),t("div",{staticClass:"item",style:{padding:"10px",margin:"0 20px 8px 20px",borderColor:"#ccc",background:"none",borderWidth:"0 0 1px 0",display:"flex",width:"auto",borderStyle:"solid",justifyContent:"spaceBetween"}},[t("div",{staticClass:"lable",style:{padding:"0 10px",color:"#333",textAlign:"left",display:"inline-block",width:"auto",fontSize:"14px",lineHeight:"40px",height:"40px"}},[e._v("评分日期")]),t("div",{style:{width:"auto",padding:"0 10px",fontSize:"14px",lineHeight:"40px",color:"#666"}},[e._v(e._s(e.detail.pingfenriqi))])]),t("div",{staticClass:"btn",style:{width:"auto",padding:"10px 0",margin:"0 0 10px 20px",flexWrap:"wrap",display:"flex"}})])],1),t("el-tabs",{staticClass:"detail",style:{border:"2px solid #dbd9f4",boxShadow:"none",padding:"10px",margin:"20px 0",borderRadius:"8px",background:"#fff"},attrs:{type:"border-card"},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}})],1)])},kt=[],Ct={data(){return{tablename:"pingfenxinxi",baseUrl:"",breadcrumbItem:[{name:"详情信息"}],title:"",detailBanner:[],endTime:0,detail:{},activeName:"first",total:1,pageSize:5,pageSizes:[10,20,30,50],totalPage:1,rules:{content:[{required:!0,message:"请输入内容",trigger:"blur"}]},buynumber:1}},created(){this.init()},methods:{init(){this.baseUrl=this.$config.baseUrl,this.$route.query.detailObj&&(this.detail=JSON.parse(this.$route.query.detailObj)),this.$http.get(this.tablename+"/detail/"+this.detail.id,{}).then(e=>{0==e.data.code&&(this.detail=e.data.data,this.$forceUpdate())})},curChange(e){this.getDiscussList(e)},prevClick(e){this.getDiscussList(e)},nextClick(e){this.getDiscussList(e)},download(e){e?window.open(this.baseUrl+e):this.$message({type:"error",message:"文件不存在",duration:1500})}},components:{CountDown:ke}},zt=Ct,Ft=(i("db5e"),Object(u["a"])(zt,St,kt,!1,null,"d115cb4e",null)),_t=Ft.exports,At=function(){var e=this,t=e._self._c;return t("div",{style:{border:"2px solid #dbd9f4",padding:"20px",margin:"10px auto",borderRadius:"8px",background:"#fff",width:"1200px",position:"relative"}},[t("el-form",{ref:"ruleForm",staticClass:"add-update-preview",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"80px"}},[t("el-form-item",{style:{padding:"10px",margin:"0 0 10px",background:"0"},attrs:{label:"菜谱名称",prop:"caipumingcheng"}},[t("el-input",{attrs:{placeholder:"菜谱名称",clearable:""},model:{value:e.ruleForm.caipumingcheng,callback:function(t){e.$set(e.ruleForm,"caipumingcheng",t)},expression:"ruleForm.caipumingcheng"}})],1),t("el-form-item",{style:{padding:"10px",margin:"0 0 10px",background:"0"},attrs:{label:"菜式类型",prop:"caishileixing"}},[t("el-input",{attrs:{placeholder:"菜式类型",clearable:""},model:{value:e.ruleForm.caishileixing,callback:function(t){e.$set(e.ruleForm,"caishileixing",t)},expression:"ruleForm.caishileixing"}})],1),t("el-form-item",{style:{padding:"10px",margin:"0 0 10px",background:"0"},attrs:{label:"分数",prop:"fenshu"}},[t("el-select",{attrs:{placeholder:"请选择分数"},model:{value:e.ruleForm.fenshu,callback:function(t){e.$set(e.ruleForm,"fenshu",t)},expression:"ruleForm.fenshu"}},e._l(e.fenshuOptions,(function(e,i){return t("el-option",{key:i,attrs:{label:e,value:e}})})),1)],1),t("el-form-item",{style:{padding:"10px",margin:"0 0 10px",background:"0"},attrs:{label:"账号",prop:"zhanghao"}},[t("el-input",{attrs:{placeholder:"账号",clearable:""},model:{value:e.ruleForm.zhanghao,callback:function(t){e.$set(e.ruleForm,"zhanghao",t)},expression:"ruleForm.zhanghao"}})],1),t("el-form-item",{style:{padding:"10px",margin:"0 0 10px",background:"0"},attrs:{label:"姓名",prop:"xingming"}},[t("el-input",{attrs:{placeholder:"姓名",clearable:""},model:{value:e.ruleForm.xingming,callback:function(t){e.$set(e.ruleForm,"xingming",t)},expression:"ruleForm.xingming"}})],1),t("el-form-item",{style:{padding:"10px",margin:"0 0 10px",background:"0"},attrs:{label:"评分日期",prop:"pingfenriqi"}},[e._v('" v-model="ruleForm.pingfenriqi" type="date" placeholder="评分日期"> ')]),t("el-form-item",{style:{padding:"0",margin:"0"}},[t("el-button",{style:{border:"0",cursor:"pointer",padding:"0",margin:"0 25%",outline:"none",color:"#666",borderRadius:"10px",background:"linear-gradient(90deg, rgba(255,233,100,1) 0%, rgba(194,248,126,1) 29%, rgba(181,233,252,1) 61%, rgba(246,172,218,1) 100%)",width:"128px",lineHeight:"40px",fontSize:"14px",height:"40px"},attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("提交")]),t("el-button",{style:{border:"2px solid rgba(213, 203, 235, 1)",cursor:"pointer",padding:"0",margin:"0",outline:"none",color:"#000",borderRadius:"4px",background:"rgba(255, 255, 255, 1)",width:"128px",lineHeight:"40px",fontSize:"14px",height:"40px"},on:{click:function(t){return e.back()}}},[e._v("返回")])],1)],1)],1)},It=[],Tt={data(){return{id:"",baseUrl:"",ro:{caipumingcheng:!1,caishileixing:!1,fenshu:!1,zhanghao:!1,xingming:!1,pingfenriqi:!1,crossuserid:!1,crossrefid:!1},type:"",userTableName:localStorage.getItem("UserTableName"),ruleForm:{caipumingcheng:"",caishileixing:"",fenshu:"",zhanghao:"",xingming:"",pingfenriqi:"",crossuserid:"",crossrefid:""},fenshuOptions:[],rules:{caipumingcheng:[],caishileixing:[],fenshu:[{required:!0,message:"分数不能为空",trigger:"blur"},{validator:this.$validate.isIntNumer,trigger:"blur"}],zhanghao:[],xingming:[],pingfenriqi:[],crossuserid:[],crossrefid:[]}}},computed:{},components:{},created(){let e=this.$route.query.type?this.$route.query.type:"";this.init(e),this.baseUrl=this.$config.baseUrl,this.ruleForm.pingfenriqi=this.getCurDate()},methods:{getMakeZero(e){return e<10?"0"+e:e},download(e){window.open(""+e)},init(e){if(this.type=e,"cross"==e){var t=JSON.parse(localStorage.getItem("crossObj"));for(var i in t)"caipumingcheng"!=i?"caishileixing"!=i?"fenshu"!=i?"zhanghao"!=i?"xingming"!=i?"pingfenriqi"!=i?"crossuserid"!=i?"crossrefid"!=i||(this.ruleForm.crossrefid=t[i],this.ro.crossrefid=!0):(this.ruleForm.crossuserid=t[i],this.ro.crossuserid=!0):(this.ruleForm.pingfenriqi=t[i],this.ro.pingfenriqi=!0):(this.ruleForm.xingming=t[i],this.ro.xingming=!0):(this.ruleForm.zhanghao=t[i],this.ro.zhanghao=!0):(this.ruleForm.fenshu=t[i],this.ro.fenshu=!0):(this.ruleForm.caishileixing=t[i],this.ro.caishileixing=!0):(this.ruleForm.caipumingcheng=t[i],this.ro.caipumingcheng=!0);this.ruleForm.fenshu=0}this.$http.get(this.userTableName+"/session",{emulateJSON:!0}).then(e=>{if(0==e.data.code){var t=e.data.data;(""!=t.zhanghao&&t.zhanghao||0==t.zhanghao)&&(this.ruleForm.zhanghao=t.zhanghao),(""!=t.xingming&&t.xingming||0==t.xingming)&&(this.ruleForm.xingming=t.xingming)}}),this.fenshuOptions="1,2,3,4,5".split(",")},info(e){this.$http.get("pingfenxinxi/detail/${id}",{emulateJSON:!0}).then(e=>{0==e.data.code&&(this.ruleForm=e.data.data)})},onSubmit(){var e,t,i,a=JSON.parse(localStorage.getItem("crossObj"));localStorage.getItem("crossTable");a.fenshu=parseFloat(a.fenshu)+parseFloat(this.ruleForm.fenshu),this.$refs["ruleForm"].validate(a=>{if(a){if("cross"==this.type){var r=localStorage.getItem("statusColumnName"),s=localStorage.getItem("statusColumnValue");if(r&&""!=r){var o=JSON.parse(localStorage.getItem("crossObj"));if(r.startsWith("["))e=Number(localStorage.getItem("userid")),t=o["id"],i=localStorage.getItem("statusColumnName"),i=i.replace(/\[/,"").replace(/\]/,"");else{for(var n in o)n==r&&(o[n]=s);var l=localStorage.getItem("crossTable");this.$http.post(l+"/update",o).then(e=>{})}}}if(t&&e){this.ruleForm.crossuserid=e,this.ruleForm.crossrefid=t;var d={page:1,limit:10,crossuserid:e,crossrefid:t};this.$http.get("pingfenxinxi/list",{params:d}).then(e=>{if(e.data.data.total>=i)return this.$message({message:localStorage.getItem("tips"),type:"success",duration:1500}),!1;var t=JSON.parse(localStorage.getItem("crossObj")),a=localStorage.getItem("crossTable");t.fenshu=parseFloat(t.fenshu)+parseFloat(this.ruleForm.fenshu),this.$http.post(a+"/update",t).then(e=>{}),this.$http.post("pingfenxinxi/add",this.ruleForm).then(e=>{0==e.data.code?this.$message({message:"操作成功",type:"success",duration:1500,onClose:()=>{this.$router.go(-1)}}):this.$message({message:e.data.msg,type:"error",duration:1500})})})}else{o=JSON.parse(localStorage.getItem("crossObj")),l=localStorage.getItem("crossTable");o.fenshu=parseFloat(o.fenshu)+parseFloat(this.ruleForm.fenshu),this.$http.post(l+"/update",o).then(e=>{}),this.$http.post("pingfenxinxi/add",this.ruleForm).then(e=>{0==e.data.code?this.$message({message:"操作成功",type:"success",duration:1500,onClose:()=>{this.$router.go(-1)}}):this.$message({message:e.data.msg,type:"error",duration:1500})})}}})},getUUID(){return(new Date).getTime()},back(){this.$router.go(-1)}}},Nt=Tt,Rt=(i("b2bf"),Object(u["a"])(Nt,At,It,!1,null,"a43ddaae",null)),Dt=Rt.exports,Ut=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"breadcrumb-preview",style:{padding:"12px",margin:"10px auto",borderColor:"#dbd9f4",borderRadius:"8px",background:"#fff",borderWidth:"0 0 2px",width:"1200px",borderStyle:"solid"}},[t("el-breadcrumb",{style:{width:"100%",margin:"0 auto",fontSize:"14px",lineHeight:"1",display:"flex"},attrs:{separator:"Ξ"}},[t("el-breadcrumb-item",[e._v("首页")]),e._l(e.breadcrumbItem,(function(i,a){return t("el-breadcrumb-item",{key:a},[e._v(e._s(i.name))])}))],2)],1),t("div",{staticClass:"list-preview",style:{width:"1200px",margin:"10px auto",position:"relative",background:"none"}},[t("el-form",{staticClass:"list-form-pv",style:{border:"2px solid #dbd9f4",padding:"10px",margin:"10px 0 0 0",alignItems:"center",borderRadius:"8px",flexWrap:"wrap",background:"#f8f8fc",display:"flex",width:"100%",height:"auto"},attrs:{inline:!0,model:e.formSearch}},[t("el-form-item",{style:{margin:"10px"}},[t("div",{staticClass:"lable",style:{width:"auto",padding:"0 10px",lineHeight:"42px",display:"inline-block"}},[e._v("标题")]),t("el-input",{attrs:{placeholder:"标题",clearable:""},model:{value:e.formSearch.title,callback:function(t){e.$set(e.formSearch,"title",t)},expression:"formSearch.title"}})],1),t("el-button",{style:{cursor:"pointer",border:"0",padding:"0px 15px",margin:"0 10px 0 0",outline:"none",color:"#666",borderRadius:"6px",background:"linear-gradient(90deg, rgba(255,233,100,1) 0%, rgba(194,248,126,1) 29%, rgba(181,233,252,1) 61%, rgba(246,172,218,1) 100%)",width:"auto",fontSize:"14px",lineHeight:"42px",height:"42px"},attrs:{type:"primary"},on:{click:function(t){return e.getList(1,e.curFenlei)}}},[t("i",{staticClass:"el-icon-search",style:{color:"#666",margin:"0 10px 0 0",fontSize:"14px"}}),e._v("查询")]),e.isAuth("aboutus","新增")?t("el-button",{style:{cursor:"pointer",border:"0",padding:"0px 15px",margin:"0 10px 0 0",outline:"none",color:"#666",borderRadius:"6px",background:"linear-gradient(90deg, rgba(255,233,100,1) 0%, rgba(194,248,126,1) 29%, rgba(181,233,252,1) 61%, rgba(246,172,218,1) 100%)",width:"auto",fontSize:"14px",lineHeight:"42px",height:"42px"},attrs:{type:"primary"},on:{click:function(t){return e.add("/index/aboutusAdd")}}},[t("i",{staticClass:"el-icon-circle-plus-outline",style:{color:"#666",margin:"0 10px 0 0",fontSize:"14px"}}),e._v("添加")]):e._e()],1),t("div",{staticClass:"list",style:{border:"2px solid #dbd9f4",margin:"20px 0 0 0",borderRadius:"8px",background:"#fff"}},[t("div",{staticClass:"list2 index-pv1",style:{width:"100%",padding:"20px 32px 20px 20px",flexWrap:"wrap",justifyContent:"space-between",display:"block",height:"auto"}},e._l(e.dataList,(function(i,a){return t("div",{key:a,staticClass:"list-item animation-box",style:{cursor:"pointer",padding:"0",margin:"0 0 20px 2%",borderRadius:"8px",background:"#f6f6f6",display:"inline-block",width:"23%",fontSize:"0",position:"relative",height:"auto"},on:{click:function(t){return e.toDetail(i)}}},[t("div",{staticClass:"item-info",style:{padding:"0px",overflow:"hidden",borderRadius:"0 0 8px 8px",background:"#f6f6f6",display:"inline-block",width:"100%",height:"auto"}},[i.price?t("div",{staticClass:"price",style:{padding:"0px",margin:"0 12px 4px 0",lineHeight:"24px",fontSize:"12px",color:"#d15858",textAlign:"right"}},[t("span",{style:{fontSize:"12px"}},[e._v("￥")]),e._v(e._s(i.price))]):e._e()])])})),0)]),t("el-pagination",{staticClass:"pagination",style:{width:"1200px",padding:"0",margin:"20px auto",whiteSpace:"nowrap",color:"#333",fontWeight:"500"},attrs:{background:"","pager-count":7,"page-size":e.pageSize,"page-sizes":e.pageSizes,"prev-text":"<","next-text":">","hide-on-single-page":!0,layout:["total","prev","pager","next","sizes","jumper"].join(),total:e.total},on:{"current-change":e.curChange,"size-change":e.sizeChange,"prev-click":e.prevClick,"next-click":e.nextClick}})],1)])},$t=[],Ht={data(){return{layouts:"",swiperIndex:-1,baseUrl:"",breadcrumbItem:[{name:"关于我们"}],formSearch:{title:""},fenlei:[],dataList:[],total:1,pageSize:12,pageSizes:[10,20,30,50],totalPage:1,curFenlei:"全部",isPlain:!1,indexQueryCondition:"",timeRange:[]}},created(){this.indexQueryCondition=this.$route.query.indexQueryCondition?this.$route.query.indexQueryCondition:"",this.baseUrl=this.$config.baseUrl,this.getFenlei(),this.getList(1,"全部")},methods:{add(e){this.$router.push({path:e})},getFenlei(){},getList(e,t,i=""){let a={page:e,limit:this.pageSize},r={};""!=this.formSearch.title&&(r.title="%"+this.formSearch.title+"%"),this.$http.get("aboutus/list",{params:Object.assign(a,r)}).then(e=>{0==e.data.code&&(this.dataList=e.data.data.list,this.total=e.data.data.total,this.pageSize=e.data.data.pageSize,this.totalPage=e.data.data.totalPage,this.pageSizes=[this.pageSize,2*this.pageSize,3*this.pageSize,5*this.pageSize])})},curChange(e){this.getList(e)},prevClick(e){this.getList(e)},sizeChange(e){this.pageSize=e,this.getList(1)},nextClick(e){this.getList(e)},toDetail(e){this.$router.push({path:"/index/aboutusDetail",query:{detailObj:JSON.stringify(e)}})}}},jt=Ht,Lt=(i("345e"),Object(u["a"])(jt,Ut,$t,!1,null,"4b00b19f",null)),Ot=Lt.exports,Wt=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"breadcrumb-preview",style:{padding:"12px",margin:"10px auto",borderColor:"#dbd9f4",borderRadius:"8px",background:"#fff",borderWidth:"0 0 2px",width:"1200px",borderStyle:"solid"}},[t("el-breadcrumb",{style:{width:"100%",margin:"0 auto",fontSize:"14px",lineHeight:"1",display:"flex"},attrs:{separator:"Ξ"}},[t("el-breadcrumb-item",[e._v("首页")]),e._l(e.breadcrumbItem,(function(i,a){return t("el-breadcrumb-item",{key:a},[e._v(e._s(i.name))])}))],2)],1),t("div",{staticClass:"detail-preview",style:{width:"1200px",padding:"0 0 20px",margin:"20px auto 0"}},[t("div",{staticClass:"attr",style:{minHeight:"780px",padding:"0 0 20px",margin:"20px  0 20px",overflow:"hidden",borderRadius:"8px",background:"#fff",display:"block",position:"relative",justifyContent:"space-between",height:"auto"}},[t("el-carousel",{style:{width:"45%",margin:"20px 10px 0px 20px",position:"",float:"left",height:"400px",order:"1"},attrs:{trigger:"click","indicator-position":"inside",arrow:"always",type:"default",direction:"horizontal",height:"400px",autoplay:"false",interval:"3000",loop:"true"}},e._l(e.detailBanner,(function(i){return t("el-carousel-item",{key:i.id,style:{border:"2px solid #dbd9f4",width:"100%",padding:"8px",borderRadius:"8px",background:"#e5e5f5",height:"100%"}},["http"==i.substr(0,4)?t("el-image",{staticClass:"image",style:{width:"100%",objectFit:"cover",borderRadius:"8px",height:"100%"},attrs:{src:i,fit:"cover"}}):t("el-image",{staticClass:"image",style:{width:"100%",objectFit:"cover",borderRadius:"8px",height:"100%"},attrs:{src:e.baseUrl+i,fit:"cover"}})],1)})),1),t("div",{staticClass:"info",style:{border:"8px solid #dbd9f4",minHeight:"750px",padding:"10px",margin:"20px 20px 0 0",borderRadius:"8px 8px 0 8px",background:"linear-gradient(90deg, rgba(250,250,252,1) 0%, rgba(239,239,246,1) 100%)",width:"50%",float:"right",height:"auto",order:"2"}},[t("div",{staticClass:"item",style:{padding:"0",margin:"10px 0 ",alignItems:"center",background:"none",display:"flex",width:"100%",justifyContent:"space-between"}},[t("div",{style:{padding:"0 20px",fontSize:"18px",color:"#333",fontWeight:"600"}})]),t("div",{staticClass:"item",style:{padding:"10px",margin:"0 20px 8px 20px",borderColor:"#ccc",background:"none",borderWidth:"0 0 1px 0",display:"flex",width:"auto",borderStyle:"solid",justifyContent:"spaceBetween"}},[t("div",{staticClass:"lable",style:{padding:"0 10px",color:"#333",textAlign:"left",display:"inline-block",width:"auto",fontSize:"14px",lineHeight:"40px",height:"40px"}},[e._v("标题")]),t("div",{style:{width:"auto",padding:"0 10px",fontSize:"14px",lineHeight:"40px",color:"#666"}},[e._v(e._s(e.detail.title))])]),t("div",{staticClass:"item",style:{padding:"10px",margin:"0 20px 8px 20px",borderColor:"#ccc",background:"none",borderWidth:"0 0 1px 0",display:"flex",width:"auto",borderStyle:"solid",justifyContent:"spaceBetween"}},[t("div",{staticClass:"lable",style:{padding:"0 10px",color:"#333",textAlign:"left",display:"inline-block",width:"auto",fontSize:"14px",lineHeight:"40px",height:"40px"}},[e._v("副标题")]),t("div",{style:{width:"auto",padding:"0 10px",fontSize:"14px",lineHeight:"40px",color:"#666"}},[e._v(e._s(e.detail.subtitle))])]),t("div",{staticClass:"btn",style:{width:"auto",padding:"10px 0",margin:"0 0 10px 20px",flexWrap:"wrap",display:"flex"}})])],1),t("el-tabs",{staticClass:"detail",style:{border:"2px solid #dbd9f4",boxShadow:"none",padding:"10px",margin:"20px 0",borderRadius:"8px",background:"#fff"},attrs:{type:"border-card"},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[t("el-tab-pane",{attrs:{label:"内容",name:"first"}},[t("div",{domProps:{innerHTML:e._s(e.detail.content)}})])],1)],1)])},Et=[],Mt={data(){return{tablename:"aboutus",baseUrl:"",breadcrumbItem:[{name:"详情信息"}],title:"",detailBanner:[],endTime:0,detail:{},activeName:"first",total:1,pageSize:5,pageSizes:[10,20,30,50],totalPage:1,rules:{content:[{required:!0,message:"请输入内容",trigger:"blur"}]},buynumber:1}},created(){this.init()},methods:{init(){this.baseUrl=this.$config.baseUrl,this.$route.query.detailObj&&(this.detail=JSON.parse(this.$route.query.detailObj)),this.$http.get(this.tablename+"/detail/"+this.detail.id,{}).then(e=>{0==e.data.code&&(this.detail=e.data.data,this.$forceUpdate())})},curChange(e){this.getDiscussList(e)},prevClick(e){this.getDiscussList(e)},nextClick(e){this.getDiscussList(e)},download(e){e?window.open(this.baseUrl+e):this.$message({type:"error",message:"文件不存在",duration:1500})}},components:{CountDown:ke}},qt=Mt,Pt=(i("a872"),Object(u["a"])(qt,Wt,Et,!1,null,"3b23c8f9",null)),Bt=Pt.exports,Qt=function(){var e=this,t=e._self._c;return t("div",{style:{border:"2px solid #dbd9f4",padding:"20px",margin:"10px auto",borderRadius:"8px",background:"#fff",width:"1200px",position:"relative"}},[t("el-form",{ref:"ruleForm",staticClass:"add-update-preview",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"80px"}},[t("el-form-item",{style:{padding:"10px",margin:"0 0 10px",background:"0"},attrs:{label:"标题",prop:"title"}},[t("el-input",{attrs:{placeholder:"标题",clearable:""},model:{value:e.ruleForm.title,callback:function(t){e.$set(e.ruleForm,"title",t)},expression:"ruleForm.title"}})],1),t("el-form-item",{style:{padding:"10px",margin:"0 0 10px",background:"0"},attrs:{label:"副标题",prop:"subtitle"}},[t("el-input",{attrs:{placeholder:"副标题",clearable:""},model:{value:e.ruleForm.subtitle,callback:function(t){e.$set(e.ruleForm,"subtitle",t)},expression:"ruleForm.subtitle"}})],1),"cross"!=e.type||"cross"==e.type&&!e.ro.picture1?t("el-form-item",{style:{padding:"10px",margin:"0 0 10px",background:"0"},attrs:{label:"图片1",prop:"picture1"}},[t("file-upload",{attrs:{tip:"点击上传图片1",action:"file/upload",limit:3,multiple:!0,fileUrls:e.ruleForm.picture1?e.ruleForm.picture1:""},on:{change:e.picture1UploadChange}})],1):t("el-form-item",{key:"picture1-display",staticClass:"upload",style:{padding:"10px",margin:"0 0 10px",background:"0"},attrs:{label:"图片1",prop:"picture1"}},["http"==e.ruleForm.picture1.substring(0,4)?t("img",{key:"http-pic1",staticClass:"upload-img",staticStyle:{"margin-right":"20px"},attrs:{src:e.ruleForm.picture1.split(",")[0],width:"100",height:"100"}}):e._l(e.ruleForm.picture1.split(","),(function(i,a){return t("img",{key:"local-pic1-"+a,staticClass:"upload-img",staticStyle:{"margin-right":"20px"},attrs:{src:e.baseUrl+i,width:"100",height:"100"}})}))],2),"cross"!=e.type||"cross"==e.type&&!e.ro.picture2?t("el-form-item",{style:{padding:"10px",margin:"0 0 10px",background:"0"},attrs:{label:"图片2",prop:"picture2"}},[t("file-upload",{attrs:{tip:"点击上传图片2",action:"file/upload",limit:3,multiple:!0,fileUrls:e.ruleForm.picture2?e.ruleForm.picture2:""},on:{change:e.picture2UploadChange}})],1):t("el-form-item",{key:"picture2-display",staticClass:"upload",style:{padding:"10px",margin:"0 0 10px",background:"0"},attrs:{label:"图片2",prop:"picture2"}},["http"==e.ruleForm.picture2.substring(0,4)?t("img",{key:"http-pic2",staticClass:"upload-img",staticStyle:{"margin-right":"20px"},attrs:{src:e.ruleForm.picture2.split(",")[0],width:"100",height:"100"}}):e._l(e.ruleForm.picture2.split(","),(function(i,a){return t("img",{key:"local-pic2-"+a,staticClass:"upload-img",staticStyle:{"margin-right":"20px"},attrs:{src:e.baseUrl+i,width:"100",height:"100"}})}))],2),"cross"!=e.type||"cross"==e.type&&!e.ro.picture3?t("el-form-item",{style:{padding:"10px",margin:"0 0 10px",background:"0"},attrs:{label:"图片3",prop:"picture3"}},[t("file-upload",{attrs:{tip:"点击上传图片3",action:"file/upload",limit:3,multiple:!0,fileUrls:e.ruleForm.picture3?e.ruleForm.picture3:""},on:{change:e.picture3UploadChange}})],1):t("el-form-item",{key:"picture3-display",staticClass:"upload",style:{padding:"10px",margin:"0 0 10px",background:"0"},attrs:{label:"图片3",prop:"picture3"}},["http"==e.ruleForm.picture3.substring(0,4)?t("img",{key:"http-pic3",staticClass:"upload-img",staticStyle:{"margin-right":"20px"},attrs:{src:e.ruleForm.picture3.split(",")[0],width:"100",height:"100"}}):e._l(e.ruleForm.picture3.split(","),(function(i,a){return t("img",{key:"local-pic3-"+a,staticClass:"upload-img",staticStyle:{"margin-right":"20px"},attrs:{src:e.baseUrl+i,width:"100",height:"100"}})}))],2),t("el-form-item",{style:{padding:"10px",margin:"0 0 10px",background:"0"},attrs:{label:"内容",prop:"content"}},[t("editor",{staticClass:"editor",style:{border:"1px solid #cbbae8",width:"100%",borderRadius:"4px",height:"auto"},attrs:{action:"file/upload"},model:{value:e.ruleForm.content,callback:function(t){e.$set(e.ruleForm,"content",t)},expression:"ruleForm.content"}})],1),t("el-form-item",{style:{padding:"0",margin:"0"}},[t("el-button",{style:{border:"0",cursor:"pointer",padding:"0",margin:"0 25%",outline:"none",color:"#666",borderRadius:"10px",background:"linear-gradient(90deg, rgba(255,233,100,1) 0%, rgba(194,248,126,1) 29%, rgba(181,233,252,1) 61%, rgba(246,172,218,1) 100%)",width:"128px",lineHeight:"40px",fontSize:"14px",height:"40px"},attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("提交")]),t("el-button",{style:{border:"2px solid rgba(213, 203, 235, 1)",cursor:"pointer",padding:"0",margin:"0",outline:"none",color:"#000",borderRadius:"4px",background:"rgba(255, 255, 255, 1)",width:"128px",lineHeight:"40px",fontSize:"14px",height:"40px"},on:{click:function(t){return e.back()}}},[e._v("返回")])],1)],1)],1)},Jt=[],Vt={data(){return{id:"",baseUrl:"",ro:{title:!1,subtitle:!1,content:!1,picture1:!1,picture2:!1,picture3:!1},type:"",userTableName:localStorage.getItem("UserTableName"),ruleForm:{title:"",subtitle:"",content:"",picture1:"",picture2:"",picture3:""},rules:{title:[{required:!0,message:"标题不能为空",trigger:"blur"}],subtitle:[],content:[{required:!0,message:"内容不能为空",trigger:"blur"}],picture1:[],picture2:[],picture3:[]}}},computed:{},components:{},created(){let e=this.$route.query.type?this.$route.query.type:"";this.init(e),this.baseUrl=this.$config.baseUrl},methods:{getMakeZero(e){return e<10?"0"+e:e},download(e){window.open(""+e)},init(e){if(this.type=e,"cross"==e){var t=JSON.parse(localStorage.getItem("crossObj"));for(var i in t)"title"!=i?"subtitle"!=i?"content"!=i?"picture1"!=i?"picture2"!=i?"picture3"!=i||(this.ruleForm.picture3=t[i].split(",")[0],this.ro.picture3=!0):(this.ruleForm.picture2=t[i].split(",")[0],this.ro.picture2=!0):(this.ruleForm.picture1=t[i].split(",")[0],this.ro.picture1=!0):(this.ruleForm.content=t[i],this.ro.content=!0):(this.ruleForm.subtitle=t[i],this.ro.subtitle=!0):(this.ruleForm.title=t[i],this.ro.title=!0)}},info(e){this.$http.get("aboutus/detail/"+e,{emulateJSON:!0}).then(e=>{0==e.data.code&&(this.ruleForm=e.data.data)})},onSubmit(){var e,t,i;this.$refs["ruleForm"].validate(a=>{if(a){if("cross"==this.type){var r=localStorage.getItem("statusColumnName"),s=localStorage.getItem("statusColumnValue");if(r&&""!=r){var o=JSON.parse(localStorage.getItem("crossObj"));if(r.startsWith("["))e=Number(localStorage.getItem("userid")),t=o["id"],i=localStorage.getItem("statusColumnName"),i=i.replace(/\[/,"").replace(/\]/,"");else{for(var n in o)n==r&&(o[n]=s);var l=localStorage.getItem("crossTable");this.$http.post(l+"/update",o).then(e=>{})}}}if(t&&e){this.ruleForm.crossuserid=e,this.ruleForm.crossrefid=t;var d={page:1,limit:10,crossuserid:e,crossrefid:t};this.$http.get("aboutus/list",{params:d}).then(e=>{if(e.data.data.total>=i)return this.$message({message:localStorage.getItem("tips"),type:"success",duration:1500}),!1;this.$http.post("aboutus/add",this.ruleForm).then(e=>{0==e.data.code?this.$message({message:"操作成功",type:"success",duration:1500,onClose:()=>{this.$router.go(-1)}}):this.$message({message:e.data.msg,type:"error",duration:1500})})})}else this.$http.post("aboutus/add",this.ruleForm).then(e=>{0==e.data.code?this.$message({message:"操作成功",type:"success",duration:1500,onClose:()=>{this.$router.go(-1)}}):this.$message({message:e.data.msg,type:"error",duration:1500})})}})},getUUID(){return(new Date).getTime()},back(){this.$router.go(-1)},picture1UploadChange(e){this.ruleForm.picture1=e.replace(new RegExp(this.$config.baseUrl,"g"),"")},picture2UploadChange(e){this.ruleForm.picture2=e.replace(new RegExp(this.$config.baseUrl,"g"),"")},picture3UploadChange(e){this.ruleForm.picture3=e.replace(new RegExp(this.$config.baseUrl,"g"),"")}}},Yt=Vt,Kt=(i("c8d1"),Object(u["a"])(Yt,Qt,Jt,!1,null,"496eab8a",null)),Zt=Kt.exports,Xt=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"breadcrumb-preview",style:{padding:"12px",margin:"10px auto",borderColor:"#dbd9f4",borderRadius:"8px",background:"#fff",borderWidth:"0 0 2px",width:"1200px",borderStyle:"solid"}},[t("el-breadcrumb",{style:{width:"100%",margin:"0 auto",fontSize:"14px",lineHeight:"1",display:"flex"},attrs:{separator:"Ξ"}},[t("el-breadcrumb-item",[e._v("首页")]),t("el-breadcrumb-item",[e._v("我的食材库")])],1)],1),t("div",{staticClass:"list-preview",style:{width:"1200px",margin:"10px auto",position:"relative",background:"none"}},[t("div",{staticClass:"stats-cards",style:{display:"flex",justifyContent:"space-between",marginBottom:"20px"}},[t("div",{staticClass:"stat-card",style:{flex:"1",padding:"20px",margin:"0 10px",borderRadius:"8px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"#fff",textAlign:"center"}},[t("div",{style:{fontSize:"32px",fontWeight:"bold"}},[e._v(e._s(e.totalCount))]),t("div",{style:{fontSize:"14px",marginTop:"8px"}},[e._v("食材总数")])]),t("div",{staticClass:"stat-card",style:{flex:"1",padding:"20px",margin:"0 10px",borderRadius:"8px",background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",color:"#fff",textAlign:"center"}},[t("div",{style:{fontSize:"32px",fontWeight:"bold"}},[e._v(e._s(e.expiringSoonCount))]),t("div",{style:{fontSize:"14px",marginTop:"8px"}},[e._v("即将过期")])]),t("div",{staticClass:"stat-card",style:{flex:"1",padding:"20px",margin:"0 10px",borderRadius:"8px",background:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)",color:"#fff",textAlign:"center"}},[t("div",{style:{fontSize:"32px",fontWeight:"bold"}},[e._v(e._s(e.newCount))]),t("div",{style:{fontSize:"14px",marginTop:"8px"}},[e._v("新鲜食材")])])]),t("div",{staticClass:"category-1",style:{padding:"10px",borderColor:"#dbd9f4",borderRadius:"8px",background:"#fff",borderWidth:"2px 1px 1px 1px",display:"flex",width:"100%",borderStyle:"solid",height:"auto"}},[t("div",{staticClass:"item",class:""==e.statusFilter?"active":"",on:{click:function(t){return e.filterByStatus("")}}},[e._v("全部")]),t("div",{staticClass:"item",class:"new"==e.statusFilter?"active":"",on:{click:function(t){return e.filterByStatus("new")}}},[e._v("新鲜")]),t("div",{staticClass:"item",class:"used"==e.statusFilter?"active":"",on:{click:function(t){return e.filterByStatus("used")}}},[e._v("已使用")]),t("div",{staticClass:"item",class:"expired"==e.statusFilter?"active":"",on:{click:function(t){return e.filterByStatus("expired")}}},[e._v("已过期")]),t("div",{staticClass:"item",class:"expiring"==e.statusFilter?"active":"",on:{click:function(t){return e.filterByStatus("expiring")}}},[e._v("⚠️ 即将过期")])]),t("el-form",{staticClass:"list-form-pv",style:{border:"2px solid #dbd9f4",padding:"10px",margin:"10px 0 0 0",alignItems:"center",borderRadius:"8px",flexWrap:"wrap",background:"#f8f8fc",display:"flex",width:"100%",height:"auto"},attrs:{inline:!0,model:e.formSearch}},[t("el-form-item",{style:{margin:"10px"}},[t("div",{staticClass:"lable",style:{width:"auto",padding:"0 10px",lineHeight:"42px",display:"inline-block"}},[e._v("食材名称")]),t("el-input",{attrs:{placeholder:"食材名称",clearable:""},model:{value:e.formSearch.shicaiName,callback:function(t){e.$set(e.formSearch,"shicaiName",t)},expression:"formSearch.shicaiName"}})],1),t("el-button",{style:{cursor:"pointer",border:"0",padding:"0px 15px",margin:"0 10px 0 0",outline:"none",color:"#666",borderRadius:"6px",background:"linear-gradient(90deg, rgba(255,233,100,1) 0%, rgba(194,248,126,1) 29%, rgba(181,233,252,1) 61%, rgba(246,172,218,1) 100%)",width:"auto",fontSize:"14px",lineHeight:"42px",height:"42px"},attrs:{type:"primary"},on:{click:function(t){return e.getList(1)}}},[t("i",{staticClass:"el-icon-search",style:{color:"#666",margin:"0 10px 0 0",fontSize:"14px"}}),e._v("查询")]),t("el-button",{style:{cursor:"pointer",border:"0",padding:"0px 15px",margin:"0 10px 0 0",outline:"none",color:"#666",borderRadius:"6px",background:"linear-gradient(90deg, rgba(255,233,100,1) 0%, rgba(194,248,126,1) 29%, rgba(181,233,252,1) 61%, rgba(246,172,218,1) 100%)",width:"auto",fontSize:"14px",lineHeight:"42px",height:"42px"},attrs:{type:"primary"},on:{click:function(t){return e.add()}}},[t("i",{staticClass:"el-icon-circle-plus-outline",style:{color:"#666",margin:"0 10px 0 0",fontSize:"14px"}}),e._v("添加食材")]),t("el-button",{style:{cursor:"pointer",border:"0",padding:"0px 15px",margin:"0 10px 0 0",outline:"none",color:"#666",borderRadius:"6px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",width:"auto",fontSize:"14px",lineHeight:"42px",height:"42px",color:"#fff"},attrs:{type:"primary"},on:{click:function(t){return e.receiptScan()}}},[t("i",{staticClass:"el-icon-camera",style:{color:"#fff",margin:"0 10px 0 0",fontSize:"14px"}}),e._v("小票识别")])],1),t("div",{staticClass:"list",style:{border:"2px solid #dbd9f4",margin:"20px 0 0 0",borderRadius:"8px",background:"#fff"}},[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.dataList,"header-cell-style":{background:"#f8f8fc",color:"#333"}}},[t("el-table-column",{attrs:{prop:"shicaiName",label:"食材名称",width:"180"},scopedSlots:e._u([{key:"default",fn:function(i){return[t("span",{style:{fontSize:"16px",fontWeight:"bold"}},[e._v(e._s(i.row.shicaiName))])]}}])}),t("el-table-column",{attrs:{prop:"quantity",label:"数量",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.quantity)+" "+e._s(t.row.unit)+" ")]}}])}),t("el-table-column",{attrs:{prop:"purchaseDate",label:"购买日期",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.formatDate(t.row.purchaseDate))+" ")]}}])}),t("el-table-column",{attrs:{prop:"expiryDate",label:"过期日期",width:"200"},scopedSlots:e._u([{key:"default",fn:function(i){return[t("span",{style:e.getExpiryStyle(i.row.expiryDate)},[e._v(" "+e._s(e.formatDate(i.row.expiryDate))+" "),e.isExpiringSoon(i.row.expiryDate)?t("span",[e._v(" ⚠️")]):e._e()])]}}])}),t("el-table-column",{attrs:{prop:"status",label:"状态",width:"100"},scopedSlots:e._u([{key:"default",fn:function(i){return[t("el-tag",{attrs:{type:e.getStatusType(i.row.status)}},[e._v(e._s(e.getStatusText(i.row.status)))])]}}])}),t("el-table-column",{attrs:{label:"操作",width:"300"},scopedSlots:e._u([{key:"default",fn:function(i){return[t("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.toDetail(i.row)}}},[e._v("详情")]),t("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.edit(i.row)}}},[e._v("编辑")]),"new"==i.row.status?t("el-button",{attrs:{size:"mini",type:"warning"},on:{click:function(t){return e.markAsUsed(i.row)}}},[e._v("标记已使用")]):e._e(),t("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){return e.del(i.row.id)}}},[e._v("删除")])]}}])})],1)],1),t("el-pagination",{staticClass:"pagination",style:{width:"1200px",padding:"0",margin:"20px auto",whiteSpace:"nowrap",color:"#333",fontWeight:"500"},attrs:{background:"","pager-count":7,"page-size":e.pageSize,"page-sizes":[10,20,50,100],"prev-text":"<","next-text":">","hide-on-single-page":!1,layout:"total, prev, pager, next, sizes, jumper",total:e.total},on:{"current-change":e.curChange,"size-change":e.sizeChange}})],1)])},Gt=[],ei=(i("e9f5"),i("910d"),{data(){return{baseUrl:"",dataList:[],formSearch:{shicaiName:""},statusFilter:"",pageSize:10,total:0,totalCount:0,expiringSoonCount:0,newCount:0}},created(){this.baseUrl=this.$config.baseUrl,this.getStats(),this.getList(1)},methods:{getStats(){let e=this.$storage.get("userid");this.$http.get("usershicai/listByUser?userid="+e).then(e=>{if(e.data&&0===e.data.code){let t=e.data.data;this.totalCount=t.length,this.newCount=t.filter(e=>"new"===e.status).length,this.expiringSoonCount=t.filter(e=>this.isExpiringSoon(e.expiryDate)).length}})},getList(e){let t=this.$storage.get("userid"),i={page:e||1,limit:this.pageSize,userid:t};this.formSearch.shicaiName&&(i.shicaiName=this.formSearch.shicaiName),this.statusFilter&&"expiring"!==this.statusFilter&&(i.status=this.statusFilter),"expiring"===this.statusFilter?this.$http.get("usershicai/listExpiringSoon?userid="+t).then(e=>{e.data&&0===e.data.code&&(this.dataList=e.data.data,this.total=this.dataList.length)}):this.$http.get("usershicai/page",{params:i}).then(e=>{e.data&&0===e.data.code&&(this.dataList=e.data.data.list,this.total=e.data.data.total)})},filterByStatus(e){this.statusFilter=e,this.getList(1)},formatDate(e){if(!e)return"";let t=new Date(e);return t.getFullYear()+"-"+String(t.getMonth()+1).padStart(2,"0")+"-"+String(t.getDate()).padStart(2,"0")},isExpiringSoon(e){if(!e)return!1;let t=new Date,i=new Date(e),a=i-t,r=a/864e5;return r>0&&r<=7},getExpiryStyle(e){return this.isExpiringSoon(e)?{color:"#f56c6c",fontWeight:"bold"}:{}},getStatusType(e){const t={new:"success",used:"info",expired:"danger",discarded:"warning"};return t[e]||""},getStatusText(e){const t={new:"新鲜",used:"已使用",expired:"已过期",discarded:"已丢弃"};return t[e]||e},markAsUsed(e){this.$confirm("确定标记为已使用吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.$http.post("usershicai/update",{id:e.id,status:"used"}).then(e=>{e.data&&0===e.data.code&&(this.$message.success("操作成功"),this.getStats(),this.getList())})})},del(e){this.$confirm("确定删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.$http.post("usershicai/delete",[e]).then(e=>{e.data&&0===e.data.code&&(this.$message.success("删除成功"),this.getStats(),this.getList())})})},add(){this.$router.push("/index/usershicaiAdd")},receiptScan(){this.$router.push("/index/usershicaiReceipt")},edit(e){this.$router.push({path:"/index/usershicaiAdd",query:{id:e.id}})},toDetail(e){this.$router.push({path:"/index/usershicaiDetail",query:{id:e.id}})},curChange(e){this.getList(e)},sizeChange(e){this.pageSize=e,this.getList(1)}}}),ti=ei,ii=(i("84a3"),Object(u["a"])(ti,Xt,Gt,!1,null,"ea02c7be",null)),ai=ii.exports,ri=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"breadcrumb-preview",style:{padding:"12px",margin:"10px auto",borderColor:"#dbd9f4",borderRadius:"8px",background:"#fff",borderWidth:"0 0 2px",width:"1200px",borderStyle:"solid"}},[t("el-breadcrumb",{style:{width:"100%",margin:"0 auto",fontSize:"14px",lineHeight:"1",display:"flex"},attrs:{separator:"Ξ"}},[t("el-breadcrumb-item",[e._v("首页")]),t("el-breadcrumb-item",[e._v("我的食材库")]),t("el-breadcrumb-item",[e._v("食材详情")])],1)],1),t("div",{staticClass:"detail-preview",style:{width:"1200px",margin:"10px auto",position:"relative",background:"none"}},[t("el-card",{style:{border:"2px solid #dbd9f4",borderRadius:"8px",background:"#fff"}},[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t("span",{style:{fontSize:"20px",fontWeight:"bold"}},[e._v(e._s(e.detail.shicaiName))]),t("el-tag",{style:{marginLeft:"20px"},attrs:{type:e.getStatusType(e.detail.status)}},[e._v(e._s(e.getStatusText(e.detail.status)))])],1),t("el-descriptions",{attrs:{column:2,border:""}},[t("el-descriptions-item",{attrs:{label:"食材名称"}},[e._v(e._s(e.detail.shicaiName))]),t("el-descriptions-item",{attrs:{label:"数量"}},[e._v(e._s(e.detail.quantity)+" "+e._s(e.detail.unit))]),t("el-descriptions-item",{attrs:{label:"购买日期"}},[e._v(e._s(e.formatDate(e.detail.purchaseDate)))]),t("el-descriptions-item",{attrs:{label:"过期日期"}},[t("span",{style:e.getExpiryStyle(e.detail.expiryDate)},[e._v(" "+e._s(e.formatDate(e.detail.expiryDate))+" "),e.isExpiringSoon(e.detail.expiryDate)?t("span",[e._v(" ⚠️ 即将过期")]):e._e()])]),t("el-descriptions-item",{attrs:{label:"状态"}},[t("el-tag",{attrs:{type:e.getStatusType(e.detail.status)}},[e._v(e._s(e.getStatusText(e.detail.status)))])],1),t("el-descriptions-item",{attrs:{label:"添加时间"}},[e._v(e._s(e.formatDateTime(e.detail.addtime)))])],1),t("div",{style:{marginTop:"30px",textAlign:"center"}},[t("el-button",{style:{margin:"0 10px"},attrs:{type:"primary"},on:{click:function(t){return e.edit()}}},[e._v("编辑")]),"new"==e.detail.status?t("el-button",{style:{margin:"0 10px"},attrs:{type:"warning"},on:{click:function(t){return e.markAsUsed()}}},[e._v("标记已使用")]):e._e(),t("el-button",{style:{margin:"0 10px"},attrs:{type:"danger"},on:{click:function(t){return e.del()}}},[e._v("删除")]),t("el-button",{style:{margin:"0 10px"},on:{click:function(t){return e.back()}}},[e._v("返回")])],1)],1)],1)])},si=[],oi={data(){return{id:"",detail:{}}},created(){this.id=this.$route.query.id,this.getInfo()},methods:{getInfo(){this.$http.get("usershicai/info/"+this.id).then(e=>{e.data&&0===e.data.code&&(this.detail=e.data.data)})},formatDate(e){if(!e)return"";let t=new Date(e);return t.getFullYear()+"-"+String(t.getMonth()+1).padStart(2,"0")+"-"+String(t.getDate()).padStart(2,"0")},formatDateTime(e){if(!e)return"";let t=new Date(e);return t.getFullYear()+"-"+String(t.getMonth()+1).padStart(2,"0")+"-"+String(t.getDate()).padStart(2,"0")+" "+String(t.getHours()).padStart(2,"0")+":"+String(t.getMinutes()).padStart(2,"0")+":"+String(t.getSeconds()).padStart(2,"0")},isExpiringSoon(e){if(!e)return!1;let t=new Date,i=new Date(e),a=i-t,r=a/864e5;return r>0&&r<=7},getExpiryStyle(e){return this.isExpiringSoon(e)?{color:"#f56c6c",fontWeight:"bold"}:{}},getStatusType(e){const t={new:"success",used:"info",expired:"danger",discarded:"warning"};return t[e]||""},getStatusText(e){const t={new:"新鲜",used:"已使用",expired:"已过期",discarded:"已丢弃"};return t[e]||e},markAsUsed(){this.$confirm("确定标记为已使用吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.$http.post("usershicai/update",{id:this.detail.id,status:"used"}).then(e=>{e.data&&0===e.data.code&&(this.$message.success("操作成功"),this.getInfo())})})},del(){this.$confirm("确定删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.$http.post("usershicai/delete",[this.id]).then(e=>{e.data&&0===e.data.code&&(this.$message.success("删除成功"),this.$router.push("/index/usershicaiList"))})})},edit(){this.$router.push({path:"/index/usershicaiAdd",query:{id:this.id}})},back(){this.$router.go(-1)}}},ni=oi,li=Object(u["a"])(ni,ri,si,!1,null,null,null),di=li.exports,pi=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"breadcrumb-preview",style:{padding:"12px",margin:"10px auto",borderColor:"#dbd9f4",borderRadius:"8px",background:"#fff",borderWidth:"0 0 2px",width:"1200px",borderStyle:"solid"}},[t("el-breadcrumb",{style:{width:"100%",margin:"0 auto",fontSize:"14px",lineHeight:"1",display:"flex"},attrs:{separator:"Ξ"}},[t("el-breadcrumb-item",[e._v("首页")]),t("el-breadcrumb-item",[e._v("我的食材库")]),t("el-breadcrumb-item",[e._v(e._s(e.id?"编辑":"添加")+"食材")])],1)],1),t("div",{staticClass:"add-preview",style:{width:"1200px",margin:"10px auto",position:"relative",background:"none"}},[t("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",style:{border:"2px solid #dbd9f4",padding:"40px 20px",borderRadius:"8px",background:"#fff"},attrs:{model:e.ruleForm,rules:e.rules,"label-width":"120px"}},[t("el-form-item",{attrs:{label:"食材名称",prop:"shicaiName"}},[t("el-input",{attrs:{placeholder:"请输入食材名称",clearable:""},model:{value:e.ruleForm.shicaiName,callback:function(t){e.$set(e.ruleForm,"shicaiName",t)},expression:"ruleForm.shicaiName"}})],1),t("el-form-item",{attrs:{label:"数量",prop:"quantity"}},[t("el-input-number",{attrs:{min:1,max:99999,label:"数量"},model:{value:e.ruleForm.quantity,callback:function(t){e.$set(e.ruleForm,"quantity",t)},expression:"ruleForm.quantity"}})],1),t("el-form-item",{attrs:{label:"单位",prop:"unit"}},[t("el-select",{attrs:{placeholder:"请选择单位",clearable:""},model:{value:e.ruleForm.unit,callback:function(t){e.$set(e.ruleForm,"unit",t)},expression:"ruleForm.unit"}},[t("el-option",{attrs:{label:"克",value:"克"}}),t("el-option",{attrs:{label:"千克",value:"千克"}}),t("el-option",{attrs:{label:"毫升",value:"毫升"}}),t("el-option",{attrs:{label:"升",value:"升"}}),t("el-option",{attrs:{label:"个",value:"个"}}),t("el-option",{attrs:{label:"根",value:"根"}}),t("el-option",{attrs:{label:"斤",value:"斤"}}),t("el-option",{attrs:{label:"袋",value:"袋"}}),t("el-option",{attrs:{label:"盒",value:"盒"}})],1)],1),t("el-form-item",{attrs:{label:"购买日期",prop:"purchaseDate"}},[t("el-date-picker",{style:{width:"100%"},attrs:{type:"datetime",placeholder:"选择购买日期","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.ruleForm.purchaseDate,callback:function(t){e.$set(e.ruleForm,"purchaseDate",t)},expression:"ruleForm.purchaseDate"}})],1),t("el-form-item",{attrs:{label:"过期日期",prop:"expiryDate"}},[t("el-date-picker",{style:{width:"100%"},attrs:{type:"datetime",placeholder:"选择过期日期","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.ruleForm.expiryDate,callback:function(t){e.$set(e.ruleForm,"expiryDate",t)},expression:"ruleForm.expiryDate"}})],1),t("el-form-item",{attrs:{label:"状态",prop:"status"}},[t("el-radio-group",{model:{value:e.ruleForm.status,callback:function(t){e.$set(e.ruleForm,"status",t)},expression:"ruleForm.status"}},[t("el-radio",{attrs:{label:"new"}},[e._v("新鲜")]),t("el-radio",{attrs:{label:"used"}},[e._v("已使用")]),t("el-radio",{attrs:{label:"expired"}},[e._v("已过期")]),t("el-radio",{attrs:{label:"discarded"}},[e._v("已丢弃")])],1)],1),t("el-form-item",[t("el-button",{style:{cursor:"pointer",border:"0",padding:"0px 30px",margin:"0 10px 0 0",outline:"none",color:"#666",borderRadius:"6px",background:"linear-gradient(90deg, rgba(255,233,100,1) 0%, rgba(194,248,126,1) 29%, rgba(181,233,252,1) 61%, rgba(246,172,218,1) 100%)",width:"auto",fontSize:"14px",lineHeight:"42px",height:"42px"},attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("提交")]),t("el-button",{style:{cursor:"pointer",border:"0",padding:"0px 30px",margin:"0 10px 0 0",outline:"none",color:"#666",borderRadius:"6px",background:"#f0f0f0",width:"auto",fontSize:"14px",lineHeight:"42px",height:"42px"},on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("重置")]),t("el-button",{style:{cursor:"pointer",border:"0",padding:"0px 30px",margin:"0 10px 0 0",outline:"none",color:"#666",borderRadius:"6px",background:"#f0f0f0",width:"auto",fontSize:"14px",lineHeight:"42px",height:"42px"},on:{click:function(t){return e.back()}}},[e._v("返回")])],1)],1)],1)])},ci=[],ui={data(){return{id:"",ruleForm:{shicaiName:"",quantity:1,unit:"克",purchaseDate:"",expiryDate:"",status:"new"},rules:{shicaiName:[{required:!0,message:"请输入食材名称",trigger:"blur"}],quantity:[{required:!0,message:"请输入数量",trigger:"blur"}],unit:[{required:!0,message:"请选择单位",trigger:"change"}],purchaseDate:[{required:!0,message:"请选择购买日期",trigger:"change"}],expiryDate:[{required:!0,message:"请选择过期日期",trigger:"change"}],status:[{required:!0,message:"请选择状态",trigger:"change"}]}}},created(){this.id=this.$route.query.id,this.id?this.getInfo():this.ruleForm.purchaseDate=this.formatDateTime(new Date)},methods:{getInfo(){this.$http.get("usershicai/info/"+this.id).then(e=>{e.data&&0===e.data.code&&(this.ruleForm=e.data.data)})},submitForm(e){this.$refs[e].validate(e=>{if(!e)return!1;{let e=this.$storage.get("userid");this.ruleForm.userid=e;let t=this.id?"usershicai/update":"usershicai/save";this.$http.post(t,this.ruleForm).then(e=>{e.data&&0===e.data.code?(this.$message.success(this.id?"修改成功":"添加成功"),this.$router.push("/index/usershicaiList")):this.$message.error(e.data.msg)})}})},resetForm(e){this.$refs[e].resetFields()},back(){this.$router.go(-1)},formatDateTime(e){let t=new Date(e);return t.getFullYear()+"-"+String(t.getMonth()+1).padStart(2,"0")+"-"+String(t.getDate()).padStart(2,"0")+" "+String(t.getHours()).padStart(2,"0")+":"+String(t.getMinutes()).padStart(2,"0")+":"+String(t.getSeconds()).padStart(2,"0")}}},gi=ui,hi=(i("1ab4"),Object(u["a"])(gi,pi,ci,!1,null,"357c8658",null)),mi=hi.exports,xi=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"breadcrumb-preview",style:{padding:"12px",margin:"10px auto",borderColor:"#dbd9f4",borderRadius:"8px",background:"#fff",borderWidth:"0 0 2px",width:"1200px",borderStyle:"solid"}},[t("el-breadcrumb",{style:{width:"100%",margin:"0 auto",fontSize:"14px",lineHeight:"1",display:"flex"},attrs:{separator:"Ξ"}},[t("el-breadcrumb-item",[e._v("首页")]),t("el-breadcrumb-item",[e._v("我的食材库")]),t("el-breadcrumb-item",[e._v("小票识别录入")])],1)],1),t("div",{staticClass:"receipt-preview",style:{width:"1200px",margin:"10px auto",position:"relative",background:"none"}},[t("el-card",{style:{marginBottom:"20px"}},[t("div",{attrs:{slot:"header"},slot:"header"},[t("span",{style:{fontSize:"18px",fontWeight:"bold"}},[e._v("📸 上传购物小票")])]),t("div",{staticClass:"upload-area"},[t("el-upload",{staticClass:"upload-demo",attrs:{drag:"",action:e.uploadUrl,headers:e.headers,"on-success":e.handleUploadSuccess,"on-error":e.handleUploadError,"before-upload":e.beforeUpload,"show-file-list":!1,accept:"image/*"}},[t("i",{staticClass:"el-icon-upload",staticStyle:{"font-size":"67px",color:"#C0C4CC"}}),t("div",{staticClass:"el-upload__text"},[e._v("将小票图片拖到此处，或"),t("em",[e._v("点击上传")])]),t("div",{staticClass:"el-upload__tip",staticStyle:{"font-size":"12px",color:"#606266","margin-top":"7px"},attrs:{slot:"tip"},slot:"tip"},[e._v("支持 JPG、PNG 格式，建议图片清晰、光线充足")])]),e.uploading?t("div",{style:{textAlign:"center",marginTop:"20px"}},[t("i",{staticClass:"el-icon-loading",style:{fontSize:"32px",color:"#409EFF"}}),t("div",{style:{marginTop:"10px",color:"#666"}},[e._v("正在识别中，请稍候...")])]):e._e()],1)]),e.recognizedItems.length>0?t("el-card",[t("div",{attrs:{slot:"header"},slot:"header"},[t("span",{style:{fontSize:"18px",fontWeight:"bold"}},[e._v("✅ 识别结果")]),t("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:e.clearResults}},[e._v("清空")])],1),t("div",{style:{marginBottom:"20px"}},[t("el-alert",{attrs:{title:"请检查并修改识别结果，确认无误后点击批量添加",type:"info",closable:!1}})],1),t("el-form",{style:{marginBottom:"20px",padding:"15px",background:"#f5f7fa",borderRadius:"4px"},attrs:{inline:!0}},[t("el-form-item",{attrs:{label:"购买日期"}},[t("el-date-picker",{style:{width:"200px"},attrs:{type:"datetime",placeholder:"选择购买日期","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.commonPurchaseDate,callback:function(t){e.commonPurchaseDate=t},expression:"commonPurchaseDate"}})],1),t("el-form-item",{attrs:{label:"默认状态"}},[t("el-select",{style:{width:"120px"},attrs:{placeholder:"选择状态"},model:{value:e.commonStatus,callback:function(t){e.commonStatus=t},expression:"commonStatus"}},[t("el-option",{attrs:{label:"新鲜",value:"new"}}),t("el-option",{attrs:{label:"已使用",value:"used"}})],1)],1),t("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.applyCommonSettings}},[e._v("应用到全部")])],1),t("el-table",{style:{width:"100%"},attrs:{data:e.recognizedItems,border:""}},[t("el-table-column",{attrs:{type:"index",label:"序号",width:"60"}}),t("el-table-column",{attrs:{label:"食材名称",width:"200"},scopedSlots:e._u([{key:"default",fn:function(i){return[t("el-input",{attrs:{size:"small"},model:{value:i.row.shicaiName,callback:function(t){e.$set(i.row,"shicaiName",t)},expression:"scope.row.shicaiName"}})]}}],null,!1,3424728071)}),t("el-table-column",{attrs:{label:"数量",width:"120"},scopedSlots:e._u([{key:"default",fn:function(i){return[t("el-input-number",{style:{width:"100%"},attrs:{min:1,size:"small"},model:{value:i.row.quantity,callback:function(t){e.$set(i.row,"quantity",t)},expression:"scope.row.quantity"}})]}}],null,!1,2114485327)}),t("el-table-column",{attrs:{label:"单位",width:"120"},scopedSlots:e._u([{key:"default",fn:function(i){return[t("el-select",{style:{width:"100%"},attrs:{size:"small"},model:{value:i.row.unit,callback:function(t){e.$set(i.row,"unit",t)},expression:"scope.row.unit"}},[t("el-option",{attrs:{label:"克",value:"克"}}),t("el-option",{attrs:{label:"千克",value:"千克"}}),t("el-option",{attrs:{label:"斤",value:"斤"}}),t("el-option",{attrs:{label:"个",value:"个"}}),t("el-option",{attrs:{label:"袋",value:"袋"}}),t("el-option",{attrs:{label:"盒",value:"盒"}})],1)]}}],null,!1,4021430164)}),t("el-table-column",{attrs:{label:"购买日期",width:"180"},scopedSlots:e._u([{key:"default",fn:function(i){return[t("el-date-picker",{style:{width:"100%"},attrs:{type:"datetime",size:"small","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:i.row.purchaseDate,callback:function(t){e.$set(i.row,"purchaseDate",t)},expression:"scope.row.purchaseDate"}})]}}],null,!1,2558388861)}),t("el-table-column",{attrs:{label:"过期日期",width:"180"},scopedSlots:e._u([{key:"default",fn:function(i){return[t("el-date-picker",{style:{width:"100%"},attrs:{type:"datetime",size:"small","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:i.row.expiryDate,callback:function(t){e.$set(i.row,"expiryDate",t)},expression:"scope.row.expiryDate"}})]}}],null,!1,570036089)}),t("el-table-column",{attrs:{label:"状态",width:"120"},scopedSlots:e._u([{key:"default",fn:function(i){return[t("el-select",{style:{width:"100%"},attrs:{size:"small"},model:{value:i.row.status,callback:function(t){e.$set(i.row,"status",t)},expression:"scope.row.status"}},[t("el-option",{attrs:{label:"新鲜",value:"new"}}),t("el-option",{attrs:{label:"已使用",value:"used"}})],1)]}}],null,!1,293319316)}),t("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(i){return[t("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(t){return e.removeItem(i.$index)}}},[e._v("删除")])]}}],null,!1,2762283904)})],1),t("div",{style:{marginTop:"20px",textAlign:"center"}},[t("el-button",{attrs:{type:"primary",size:"large",loading:e.saving},on:{click:e.batchAdd}},[t("i",{staticClass:"el-icon-check"}),e._v(" 批量添加 ("+e._s(e.recognizedItems.length)+"项) ")]),t("el-button",{attrs:{size:"large"},on:{click:e.back}},[e._v("返回")])],1)],1):e._e(),0===e.recognizedItems.length?t("el-card",{style:{marginTop:"20px"}},[t("div",{attrs:{slot:"header"},slot:"header"},[t("span",{style:{fontSize:"18px",fontWeight:"bold"}},[e._v("💡 使用说明")])]),t("div",{style:{lineHeight:"2"}},[t("p",[t("strong",[e._v("1. 拍摄小票：")]),e._v("确保小票平整、光线充足、文字清晰")]),t("p",[t("strong",[e._v("2. 上传图片：")]),e._v("支持拖拽或点击上传，系统会自动识别")]),t("p",[t("strong",[e._v("3. 检查结果：")]),e._v("识别后请仔细核对商品名称、数量等信息")]),t("p",[t("strong",[e._v("4. 修改信息：")]),e._v("可以直接在表格中修改识别错误的内容")]),t("p",[t("strong",[e._v("5. 批量添加：")]),e._v('确认无误后点击"批量添加"按钮')]),t("p",{style:{color:"#E6A23C",marginTop:"10px"}},[t("i",{staticClass:"el-icon-warning"}),e._v(" 提示：OCR识别可能存在误差，请务必检查后再添加 ")])])]):e._e()],1)])},bi=[],fi=(i("7d54"),i("ab43"),{data(){return{baseUrl:"",uploadUrl:"",headers:{},uploading:!1,saving:!1,recognizedItems:[],commonPurchaseDate:"",commonStatus:"new"}},created(){this.baseUrl=this.$config.baseUrl,this.uploadUrl=this.baseUrl+"/ocr/recognizeReceipt",this.commonPurchaseDate=this.formatDateTime(new Date);let e=this.$storage.get("Token");e&&(this.headers={Token:e})},methods:{beforeUpload(e){const t=-1!==e.type.indexOf("image"),i=e.size/1024/1024<5;return t?i?(this.uploading=!0,!0):(this.$message.error("图片大小不能超过 5MB！"),!1):(this.$message.error("只能上传图片文件！"),!1)},handleUploadSuccess(e,t,i){if(this.uploading=!1,0===e.code){const t=e.items||[];if(0===t.length)return void this.$message.warning("未识别到食材信息，请检查图片是否清晰");this.recognizedItems=t.map(e=>({shicaiName:e.name||"",quantity:e.quantity||1,unit:e.unit||"个",purchaseDate:this.commonPurchaseDate,expiryDate:this.calculateExpiryDate(this.commonPurchaseDate,7),status:"new"})),this.$message.success(`识别成功！共识别到 ${t.length} 项食材`)}else this.$message.error(e.msg||"识别失败")},handleUploadError(e,t,i){this.uploading=!1,this.$message.error("上传失败："+e.message)},applyCommonSettings(){this.recognizedItems.forEach(e=>{e.purchaseDate=this.commonPurchaseDate,e.status=this.commonStatus,e.expiryDate=this.calculateExpiryDate(this.commonPurchaseDate,7)}),this.$message.success("已应用统一设置")},calculateExpiryDate(e,t){if(!e)return"";let i=new Date(e);return i.setDate(i.getDate()+t),this.formatDateTime(i)},removeItem(e){this.recognizedItems.splice(e,1)},clearResults(){this.$confirm("确定清空所有识别结果吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.recognizedItems=[]})},batchAdd(){for(let i of this.recognizedItems){if(!i.shicaiName)return void this.$message.error("请填写所有食材名称");if(!i.purchaseDate)return void this.$message.error("请选择购买日期")}this.saving=!0;let e=this.$storage.get("userid"),t=this.recognizedItems.map(t=>({...t,userid:e}));this.$http.post("usershicai/batchSave",t).then(e=>{this.saving=!1,e.data&&0===e.data.code?(this.$message.success("批量添加成功！"),this.$router.push("/index/usershicaiList")):this.$message.error(e.data.msg||"添加失败")}).catch(()=>{this.saving=!1,this.$message.error("添加失败")})},back(){this.$router.go(-1)},formatDateTime(e){let t=new Date(e);return t.getFullYear()+"-"+String(t.getMonth()+1).padStart(2,"0")+"-"+String(t.getDate()).padStart(2,"0")+" "+String(t.getHours()).padStart(2,"0")+":"+String(t.getMinutes()).padStart(2,"0")+":"+String(t.getSeconds()).padStart(2,"0")}}}),yi=fi,vi=(i("fbba"),Object(u["a"])(yi,xi,bi,!1,null,"6fa04614",null)),wi=vi.exports,Si=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"breadcrumb-preview",style:{padding:"12px",margin:"10px auto",borderColor:"#dbd9f4",borderRadius:"8px",background:"#fff",borderWidth:"0 0 2px",width:"1200px",borderStyle:"solid"}},[t("el-breadcrumb",{style:{width:"100%",margin:"0 auto",fontSize:"14px",lineHeight:"1",display:"flex"},attrs:{separator:"Ξ"}},[t("el-breadcrumb-item",[e._v("首页")]),t("el-breadcrumb-item",[e._v("饮食统计")])],1)],1),t("div",{staticClass:"list-preview",style:{width:"1200px",margin:"10px auto",position:"relative",background:"none"}},[t("div",{staticClass:"stats-cards",style:{display:"flex",justifyContent:"space-between",marginBottom:"20px",flexWrap:"wrap"}},[t("div",{staticClass:"stat-card",style:{flex:"1",padding:"20px",margin:"10px",borderRadius:"8px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"#fff",textAlign:"center",minWidth:"200px"}},[t("div",{style:{fontSize:"32px",fontWeight:"bold"}},[e._v(e._s(e.totalRecords))]),t("div",{style:{fontSize:"14px",marginTop:"8px"}},[e._v("总记录数")])]),t("div",{staticClass:"stat-card",style:{flex:"1",padding:"20px",margin:"10px",borderRadius:"8px",background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",color:"#fff",textAlign:"center",minWidth:"200px"}},[t("div",{style:{fontSize:"32px",fontWeight:"bold"}},[e._v(e._s(e.totalCalories))]),t("div",{style:{fontSize:"14px",marginTop:"8px"}},[e._v("总卡路里 (kcal)")])]),t("div",{staticClass:"stat-card",style:{flex:"1",padding:"20px",margin:"10px",borderRadius:"8px",background:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)",color:"#fff",textAlign:"center",minWidth:"200px"}},[t("div",{style:{fontSize:"32px",fontWeight:"bold"}},[e._v(e._s(e.avgCalories))]),t("div",{style:{fontSize:"14px",marginTop:"8px"}},[e._v("平均卡路里")])])]),t("el-form",{staticClass:"list-form-pv",style:{border:"2px solid #dbd9f4",padding:"10px",margin:"10px 0 0 0",alignItems:"center",borderRadius:"8px",flexWrap:"wrap",background:"#f8f8fc",display:"flex",width:"100%",height:"auto"},attrs:{inline:!0,model:e.formSearch}},[t("el-form-item",{style:{margin:"10px"}},[t("div",{staticClass:"lable",style:{width:"auto",padding:"0 10px",lineHeight:"42px",display:"inline-block"}},[e._v("日期范围")]),t("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd"},model:{value:e.dateRange,callback:function(t){e.dateRange=t},expression:"dateRange"}})],1),t("el-button",{style:{cursor:"pointer",border:"0",padding:"0px 15px",margin:"0 10px 0 0",outline:"none",color:"#666",borderRadius:"6px",background:"linear-gradient(90deg, rgba(255,233,100,1) 0%, rgba(194,248,126,1) 29%, rgba(181,233,252,1) 61%, rgba(246,172,218,1) 100%)",width:"auto",fontSize:"14px",lineHeight:"42px",height:"42px"},attrs:{type:"primary"},on:{click:function(t){return e.getList(1)}}},[t("i",{staticClass:"el-icon-search",style:{color:"#666",margin:"0 10px 0 0",fontSize:"14px"}}),e._v("查询")]),t("el-button",{style:{cursor:"pointer",border:"0",padding:"0px 15px",margin:"0 10px 0 0",outline:"none",color:"#666",borderRadius:"6px",background:"linear-gradient(90deg, rgba(255,233,100,1) 0%, rgba(194,248,126,1) 29%, rgba(181,233,252,1) 61%, rgba(246,172,218,1) 100%)",width:"auto",fontSize:"14px",lineHeight:"42px",height:"42px"},attrs:{type:"primary"},on:{click:function(t){return e.add()}}},[t("i",{staticClass:"el-icon-circle-plus-outline",style:{color:"#666",margin:"0 10px 0 0",fontSize:"14px"}}),e._v("添加记录")])],1),t("div",{staticClass:"list",style:{border:"2px solid #dbd9f4",margin:"20px 0 0 0",borderRadius:"8px",background:"#fff"}},[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.dataList,"header-cell-style":{background:"#f8f8fc",color:"#333"}}},[t("el-table-column",{attrs:{prop:"recordDate",label:"日期",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.formatDate(t.row.recordDate))+" ")]}}])}),t("el-table-column",{attrs:{prop:"mealType",label:"餐次",width:"120"},scopedSlots:e._u([{key:"default",fn:function(i){return[t("el-tag",{attrs:{type:e.getMealTypeColor(i.row.mealType)}},[e._v(e._s(e.getMealTypeText(i.row.mealType)))])]}}])}),t("el-table-column",{attrs:{prop:"foodName",label:"食物名称",width:"200"}}),t("el-table-column",{attrs:{prop:"calories",label:"卡路里 (kcal)",width:"150"},scopedSlots:e._u([{key:"default",fn:function(i){return[t("span",{style:{fontWeight:"bold",color:"#f56c6c"}},[e._v(e._s(i.row.calories))])]}}])}),t("el-table-column",{attrs:{prop:"protein",label:"蛋白质 (g)",width:"120"}}),t("el-table-column",{attrs:{prop:"carbs",label:"碳水 (g)",width:"120"}}),t("el-table-column",{attrs:{prop:"fat",label:"脂肪 (g)",width:"120"}}),t("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(i){return[t("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.toDetail(i.row)}}},[e._v("详情")]),t("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.edit(i.row)}}},[e._v("编辑")]),t("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){return e.del(i.row.id)}}},[e._v("删除")])]}}])})],1)],1),t("el-pagination",{staticClass:"pagination",style:{width:"1200px",padding:"0",margin:"20px auto",whiteSpace:"nowrap",color:"#333",fontWeight:"500"},attrs:{background:"","pager-count":7,"page-size":e.pageSize,"page-sizes":[10,20,50,100],"prev-text":"<","next-text":">","hide-on-single-page":!1,layout:"total, prev, pager, next, sizes, jumper",total:e.total},on:{"current-change":e.curChange,"size-change":e.sizeChange}})],1)])},ki=[],Ci=(i("13d5"),i("9485"),{data(){return{baseUrl:"",dataList:[],formSearch:{},dateRange:[],pageSize:10,total:0,totalRecords:0,totalCalories:0,avgCalories:0}},created(){this.baseUrl=this.$config.baseUrl,this.getStats(),this.getList(1)},methods:{getStats(){let e=this.$storage.get("userid");this.$http.get("dietstatistics/listByUser?userid="+e).then(e=>{if(e.data&&0===e.data.code){let t=e.data.data;this.totalRecords=t.length,this.totalCalories=t.reduce((e,t)=>e+(t.calories||0),0),this.avgCalories=this.totalRecords>0?Math.round(this.totalCalories/this.totalRecords):0}})},getList(e){let t=this.$storage.get("userid"),i={page:e||1,limit:this.pageSize,userid:t};this.dateRange&&2===this.dateRange.length&&(i.startDate=this.dateRange[0],i.endDate=this.dateRange[1]),this.$http.get("dietstatistics/page",{params:i}).then(e=>{e.data&&0===e.data.code&&(this.dataList=e.data.data.list,this.total=e.data.data.total)})},formatDate(e){if(!e)return"";let t=new Date(e);return t.getFullYear()+"-"+String(t.getMonth()+1).padStart(2,"0")+"-"+String(t.getDate()).padStart(2,"0")},getMealTypeColor(e){const t={breakfast:"success",lunch:"warning",dinner:"danger",snack:"info"};return t[e]||""},getMealTypeText(e){const t={breakfast:"早餐",lunch:"午餐",dinner:"晚餐",snack:"加餐"};return t[e]||e},del(e){this.$confirm("确定删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.$http.post("dietstatistics/delete",[e]).then(e=>{e.data&&0===e.data.code&&(this.$message.success("删除成功"),this.getStats(),this.getList())})})},add(){this.$router.push("/index/dietStatisticsAdd")},edit(e){this.$router.push({path:"/index/dietStatisticsAdd",query:{id:e.id}})},toDetail(e){this.$router.push({path:"/index/dietStatisticsDetail",query:{id:e.id}})},curChange(e){this.getList(e)},sizeChange(e){this.pageSize=e,this.getList(1)}}}),zi=Ci,Fi=(i("2e56"),Object(u["a"])(zi,Si,ki,!1,null,"60f6e6cb",null)),_i=Fi.exports,Ai=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"breadcrumb-preview",style:{padding:"12px",margin:"10px auto",borderColor:"#dbd9f4",borderRadius:"8px",background:"#fff",borderWidth:"0 0 2px",width:"1200px",borderStyle:"solid"}},[t("el-breadcrumb",{style:{width:"100%",margin:"0 auto",fontSize:"14px",lineHeight:"1",display:"flex"},attrs:{separator:"Ξ"}},[t("el-breadcrumb-item",[e._v("首页")]),t("el-breadcrumb-item",[e._v("饮食统计")]),t("el-breadcrumb-item",[e._v("详情")])],1)],1),t("div",{staticClass:"detail-preview",style:{width:"1200px",margin:"10px auto",position:"relative",background:"none"}},[t("el-card",{style:{border:"2px solid #dbd9f4",borderRadius:"8px",background:"#fff"}},[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t("span",{style:{fontSize:"20px",fontWeight:"bold",color:"#333"}},[e._v("饮食记录详情")])]),t("div",{staticClass:"detail-content"},[t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:12}},[t("div",{staticClass:"detail-item"},[t("div",{staticClass:"label"},[e._v("日期：")]),t("div",{staticClass:"value"},[e._v(e._s(e.formatDate(e.detail.recordDate)))])])]),t("el-col",{attrs:{span:12}},[t("div",{staticClass:"detail-item"},[t("div",{staticClass:"label"},[e._v("餐次：")]),t("div",{staticClass:"value"},[t("el-tag",{attrs:{type:e.getMealTypeColor(e.detail.mealType)}},[e._v(e._s(e.getMealTypeText(e.detail.mealType)))])],1)])])],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:24}},[t("div",{staticClass:"detail-item"},[t("div",{staticClass:"label"},[e._v("食物名称：")]),t("div",{staticClass:"value",style:{fontSize:"18px",fontWeight:"bold",color:"#333"}},[e._v(e._s(e.detail.foodName))])])])],1),t("el-divider"),t("div",{style:{fontSize:"16px",fontWeight:"bold",color:"#333",marginBottom:"20px"}},[e._v("营养成分")]),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:6}},[t("div",{staticClass:"nutrition-card",style:{padding:"20px",borderRadius:"8px",background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",color:"#fff",textAlign:"center"}},[t("div",{style:{fontSize:"28px",fontWeight:"bold"}},[e._v(e._s(e.detail.calories))]),t("div",{style:{fontSize:"14px",marginTop:"8px"}},[e._v("卡路里 (kcal)")])])]),t("el-col",{attrs:{span:6}},[t("div",{staticClass:"nutrition-card",style:{padding:"20px",borderRadius:"8px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"#fff",textAlign:"center"}},[t("div",{style:{fontSize:"28px",fontWeight:"bold"}},[e._v(e._s(e.detail.protein))]),t("div",{style:{fontSize:"14px",marginTop:"8px"}},[e._v("蛋白质 (g)")])])]),t("el-col",{attrs:{span:6}},[t("div",{staticClass:"nutrition-card",style:{padding:"20px",borderRadius:"8px",background:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)",color:"#fff",textAlign:"center"}},[t("div",{style:{fontSize:"28px",fontWeight:"bold"}},[e._v(e._s(e.detail.carbs))]),t("div",{style:{fontSize:"14px",marginTop:"8px"}},[e._v("碳水化合物 (g)")])])]),t("el-col",{attrs:{span:6}},[t("div",{staticClass:"nutrition-card",style:{padding:"20px",borderRadius:"8px",background:"linear-gradient(135deg, #fa709a 0%, #fee140 100%)",color:"#fff",textAlign:"center"}},[t("div",{style:{fontSize:"28px",fontWeight:"bold"}},[e._v(e._s(e.detail.fat))]),t("div",{style:{fontSize:"14px",marginTop:"8px"}},[e._v("脂肪 (g)")])])])],1),t("el-divider"),e.detail.notes?t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:24}},[t("div",{staticClass:"detail-item"},[t("div",{staticClass:"label"},[e._v("备注：")]),t("div",{staticClass:"value"},[e._v(e._s(e.detail.notes))])])])],1):e._e(),t("div",{style:{marginTop:"30px",textAlign:"center"}},[t("el-button",{style:{cursor:"pointer",border:"0",padding:"0px 30px",margin:"0 10px",outline:"none",color:"#666",borderRadius:"6px",background:"linear-gradient(90deg, rgba(255,233,100,1) 0%, rgba(194,248,126,1) 29%, rgba(181,233,252,1) 61%, rgba(246,172,218,1) 100%)",width:"auto",fontSize:"14px",lineHeight:"42px",height:"42px"},on:{click:function(t){return e.back()}}},[e._v("返回")]),t("el-button",{style:{cursor:"pointer",border:"0",padding:"0px 30px",margin:"0 10px",outline:"none",color:"#666",borderRadius:"6px",background:"linear-gradient(90deg, rgba(255,233,100,1) 0%, rgba(194,248,126,1) 29%, rgba(181,233,252,1) 61%, rgba(246,172,218,1) 100%)",width:"auto",fontSize:"14px",lineHeight:"42px",height:"42px"},attrs:{type:"primary"},on:{click:function(t){return e.edit()}}},[e._v("编辑")])],1)],1)])],1)])},Ii=[],Ti={data(){return{id:"",detail:{}}},created(){this.id=this.$route.query.id,this.id&&this.getInfo()},methods:{getInfo(){this.$http.get("dietstatistics/info/"+this.id).then(e=>{e.data&&0===e.data.code&&(this.detail=e.data.data)})},formatDate(e){if(!e)return"";let t=new Date(e);return t.getFullYear()+"-"+String(t.getMonth()+1).padStart(2,"0")+"-"+String(t.getDate()).padStart(2,"0")+" "+String(t.getHours()).padStart(2,"0")+":"+String(t.getMinutes()).padStart(2,"0")},getMealTypeColor(e){const t={breakfast:"success",lunch:"warning",dinner:"danger",snack:"info"};return t[e]||""},getMealTypeText(e){const t={breakfast:"早餐",lunch:"午餐",dinner:"晚餐",snack:"加餐"};return t[e]||e},edit(){this.$router.push({path:"/index/dietStatisticsAdd",query:{id:this.id}})},back(){this.$router.go(-1)}}},Ni=Ti,Ri=(i("fff2"),Object(u["a"])(Ni,Ai,Ii,!1,null,"4a96bf93",null)),Di=Ri.exports,Ui=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"breadcrumb-preview",style:{padding:"12px",margin:"10px auto",borderColor:"#dbd9f4",borderRadius:"8px",background:"#fff",borderWidth:"0 0 2px",width:"1200px",borderStyle:"solid"}},[t("el-breadcrumb",{style:{width:"100%",margin:"0 auto",fontSize:"14px",lineHeight:"1",display:"flex"},attrs:{separator:"Ξ"}},[t("el-breadcrumb-item",[e._v("首页")]),t("el-breadcrumb-item",[e._v("饮食统计")]),t("el-breadcrumb-item",[e._v(e._s(e.id?"编辑":"添加")+"记录")])],1)],1),t("div",{staticClass:"add-preview",style:{width:"1200px",margin:"10px auto",position:"relative",background:"none"}},[t("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",style:{border:"2px solid #dbd9f4",padding:"40px 20px",borderRadius:"8px",background:"#fff"},attrs:{model:e.ruleForm,rules:e.rules,"label-width":"120px"}},[t("el-form-item",{attrs:{label:"日期",prop:"recordDate"}},[t("el-date-picker",{style:{width:"100%"},attrs:{type:"datetime",placeholder:"选择日期","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.ruleForm.recordDate,callback:function(t){e.$set(e.ruleForm,"recordDate",t)},expression:"ruleForm.recordDate"}})],1),t("el-form-item",{attrs:{label:"餐次",prop:"mealType"}},[t("el-radio-group",{model:{value:e.ruleForm.mealType,callback:function(t){e.$set(e.ruleForm,"mealType",t)},expression:"ruleForm.mealType"}},[t("el-radio",{attrs:{label:"breakfast"}},[e._v("早餐")]),t("el-radio",{attrs:{label:"lunch"}},[e._v("午餐")]),t("el-radio",{attrs:{label:"dinner"}},[e._v("晚餐")]),t("el-radio",{attrs:{label:"snack"}},[e._v("加餐")])],1)],1),t("el-form-item",{attrs:{label:"食物名称",prop:"foodName"}},[t("el-input",{attrs:{placeholder:"请输入食物名称",clearable:""},model:{value:e.ruleForm.foodName,callback:function(t){e.$set(e.ruleForm,"foodName",t)},expression:"ruleForm.foodName"}})],1),t("el-form-item",{attrs:{label:"卡路里 (kcal)",prop:"calories"}},[t("el-input-number",{attrs:{min:0,max:99999,label:"卡路里"},model:{value:e.ruleForm.calories,callback:function(t){e.$set(e.ruleForm,"calories",t)},expression:"ruleForm.calories"}})],1),t("el-form-item",{attrs:{label:"蛋白质 (g)",prop:"protein"}},[t("el-input-number",{attrs:{min:0,max:9999,precision:1,label:"蛋白质"},model:{value:e.ruleForm.protein,callback:function(t){e.$set(e.ruleForm,"protein",t)},expression:"ruleForm.protein"}})],1),t("el-form-item",{attrs:{label:"碳水化合物 (g)",prop:"carbs"}},[t("el-input-number",{attrs:{min:0,max:9999,precision:1,label:"碳水化合物"},model:{value:e.ruleForm.carbs,callback:function(t){e.$set(e.ruleForm,"carbs",t)},expression:"ruleForm.carbs"}})],1),t("el-form-item",{attrs:{label:"脂肪 (g)",prop:"fat"}},[t("el-input-number",{attrs:{min:0,max:9999,precision:1,label:"脂肪"},model:{value:e.ruleForm.fat,callback:function(t){e.$set(e.ruleForm,"fat",t)},expression:"ruleForm.fat"}})],1),t("el-form-item",{attrs:{label:"备注",prop:"notes"}},[t("el-input",{attrs:{type:"textarea",placeholder:"请输入备注",rows:4},model:{value:e.ruleForm.notes,callback:function(t){e.$set(e.ruleForm,"notes",t)},expression:"ruleForm.notes"}})],1),t("el-form-item",[t("el-button",{style:{cursor:"pointer",border:"0",padding:"0px 30px",margin:"0 10px 0 0",outline:"none",color:"#666",borderRadius:"6px",background:"linear-gradient(90deg, rgba(255,233,100,1) 0%, rgba(194,248,126,1) 29%, rgba(181,233,252,1) 61%, rgba(246,172,218,1) 100%)",width:"auto",fontSize:"14px",lineHeight:"42px",height:"42px"},attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("提交")]),t("el-button",{style:{cursor:"pointer",border:"0",padding:"0px 30px",margin:"0 10px 0 0",outline:"none",color:"#666",borderRadius:"6px",background:"#f0f0f0",width:"auto",fontSize:"14px",lineHeight:"42px",height:"42px"},on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("重置")]),t("el-button",{style:{cursor:"pointer",border:"0",padding:"0px 30px",margin:"0 10px 0 0",outline:"none",color:"#666",borderRadius:"6px",background:"#f0f0f0",width:"auto",fontSize:"14px",lineHeight:"42px",height:"42px"},on:{click:function(t){return e.back()}}},[e._v("返回")])],1)],1)],1)])},$i=[],Hi={data(){return{id:"",ruleForm:{recordDate:"",mealType:"breakfast",foodName:"",calories:0,protein:0,carbs:0,fat:0,notes:""},rules:{recordDate:[{required:!0,message:"请选择日期",trigger:"change"}],mealType:[{required:!0,message:"请选择餐次",trigger:"change"}],foodName:[{required:!0,message:"请输入食物名称",trigger:"blur"}],calories:[{required:!0,message:"请输入卡路里",trigger:"blur"}]}}},created(){this.id=this.$route.query.id,this.id?this.getInfo():this.ruleForm.recordDate=this.formatDateTime(new Date)},methods:{getInfo(){this.$http.get("dietstatistics/info/"+this.id).then(e=>{e.data&&0===e.data.code&&(this.ruleForm=e.data.data)})},submitForm(e){this.$refs[e].validate(e=>{if(!e)return!1;{let e=this.$storage.get("userid");this.ruleForm.userid=e;let t=this.id?"dietstatistics/update":"dietstatistics/save";this.$http.post(t,this.ruleForm).then(e=>{e.data&&0===e.data.code?(this.$message.success(this.id?"修改成功":"添加成功"),this.$router.push("/index/dietStatisticsList")):this.$message.error(e.data.msg)})}})},resetForm(e){this.$refs[e].resetFields()},back(){this.$router.go(-1)},formatDateTime(e){let t=new Date(e);return t.getFullYear()+"-"+String(t.getMonth()+1).padStart(2,"0")+"-"+String(t.getDate()).padStart(2,"0")+" "+String(t.getHours()).padStart(2,"0")+":"+String(t.getMinutes()).padStart(2,"0")+":"+String(t.getSeconds()).padStart(2,"0")}}},ji=Hi,Li=(i("f6e3"),Object(u["a"])(ji,Ui,$i,!1,null,"46d6e532",null)),Oi=Li.exports,Wi=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"breadcrumb-preview",style:{padding:"12px",margin:"10px auto",borderColor:"#dbd9f4",borderRadius:"8px",background:"#fff",borderWidth:"0 0 2px",width:"1200px",borderStyle:"solid"}},[t("el-breadcrumb",{style:{width:"100%",margin:"0 auto",fontSize:"14px",lineHeight:"1",display:"flex"},attrs:{separator:"Ξ"}},[t("el-breadcrumb-item",[e._v("首页")]),t("el-breadcrumb-item",[e._v("统计分析")]),t("el-breadcrumb-item",[e._v("常用食材分析")])],1)],1),t("div",{staticClass:"statistics-preview",style:{width:"1200px",margin:"10px auto",position:"relative",background:"none"}},[t("el-row",{style:{marginBottom:"20px"},attrs:{gutter:20}},[t("el-col",{attrs:{span:6}},[t("el-card",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"#fff"},attrs:{shadow:"hover"}},[t("div",{style:{fontSize:"14px",marginBottom:"10px"}},[e._v("食材种类")]),t("div",{style:{fontSize:"32px",fontWeight:"bold"}},[e._v(e._s(e.stats.totalTypes))]),t("div",{style:{fontSize:"12px",marginTop:"5px",opacity:"0.8"}},[e._v("种")])])],1),t("el-col",{attrs:{span:6}},[t("el-card",{style:{background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",color:"#fff"},attrs:{shadow:"hover"}},[t("div",{style:{fontSize:"14px",marginBottom:"10px"}},[e._v("总使用次数")]),t("div",{style:{fontSize:"32px",fontWeight:"bold"}},[e._v(e._s(e.stats.totalUsage))]),t("div",{style:{fontSize:"12px",marginTop:"5px",opacity:"0.8"}},[e._v("次")])])],1),t("el-col",{attrs:{span:6}},[t("el-card",{style:{background:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)",color:"#fff"},attrs:{shadow:"hover"}},[t("div",{style:{fontSize:"14px",marginBottom:"10px"}},[e._v("最常用食材")]),t("div",{style:{fontSize:"24px",fontWeight:"bold"}},[e._v(e._s(e.stats.mostUsed))]),t("div",{style:{fontSize:"12px",marginTop:"5px",opacity:"0.8"}},[e._v(e._s(e.stats.mostUsedCount)+"次")])])],1),t("el-col",{attrs:{span:6}},[t("el-card",{style:{background:"linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)",color:"#fff"},attrs:{shadow:"hover"}},[t("div",{style:{fontSize:"14px",marginBottom:"10px"}},[e._v("平均使用频率")]),t("div",{style:{fontSize:"32px",fontWeight:"bold"}},[e._v(e._s(e.stats.avgFrequency))]),t("div",{style:{fontSize:"12px",marginTop:"5px",opacity:"0.8"}},[e._v("次/周")])])],1)],1),t("el-card",{style:{marginBottom:"20px"}},[t("div",{attrs:{slot:"header"},slot:"header"},[t("span",{style:{fontSize:"18px",fontWeight:"bold"}},[e._v("📊 食材使用排行榜 TOP 10")])]),t("el-table",{style:{width:"100%"},attrs:{data:e.topFoods,"row-class-name":e.tableRowClassName}},[t("el-table-column",{attrs:{type:"index",label:"排名",width:"80",align:"center"},scopedSlots:e._u([{key:"default",fn:function(i){return[0===i.$index?t("el-tag",{attrs:{type:"danger",size:"small"}},[e._v("🥇")]):1===i.$index?t("el-tag",{attrs:{type:"warning",size:"small"}},[e._v("🥈")]):2===i.$index?t("el-tag",{attrs:{type:"success",size:"small"}},[e._v("🥉")]):t("span",[e._v(e._s(i.$index+1))])]}}])}),t("el-table-column",{attrs:{prop:"shicaiName",label:"食材名称",width:"200"}}),t("el-table-column",{attrs:{prop:"usageCount",label:"使用次数",width:"120",align:"center"},scopedSlots:e._u([{key:"default",fn:function(i){return[t("el-tag",{attrs:{type:"primary"}},[e._v(e._s(i.row.usageCount)+" 次")])]}}])}),t("el-table-column",{attrs:{prop:"totalQuantity",label:"总使用量",width:"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.totalQuantity)+" "+e._s(t.row.unit)+" ")]}}])}),t("el-table-column",{attrs:{prop:"lastUsedDate",label:"最后使用",width:"180"}}),t("el-table-column",{attrs:{label:"使用频率",align:"center"},scopedSlots:e._u([{key:"default",fn:function(i){return[t("el-progress",{attrs:{percentage:i.row.percentage,color:e.getProgressColor(i.row.percentage)}})]}}])})],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:12}},[t("el-card",[t("div",{attrs:{slot:"header"},slot:"header"},[t("span",{style:{fontSize:"18px",fontWeight:"bold"}},[e._v("🥗 食材使用频率分布")])]),t("div",{style:{padding:"20px"}},e._l(e.frequencyDistribution,(function(i){return t("div",{key:i.level,style:{marginBottom:"15px"}},[t("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"}},[t("span",[e._v(e._s(i.label))]),t("span",[e._v(e._s(i.count)+" 种 ("+e._s(i.percentage)+"%)")])]),t("el-progress",{attrs:{percentage:i.percentage,color:i.color,"show-text":!1}})],1)})),0)])],1),t("el-col",{attrs:{span:12}},[t("el-card",[t("div",{attrs:{slot:"header"},slot:"header"},[t("span",{style:{fontSize:"18px",fontWeight:"bold"}},[e._v("💡 使用建议")])]),t("div",{style:{padding:"20px",lineHeight:"2"}},e._l(e.suggestions,(function(i,a){return t("el-alert",{key:a,style:{marginBottom:"10px"},attrs:{title:i.title,type:i.type,closable:!1}},[t("div",[e._v(e._s(i.content))])])})),1)])],1)],1)],1)])},Ei=[],Mi={data(){return{stats:{totalTypes:0,totalUsage:0,mostUsed:"-",mostUsedCount:0,avgFrequency:0},topFoods:[],frequencyDistribution:[],suggestions:[]}},created(){this.loadStatistics()},methods:{loadStatistics(){let e=this.$storage.get("userid");this.$http.get("usershicai/list",{params:{page:1,limit:1e3,userid:e}}).then(e=>{e.data&&0===e.data.code&&this.processStatistics(e.data.data.list)})},processStatistics(e){if(!e||0===e.length)return;let t={};e.forEach(e=>{let i=e.shicaiName;t[i]||(t[i]={shicaiName:i,usageCount:0,totalQuantity:0,unit:e.unit||"个",lastUsedDate:e.purchaseDate}),t[i].usageCount++,t[i].totalQuantity+=parseFloat(e.quantity||0),e.purchaseDate>t[i].lastUsedDate&&(t[i].lastUsedDate=e.purchaseDate)});let i=Object.values(t);i.sort((e,t)=>t.usageCount-e.usageCount),this.stats.totalTypes=i.length,this.stats.totalUsage=e.length,i.length>0&&(this.stats.mostUsed=i[0].shicaiName,this.stats.mostUsedCount=i[0].usageCount),this.stats.avgFrequency=(e.length/4).toFixed(1);let a=i[0].usageCount;this.topFoods=i.slice(0,10).map(e=>({...e,percentage:Math.round(e.usageCount/a*100)}));let r=i.filter(e=>e.usageCount>=10).length,s=i.filter(e=>e.usageCount>=5&&e.usageCount<10).length,o=i.filter(e=>e.usageCount<5).length,n=i.length;this.frequencyDistribution=[{level:"high",label:"高频食材 (≥10次)",count:r,percentage:Math.round(r/n*100),color:"#67C23A"},{level:"normal",label:"中频食材 (5-9次)",count:s,percentage:Math.round(s/n*100),color:"#E6A23C"},{level:"low",label:"低频食材 (<5次)",count:o,percentage:Math.round(o/n*100),color:"#909399"}],this.generateSuggestions(i)},generateSuggestions(e){if(this.suggestions=[],e.length>0){let t=e.slice(0,3).map(e=>e.shicaiName).join("、");this.suggestions.push({title:"常用食材",content:`您最常使用的食材是：${t}，建议保持适量库存。`,type:"success"})}let t=e.filter(e=>e.usageCount<3);t.length>5&&this.suggestions.push({title:"食材多样性",content:`您有 ${t.length} 种低频使用的食材，建议增加这些食材的使用频率，保持饮食多样性。`,type:"warning"}),this.suggestions.push({title:"健康提示",content:"建议每周摄入至少20种不同的食材，保持营养均衡。",type:"info"})},tableRowClassName({row:e,rowIndex:t}){return 0===t?"top-1-row":1===t?"top-2-row":2===t?"top-3-row":""},getProgressColor(e){return e>=80?"#67C23A":e>=50?"#E6A23C":"#909399"}}},qi=Mi,Pi=(i("6fc7"),Object(u["a"])(qi,Wi,Ei,!1,null,"c9dce822",null)),Bi=Pi.exports,Qi=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"breadcrumb-preview",style:{padding:"12px",margin:"10px auto",borderColor:"#dbd9f4",borderRadius:"8px",background:"#fff",borderWidth:"0 0 2px",width:"1200px",borderStyle:"solid"}},[t("el-breadcrumb",{style:{width:"100%",margin:"0 auto",fontSize:"14px",lineHeight:"1",display:"flex"},attrs:{separator:"Ξ"}},[t("el-breadcrumb-item",[e._v("首页")]),t("el-breadcrumb-item",[e._v("统计分析")]),t("el-breadcrumb-item",[e._v("健康偏好管理")])],1)],1),t("div",{staticClass:"preference-preview",style:{width:"1200px",margin:"10px auto",position:"relative",background:"none"}},[t("el-card",{style:{marginBottom:"20px"}},[t("div",{attrs:{slot:"header"},slot:"header"},[t("span",{style:{fontSize:"18px",fontWeight:"bold"}},[e._v("🎯 每日营养目标")]),t("el-button",{staticStyle:{float:"right"},attrs:{type:"primary",size:"small"},on:{click:e.savePreference}},[e._v("保存设置")])],1),t("el-form",{attrs:{model:e.preference,"label-width":"150px"}},[t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"饮食偏好类型"}},[t("el-select",{style:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.preference.preferenceType,callback:function(t){e.$set(e.preference,"preferenceType",t)},expression:"preference.preferenceType"}},[t("el-option",{attrs:{label:"均衡饮食",value:"balanced"}}),t("el-option",{attrs:{label:"素食主义",value:"vegetarian"}}),t("el-option",{attrs:{label:"低碳水化合物",value:"low_carb"}}),t("el-option",{attrs:{label:"高蛋白",value:"high_protein"}}),t("el-option",{attrs:{label:"低脂肪",value:"low_fat"}})],1)],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"每日卡路里目标"}},[t("el-input-number",{style:{width:"100%"},attrs:{min:1e3,max:5e3,step:100},model:{value:e.preference.dailyCalorieTarget,callback:function(t){e.$set(e.preference,"dailyCalorieTarget",t)},expression:"preference.dailyCalorieTarget"}}),t("span",{staticStyle:{"margin-left":"10px"}},[e._v("千卡")])],1)],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"每日蛋白质目标"}},[t("el-input-number",{style:{width:"100%"},attrs:{min:0,max:500,precision:1},model:{value:e.preference.dailyProteinTarget,callback:function(t){e.$set(e.preference,"dailyProteinTarget",t)},expression:"preference.dailyProteinTarget"}}),t("span",{staticStyle:{"margin-left":"10px"}},[e._v("克")])],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"每日碳水化合物"}},[t("el-input-number",{style:{width:"100%"},attrs:{min:0,max:1e3,precision:1},model:{value:e.preference.dailyCarbsTarget,callback:function(t){e.$set(e.preference,"dailyCarbsTarget",t)},expression:"preference.dailyCarbsTarget"}}),t("span",{staticStyle:{"margin-left":"10px"}},[e._v("克")])],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"每日脂肪目标"}},[t("el-input-number",{style:{width:"100%"},attrs:{min:0,max:300,precision:1},model:{value:e.preference.dailyFatTarget,callback:function(t){e.$set(e.preference,"dailyFatTarget",t)},expression:"preference.dailyFatTarget"}}),t("span",{staticStyle:{"margin-left":"10px"}},[e._v("克")])],1)],1)],1)],1)],1),t("el-row",{style:{marginBottom:"20px"},attrs:{gutter:20}},[t("el-col",{attrs:{span:8}},[t("el-card",[t("div",{attrs:{slot:"header"},slot:"header"},[t("span",{style:{fontSize:"16px",fontWeight:"bold"}},[e._v("❤️ 喜欢的食材")])]),e._l(e.favoriteFoods,(function(i,a){return t("el-tag",{key:a,style:{margin:"5px"},attrs:{closable:""},on:{close:function(t){return e.removeFavorite(a)}}},[e._v(" "+e._s(i)+" ")])})),t("el-input",{style:{marginTop:"10px"},attrs:{placeholder:"添加喜欢的食材",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addFavorite.apply(null,arguments)}},model:{value:e.newFavorite,callback:function(t){e.newFavorite=t},expression:"newFavorite"}},[t("el-button",{attrs:{slot:"append",icon:"el-icon-plus"},on:{click:e.addFavorite},slot:"append"})],1)],2)],1),t("el-col",{attrs:{span:8}},[t("el-card",[t("div",{attrs:{slot:"header"},slot:"header"},[t("span",{style:{fontSize:"16px",fontWeight:"bold"}},[e._v("😐 不喜欢的食材")])]),e._l(e.dislikeFoods,(function(i,a){return t("el-tag",{key:a,style:{margin:"5px"},attrs:{type:"info",closable:""},on:{close:function(t){return e.removeDislike(a)}}},[e._v(" "+e._s(i)+" ")])})),t("el-input",{style:{marginTop:"10px"},attrs:{placeholder:"添加不喜欢的食材",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addDislike.apply(null,arguments)}},model:{value:e.newDislike,callback:function(t){e.newDislike=t},expression:"newDislike"}},[t("el-button",{attrs:{slot:"append",icon:"el-icon-plus"},on:{click:e.addDislike},slot:"append"})],1)],2)],1),t("el-col",{attrs:{span:8}},[t("el-card",[t("div",{attrs:{slot:"header"},slot:"header"},[t("span",{style:{fontSize:"16px",fontWeight:"bold"}},[e._v("⚠️ 过敏食材")])]),e._l(e.allergicFoods,(function(i,a){return t("el-tag",{key:a,style:{margin:"5px"},attrs:{type:"danger",closable:""},on:{close:function(t){return e.removeAllergic(a)}}},[e._v(" "+e._s(i)+" ")])})),t("el-input",{style:{marginTop:"10px"},attrs:{placeholder:"添加过敏食材",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addAllergic.apply(null,arguments)}},model:{value:e.newAllergic,callback:function(t){e.newAllergic=t},expression:"newAllergic"}},[t("el-button",{attrs:{slot:"append",icon:"el-icon-plus"},on:{click:e.addAllergic},slot:"append"})],1)],2)],1)],1),t("el-card",{style:{marginBottom:"20px"}},[t("div",{attrs:{slot:"header"},slot:"header"},[t("span",{style:{fontSize:"18px",fontWeight:"bold"}},[e._v("🏃 健康目标")])]),t("el-input",{attrs:{type:"textarea",rows:4,placeholder:"例如：减重5公斤、增肌、改善睡眠质量等"},model:{value:e.preference.healthGoals,callback:function(t){e.$set(e.preference,"healthGoals",t)},expression:"preference.healthGoals"}})],1),t("el-card",[t("div",{attrs:{slot:"header"},slot:"header"},[t("span",{style:{fontSize:"18px",fontWeight:"bold"}},[e._v("📈 近期营养摄入分析")]),t("el-button",{staticStyle:{float:"right"},attrs:{size:"small"},on:{click:e.refreshAnalysis}},[e._v("刷新")])],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:6}},[t("div",{staticClass:"nutrition-card"},[t("div",{staticClass:"nutrition-label"},[e._v("卡路里")]),t("div",{staticClass:"nutrition-value"},[e._v(e._s(e.analysis.avgCalories))]),t("div",{staticClass:"nutrition-unit"},[e._v("千卡/天")]),t("el-progress",{attrs:{percentage:e.getPercentage(e.analysis.avgCalories,e.preference.dailyCalorieTarget),color:e.getProgressColor(e.analysis.avgCalories,e.preference.dailyCalorieTarget)}}),t("div",{staticClass:"nutrition-target"},[e._v("目标: "+e._s(e.preference.dailyCalorieTarget)+" 千卡")])],1)]),t("el-col",{attrs:{span:6}},[t("div",{staticClass:"nutrition-card"},[t("div",{staticClass:"nutrition-label"},[e._v("蛋白质")]),t("div",{staticClass:"nutrition-value"},[e._v(e._s(e.analysis.avgProtein))]),t("div",{staticClass:"nutrition-unit"},[e._v("克/天")]),t("el-progress",{attrs:{percentage:e.getPercentage(e.analysis.avgProtein,e.preference.dailyProteinTarget),color:e.getProgressColor(e.analysis.avgProtein,e.preference.dailyProteinTarget)}}),t("div",{staticClass:"nutrition-target"},[e._v("目标: "+e._s(e.preference.dailyProteinTarget)+" 克")])],1)]),t("el-col",{attrs:{span:6}},[t("div",{staticClass:"nutrition-card"},[t("div",{staticClass:"nutrition-label"},[e._v("碳水化合物")]),t("div",{staticClass:"nutrition-value"},[e._v(e._s(e.analysis.avgCarbs))]),t("div",{staticClass:"nutrition-unit"},[e._v("克/天")]),t("el-progress",{attrs:{percentage:e.getPercentage(e.analysis.avgCarbs,e.preference.dailyCarbsTarget),color:e.getProgressColor(e.analysis.avgCarbs,e.preference.dailyCarbsTarget)}}),t("div",{staticClass:"nutrition-target"},[e._v("目标: "+e._s(e.preference.dailyCarbsTarget)+" 克")])],1)]),t("el-col",{attrs:{span:6}},[t("div",{staticClass:"nutrition-card"},[t("div",{staticClass:"nutrition-label"},[e._v("脂肪")]),t("div",{staticClass:"nutrition-value"},[e._v(e._s(e.analysis.avgFat))]),t("div",{staticClass:"nutrition-unit"},[e._v("克/天")]),t("el-progress",{attrs:{percentage:e.getPercentage(e.analysis.avgFat,e.preference.dailyFatTarget),color:e.getProgressColor(e.analysis.avgFat,e.preference.dailyFatTarget)}}),t("div",{staticClass:"nutrition-target"},[e._v("目标: "+e._s(e.preference.dailyFatTarget)+" 克")])],1)])],1),t("el-divider"),t("div",{style:{padding:"20px",background:"#f5f7fa",borderRadius:"4px"}},[t("h4",[e._v("💡 个性化建议")]),e._l(e.healthTips,(function(i,a){return t("el-alert",{key:a,style:{marginBottom:"10px"},attrs:{title:i.title,type:i.type,closable:!1}},[t("div",[e._v(e._s(i.content))])])}))],2)],1)],1)])},Ji=[],Vi={data(){return{preference:{preferenceType:"balanced",dailyCalorieTarget:2e3,dailyProteinTarget:80,dailyCarbsTarget:250,dailyFatTarget:60,healthGoals:""},favoriteFoods:[],dislikeFoods:[],allergicFoods:[],newFavorite:"",newDislike:"",newAllergic:"",analysis:{avgCalories:0,avgProtein:0,avgCarbs:0,avgFat:0},healthTips:[]}},created(){this.loadPreference(),this.loadNutritionAnalysis()},methods:{loadPreference(){let e=localStorage.getItem("healthPreference");if(e){let t=JSON.parse(e);this.preference=t.preference||this.preference,this.favoriteFoods=t.favoriteFoods||[],this.dislikeFoods=t.dislikeFoods||[],this.allergicFoods=t.allergicFoods||[]}},savePreference(){let e={preference:this.preference,favoriteFoods:this.favoriteFoods,dislikeFoods:this.dislikeFoods,allergicFoods:this.allergicFoods};localStorage.setItem("healthPreference",JSON.stringify(e)),this.$message.success("保存成功！")},addFavorite(){this.newFavorite.trim()&&(this.favoriteFoods.push(this.newFavorite.trim()),this.newFavorite="")},removeFavorite(e){this.favoriteFoods.splice(e,1)},addDislike(){this.newDislike.trim()&&(this.dislikeFoods.push(this.newDislike.trim()),this.newDislike="")},removeDislike(e){this.dislikeFoods.splice(e,1)},addAllergic(){this.newAllergic.trim()&&(this.allergicFoods.push(this.newAllergic.trim()),this.newAllergic="")},removeAllergic(e){this.allergicFoods.splice(e,1)},loadNutritionAnalysis(){let e=this.$storage.get("userid");this.$http.get("dietstatistics/list",{params:{page:1,limit:100,userid:e}}).then(e=>{e.data&&0===e.data.code&&this.processNutritionData(e.data.data.list)})},processNutritionData(e){if(!e||0===e.length)return;let t=0,i=0,a=0,r=0,s=e.length;e.forEach(e=>{t+=parseFloat(e.calories||0),i+=parseFloat(e.protein||0),a+=parseFloat(e.carbs||0),r+=parseFloat(e.fat||0)}),this.analysis.avgCalories=Math.round(t/s),this.analysis.avgProtein=(i/s).toFixed(1),this.analysis.avgCarbs=(a/s).toFixed(1),this.analysis.avgFat=(r/s).toFixed(1),this.generateHealthTips()},generateHealthTips(){this.healthTips=[];let e=this.analysis.avgCalories/this.preference.dailyCalorieTarget;e<.8?this.healthTips.push({title:"卡路里摄入不足",content:`您的平均卡路里摄入为 ${this.analysis.avgCalories} 千卡，低于目标值。建议适当增加主食和优质蛋白的摄入。`,type:"warning"}):e>1.2?this.healthTips.push({title:"卡路里摄入过高",content:`您的平均卡路里摄入为 ${this.analysis.avgCalories} 千卡，高于目标值。建议控制高热量食物的摄入，增加运动量。`,type:"warning"}):this.healthTips.push({title:"卡路里摄入合理",content:"您的卡路里摄入在目标范围内，请继续保持！",type:"success"});let t=this.analysis.avgProtein/this.preference.dailyProteinTarget;t<.8&&this.healthTips.push({title:"蛋白质摄入不足",content:"建议增加鸡蛋、鱼肉、豆制品等优质蛋白的摄入。",type:"info"}),this.healthTips.push({title:"营养均衡提示",content:"建议每天摄入多种颜色的蔬菜水果，保持饮食多样性。",type:"info"})},refreshAnalysis(){this.loadNutritionAnalysis(),this.$message.success("数据已刷新")},getPercentage(e,t){if(!t)return 0;let i=Math.round(e/t*100);return Math.min(i,100)},getProgressColor(e,t){if(!t)return"#909399";let i=e/t;return i>=.8&&i<=1.2?"#67C23A":i>=.6&&i<.8||i>1.2&&i<=1.4?"#E6A23C":"#F56C6C"}}},Yi=Vi,Ki=(i("fc27"),Object(u["a"])(Yi,Qi,Ji,!1,null,"b2dd6e0a",null)),Zi=Ki.exports;const Xi=r["a"].prototype.push;r["a"].prototype.push=function(e){return Xi.call(this,e).catch(e=>e)};var Gi=new r["a"]({routes:[{path:"/",redirect:"/index/home"},{path:"/index",component:h,children:[{path:"home",component:v},{path:"center",component:O},{path:"messages",component:B},{path:"storeup",component:Z},{path:"news",component:ae},{path:"newsDetail",component:de},{path:"yonghu",component:me},{path:"yonghuDetail",component:_e},{path:"yonghuAdd",component:De},{path:"caishileixing",component:Oe},{path:"caishileixingDetail",component:Be},{path:"caishileixingAdd",component:Ze},{path:"caipuxinxi",component:at},{path:"caipuxinxiDetail",component:dt},{path:"caipuxinxiAdd",component:mt},{path:"pingfenxinxi",component:wt},{path:"pingfenxinxiDetail",component:_t},{path:"pingfenxinxiAdd",component:Dt},{path:"aboutus",component:Ot},{path:"aboutusDetail",component:Bt},{path:"aboutusAdd",component:Zt},{path:"usershicaiList",component:ai},{path:"usershicaiDetail",component:di},{path:"usershicaiAdd",component:mi},{path:"usershicaiReceipt",component:wi},{path:"dietStatisticsList",component:_i},{path:"dietStatisticsDetail",component:Di},{path:"dietStatisticsAdd",component:Oi},{path:"foodUsageStatistics",component:Bi},{path:"healthPreference",component:Zi}]},{path:"/login",component:F},{path:"/register",component:R}]}),ea=i("bd0c"),ta=i.n(ea),ia=i("953d"),aa=i.n(ia),ra=(i("a753"),i("8096"),i("14e1"),i("3a10"),i("d9e2"),{isEmail2:function(e){return/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+((.[a-zA-Z0-9_-]{2,3}){1,2})$/.test(e)},isEmail:function(e,t,i){let a=/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+((.[a-zA-Z0-9_-]{2,3}){1,2})$/;t&&!1===a.test(t)?i(new Error("请输入正确的邮箱")):i()},isEmailNotNull:function(e,t,i){let a=/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+((.[a-zA-Z0-9_-]{2,3}){1,2})$/;t&&!1===a.test(t)?i(new Error("请输入正确的邮箱")):t?i():i(new Error("请输入邮箱"))},isMobile2:function(e){return/^1[0-9]{10}$/.test(e)},isMobile:function(e,t,i){let a=/^1[0-9]{10}$/;t&&!1===a.test(t)?i(new Error("请输入正确的手机号码")):i()},isMobileNotNull:function(e,t,i){let a=/^1[0-9]{10}$/;t&&!1===a.test(t)?i(new Error("请输入正确的手机号码")):t?i():i(new Error("请输入手机号码"))},isPhone:function(e,t,i){let a=/^([0-9]{3,4}-)?[0-9]{7,8}$/;t&&!1===a.test(t)?i(new Error("请输入正确的电话号码")):i()},isPhoneNotNull:function(e,t,i){let a=/^([0-9]{3,4}-)?[0-9]{7,8}$/;t&&!1===a.test(t)?i(new Error("请输入正确的电话号码")):t?i():i(new Error("请输入电话号码"))},isURL:function(e,t,i){let a=/^http[s]?:\/\/.*/;t&&!1===a.test(t)?i(new Error("请输入正确的URL地址")):i()},isURLNotNull:function(e,t,i){let a=/^http[s]?:\/\/.*/;t&&!1===a.test(t)?i(new Error("请输入正确的URL地址")):t?i():i(new Error("请输入地址"))},isNumber:function(e,t,i){let a=/(^-?[+-]?([0-9]*\.?[0-9]+|[0-9]+\.?[0-9]*)([eE][+-]?[0-9]+)?$)|(^$)/;t&&!1===a.test(t)?i(new Error("请输入正确的数字")):i()},isNumberNotNull:function(e,t,i){let a=/(^-?[+-]?([0-9]*\.?[0-9]+|[0-9]+\.?[0-9]*)([eE][+-]?[0-9]+)?$)|(^$)/;t&&!1===a.test(t)?i(new Error("请输入正确的数字")):t?i():i(new Error("请输入数字"))},isIntNumer:function(e,t,i){let a=/(^-?\d+$)|(^$)/;t&&!1===a.test(t)?i(new Error("请输入正确的整数")):i()},isIntNumerNotNull:function(e,t,i){let a=/(^-?\d+$)|(^$)/;t&&!1===a.test(t)?i(new Error("请输入正确的整数")):t?i():i(new Error("请输入整数"))},isIdCard:function(e,t,i){let a=/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/;t&&!1===a.test(t)?i(new Error("请输入正确的身份证")):i()},isIdCardNotNull:function(e,t,i){let a=/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/;t&&!1===a.test(t)?i(new Error("请输入正确的身份证")):t?i():i(new Error("请输入身份证"))}});const sa={set(e,t){localStorage.setItem(e,JSON.stringify(t))},get(e){return localStorage.getItem(e)?localStorage.getItem(e).replace('"',"").replace('"',""):""},getObj(e){return localStorage.getItem(e)?JSON.parse(localStorage.getItem(e)):null},remove(e){localStorage.removeItem(e)},clear(){localStorage.clear()}};var oa=sa;function na(e,t){let i=localStorage.getItem("UserTableName"),a=[{backMenu:[{child:[{appFrontIcon:"cuIcon-circle",buttons:["新增","查看","修改","删除"],menu:"用户",menuJump:"列表",tableName:"yonghu"}],menu:"用户管理"},{child:[{appFrontIcon:"cuIcon-pic",buttons:["新增","查看","修改","删除"],menu:"菜式类型",menuJump:"列表",tableName:"caishileixing"}],menu:"菜式类型管理"},{child:[{appFrontIcon:"cuIcon-explore",buttons:["新增","查看","修改","删除","菜谱分类统计","菜谱评分统计","查看评论","首页总数","首页统计"],menu:"菜谱信息",menuJump:"列表",tableName:"caipuxinxi"}],menu:"菜谱信息管理"},{child:[{appFrontIcon:"cuIcon-pic",buttons:["查看","删除","每日评分人数统计","首页总数","首页统计"],menu:"评分信息",menuJump:"列表",tableName:"pingfenxinxi"}],menu:"评分信息管理"},{child:[{appFrontIcon:"cuIcon-message",buttons:["查看","回复","删除"],menu:"留言信息",tableName:"messages"}],menu:"留言信息"},{child:[{appFrontIcon:"cuIcon-news",buttons:["查看","修改"],menu:"关于我们",tableName:"aboutus"},{appFrontIcon:"cuIcon-time",buttons:["查看","修改"],menu:"系统简介",tableName:"systemintro"},{appFrontIcon:"cuIcon-newshot",buttons:["查看","修改"],menu:"轮播图管理",tableName:"config"},{appFrontIcon:"cuIcon-news",buttons:["新增","查看","修改","删除"],menu:"公告信息",tableName:"news"}],menu:"系统管理"}],frontMenu:[{child:[{appFrontIcon:"cuIcon-rank",buttons:["查看","评分"],menu:"菜谱信息列表",menuJump:"列表",tableName:"caipuxinxi"}],menu:"菜谱信息模块"}],hasBackLogin:"是",hasBackRegister:"否",hasFrontLogin:"否",hasFrontRegister:"否",roleName:"管理员",tableName:"users"},{backMenu:[{child:[{appFrontIcon:"cuIcon-pic",buttons:["查看","删除"],menu:"评分信息",menuJump:"列表",tableName:"pingfenxinxi"}],menu:"评分信息管理"}],frontMenu:[{child:[{appFrontIcon:"cuIcon-rank",buttons:["查看","评分"],menu:"菜谱信息列表",menuJump:"列表",tableName:"caipuxinxi"}],menu:"菜谱信息模块"}],hasBackLogin:"是",hasBackRegister:"否",hasFrontLogin:"是",hasFrontRegister:"是",roleName:"用户",tableName:"yonghu"}];for(let r=0;r<a.length;r++)if(a[r].tableName==i)for(let i=0;i<a[r].frontMenu.length;i++)for(let s=0;s<a[r].frontMenu[i].child.length;s++)if(e==a[r].frontMenu[i].child[s].tableName){let e=a[r].frontMenu[i].child[s].buttons.join(",");return-1!==e.indexOf(t)||!1}return!1}function la(){let e=new Date,t=e.getFullYear(),i=e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,a=e.getDate()<10?"0"+e.getDate():e.getDate(),r=e.getHours(),s=e.getMinutes(),o=e.getSeconds();return t+"-"+i+"-"+a+" "+r+":"+s+":"+o}function da(){let e=new Date,t=e.getFullYear(),i=e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,a=e.getDate()<10?"0"+e.getDate():e.getDate();return t+"-"+i+"-"+a}var pa=function(){var e=this,t=e._self._c;return t("router-view")},ca=[],ua={name:"App"},ga=ua,ha=(i("b0af"),Object(u["a"])(ga,pa,ca,!1,null,null,null)),ma=ha.exports,xa=function(){var e=this,t=e._self._c;return t("div",{staticClass:"breadcrumb"},[t("el-breadcrumb",{attrs:{separator:e.separator}},[t("el-breadcrumb-item",[e._v("首页")]),e._l(e.breadcrumbItem,(function(i,a){return t("el-breadcrumb-item",{key:a},[e._v(e._s(i.name))])}))],2)],1)},ba=[],fa={name:"Breadcrumb",props:{separator:{type:String,default:"/"},breadcrumbItem:{type:Array,default:()=>[]}}},ya=fa,va=(i("f62c"),Object(u["a"])(ya,xa,ba,!1,null,"9c7a9ada",null)),wa=va.exports,Sa=function(){var e=this,t=e._self._c;return t("div",[t("el-upload",{ref:"upload",attrs:{action:e.getActionUrl,"list-type":"picture-card",multiple:e.multiple,limit:e.limit,headers:e.myHeaders,"file-list":e.fileList,"on-exceed":e.handleExceed,"on-preview":e.handleUploadPreview,"on-remove":e.handleRemove,"on-success":e.handleUploadSuccess,"on-error":e.handleUploadErr,"before-upload":e.handleBeforeUpload}},[t("i",{staticClass:"el-icon-plus"}),t("div",{staticClass:"el-upload__tip",staticStyle:{color:"#838fa1"},attrs:{slot:"tip"},slot:"tip"},[e._v(e._s(e.tip))])]),t("el-dialog",{attrs:{visible:e.dialogVisible,size:"tiny","append-to-body":""},on:{"update:visible":function(t){e.dialogVisible=t}}},[t("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})])],1)},ka=[],Ca={data(){return{baseUrl:$.baseUrl,dialogVisible:!1,dialogImageUrl:"",fileList:[],fileUrlList:[],myHeaders:{}}},props:["tip","action","limit","multiple","fileUrls"],mounted(){this.init(),this.myHeaders={Token:oa.get("Token")}},watch:{fileUrls:function(e,t){this.init()}},computed:{getActionUrl:function(){return this.baseUrl+this.action}},methods:{init(){if(this.fileUrls){this.fileUrlList=this.fileUrls.split(",");let e=[];this.fileUrlList.forEach((function(t,i){var a=t,r=i,s={name:r,url:a};e.push(s)})),this.setFileList(e)}},handleBeforeUpload(e){},handleUploadSuccess(e,t,i){e&&0===e.code?(i[i.length-1]["url"]="upload/"+t.response.file,this.setFileList(i),this.$emit("change",this.fileUrlList.join(","))):this.$message.error(e.msg)},handleUploadErr(e,t,i){this.$message.error("文件上传失败")},handleRemove(e,t){this.setFileList(t),this.$emit("change",this.fileUrlList.join(","))},handleUploadPreview(e){this.dialogImageUrl=e.url,this.dialogVisible=!0},handleExceed(e,t){this.$message.warning(`最多上传${this.limit}张图片`)},setFileList(e){var t=[],i=[],a=oa.get("token");let r=this;e.forEach((function(e,s){var o=e.url.split("?")[0];o.startsWith("http")||(o=r.baseUrl+o);var n=e.name,l={name:n,url:o+"?token="+a};t.push(l),i.push(o)})),this.fileList=t,this.fileUrlList=i}}},za=Ca,Fa=Object(u["a"])(za,Sa,ka,!1,null,"8387aaec",null),_a=Fa.exports,Aa=function(){var e=this,t=e._self._c;return t("div",[t("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.getActionUrl,name:"file",headers:e.header,"show-file-list":!1,"on-success":e.uploadSuccess,"on-error":e.uploadError,"before-upload":e.beforeUpload}}),t("quill-editor",{ref:"myQuillEditor",staticClass:"editor",attrs:{options:e.editorOption},on:{blur:function(t){return e.onEditorBlur(t)},focus:function(t){return e.onEditorFocus(t)},change:function(t){return e.onEditorChange(t)}},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)},Ia=[];const Ta=[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image","video"]];var Na={props:{value:{type:String},action:{type:String},maxSize:{type:Number,default:4e3}},components:{quillEditor:ia["quillEditor"]},data(){return{baseUrl:$.baseUrl,content:this.value,quillUpdateImg:!1,editorOption:{placeholder:"",theme:"snow",modules:{toolbar:{container:Ta,handlers:{image:function(e){e?document.querySelector(".avatar-uploader input").click():this.quill.format("image",!1)}}}}},header:{Token:localStorage.getItem("Token")}}},computed:{getActionUrl:function(){return this.baseUrl+"/"+this.action}},methods:{onEditorBlur(){},onEditorFocus(){},onEditorChange(){console.log(this.value),this.$emit("input",this.value)},beforeUpload(){this.quillUpdateImg=!0},uploadSuccess(e,t){let i=this.$refs.myQuillEditor.quill;if(0===e.code){let t=i.getSelection().index;i.insertEmbed(t,"image",this.baseUrl+"/upload/"+e.file),i.setSelection(t+1)}else this.$message.error("图片插入失败");this.quillUpdateImg=!1},uploadError(){this.quillUpdateImg=!1,this.$message.error("图片插入失败")}}},Ra=Na,Da=(i("64ab"),Object(u["a"])(Ra,Aa,Ia,!1,null,null,null)),Ua=Da.exports,$a=i("0f7d"),Ha=i.n($a),ja=i("2f62");const La={};var Oa=La;const Wa={audio:[],audioIndex:-1},Ea={SET_audio:(e,t)=>{e.audio=t},SET_audioIndex:(e,t)=>{e.audioIndex=t}},Ma={setAudio({commit:e}){return new Promise(t=>{e("SET_audio",[]),e("SET_audioIndex",-1)})}};var qa={namespaced:!0,state:Wa,mutations:Ea,actions:Ma};a["default"].use(ja["a"]);const Pa=new ja["a"].Store({modules:{app:qa},getters:Oa});var Ba=Pa;a["default"].config.productionTip=!1,a["default"].prototype.$config=$,a["default"].prototype.$validate=ra,a["default"].prototype.$storage=oa,a["default"].prototype.isAuth=na,a["default"].prototype.getCurDateTime=la,a["default"].prototype.getCurDate=da,a["default"].use(r["a"]),a["default"].use(s["a"]),a["default"].use(n.a),a["default"].use(ta.a,{}),a["default"].use(aa.a),a["default"].component("Breadcrumb",wa),a["default"].component("file-upload",_a),a["default"].component("editor",Ua),a["default"].component("aplayer",Ha.a),a["default"].http.options.root=$.baseUrl,a["default"].http.headers.common["Token"]=localStorage.getItem("Token"),a["default"].http.interceptors.push((function(e,t){t(e=>{if(401!=e.data.code&&403!=e.data.code)return e;this.$router.replace("/login").catch(e=>{})})})),Gi.afterEach((e,t)=>{"/login"==t.path&&(a["default"].http.headers.common["Token"]=localStorage.getItem("Token"))}),new a["default"]({render:e=>e(ma),router:Gi,store:Ba}).$mount("#app")},"5c2e":function(e,t){e.exports="data:image/png;base64,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"},"5c86":function(e,t,i){},6083:function(e,t,i){},"62af":function(e,t,i){},"62d5":function(e,t,i){},"63d0":function(e,t,i){"use strict";i("1e9c")},"64a2":function(e,t){e.exports="data:image/png;base64,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"},"64ab":function(e,t,i){"use strict";i("8716")},"6b74":function(e,t,i){},"6e1f":function(e,t,i){},"6ed4":function(e,t){e.exports="data:image/png;base64,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"},"6fc7":function(e,t,i){"use strict";i("9afc")},"7bda":function(e,t,i){"use strict";i("45c7")},"7d52":function(e,t,i){},"7ddd":function(e,t,i){"use strict";i("7d52")},"84a3":function(e,t,i){"use strict";i("9f34")},8716:function(e,t,i){},"871c":function(e,t,i){"use strict";i("db04")},8763:function(e,t,i){},"8a71":function(e,t,i){"use strict";i("4e8d")},"95ec":function(e,t,i){},"9afc":function(e,t,i){},"9e6b":function(e,t,i){"use strict";i("f0b3")},"9f34":function(e,t,i){},"9fdc":function(e,t,i){"use strict";i("2575")},a578:function(e,t,i){},a872:function(e,t,i){"use strict";i("62af")},b0af:function(e,t,i){"use strict";i("6b74")},b2bf:function(e,t,i){"use strict";i("4706")},b62f:function(e,t,i){"use strict";i("62d5")},bcf7:function(e,t,i){},c2d8:function(e,t,i){"use strict";i("5c86")},c4bc:function(e,t,i){e.exports=i.p+"img/zhongguo.20798bfa.png"},c657:function(e,t,i){e.exports=i.p+"img/touxiang.37c3ea6b.png"},c8d1:function(e,t,i){"use strict";i("1a56")},c94c:function(e,t,i){"use strict";i("6083")},cf28:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAHS0lEQVR4Xu1be2xUVRr/fee28pDaznS6EaNRcC6tj4AbdGN8G5r4IAupiUiMqIlC6R0gccUEs38A/qPGt2Wm1heYrWsIyfrYZDUiiia6q2KiUJD2TkET4q5L5xYsII+55zN3YHCo9859UgbbSZr+cb/v9/3Ob879vu+cOYdQ5pN4fHtNfrwyXQiaDsjpIOs/ppTzqYBnWwH8hyE2EfNmBQc3705dus+JFzk9iGX0uwh4BMCkChhUcAqEXQA9a7Qln7ID+Y0AE57XG86oonaA7wgetRI96UvTzN+xd3HTzlJ2JwgQT/esAInllUg/Mk4sVxqpxhVFvOMC1LZvn6Qoyo7IAlUw0OE8/rBvibrbonhcgHgm+wXAV1Qw7wip0VpDS849LkC8I/sgmJ+MMELFQzEwb0BTu6gh3T3BFGO+BePcimcdLcGdYtCcRvF09ioQfxot9umBJk3cSLFM30KC7BhGyg9IE1/b1mQFywm4Ydi4MC2leEZ/GcB9wxGUgY0Dmnpjmebro+EVgN+wBOgGcMmIFADotQTg4Ri8FaPiZoDVB4wKMDoDRl8BXznAeo/D5Ay3KhAG+1hr66uM+s4Bboks7ADC+Mcyuu8yOiqA3ypgzQBi+XGgb0oINtrUlU6+hf2IEB8mcb3fRsr3DAjBb7QPcMsfQd7hMF9IIWn6fQXCBBwVwMNiKIjAft/70hjhZsCQDcYg5MP41Ga+jwk+3EOEhqA4p7UA8Q59Dhhrgw4+dA4I2xV6IS4kL8stmvK5nW0UexnhZoCXEYSz+dzQ1CvtIM59+rNxB8Y09ILC7WVWtgBlckxdRp8lgLfD6TvMZdAvWZJ8pdP0j6X1NBE0v5hD7St5BjhOf2sQsYyeJeDC4ReAOQ+i9QzOCghdAlk2+ecTaqsizhSQ0xiYiqN/F/klyqDWAS35op1ffUf2XmZe7RfTzt77DGB+A0wfGLsPdWHlpYd9BV/efUZi4rip0pTTAJ7KRFNdmpcdhqY6frv1GX0jA9f74uBg7EkABt06oCXfjSJgESPW2VdLprwdwG0AbinFdvn2W5j5H1FxcRXA0FTHQxRRkTj6TvfOFKA7GbizXMxYWn+LCLOjiu0mwBxDU9eVBrPaz2ocmSzBkxmYDLAE4ycAP0FR9irA/+sOyy3ZJeqhqEgWcepX9cxgIT6IEtdZAKKlpcdKEpnsdAm5AKAF3ghQL8BbwLKbQGtzqSnfevNztoqne1eD6N6wOCckbNvlMNEGoy3ZXDSMp7NLQfxEuMD0JYHfIiHe71944Sa/WDWdPYlqqbSA0QLwCTnDL5a7AEwLjFTyJcswns7eDOJIEyAI64nl6zmt8bVA5Ds3VdeZtbcI5hYQtQCoDYTjtCEiueqPe1KTCr/gxjO6tRD5U9AALn5bGfxaXpqvDi66KBc0Rqyz7xqRlzO5IAY3+sGxywGDhqaeZYHUr+qbwUJGmnTsyB1RZMNga2O/H+JOtnXpnZcJmM2A/DOIrnPD/I0ApdtWw3FqTAp52Z6Fjd+4EQ3yvCGdTeZJNhPQDNAsANVDcU6pACzlzIFFjf8KMji/Pg3pnWfnKd9M4GYQzSgeCTplAhDT4lwqucppIMWSR6AXqvbvX/rjQ9P2+x20k711LkrS2GZJmGGXA3oNTS0kEmsKmcR6VIGP45RUGTvseFp/EoQHhzx7V8B8oF9r6omSj30jVI3zjPnqrqNVoLfTe/PjRo16JCtzixXGzjrWoS8jxqOOSIRtBFqca0t+6BbNy3NbAQi0JKcl2y2ARGZHo4T5CoCrvQA62jBeNVJq2bNI8XR2Pohtl8A2uAcIpOW0ZLBe4higUyv8P4Xp2t2pZLYgwuPba2SN8kyAw1QmQF2Q8nVj0ZT15QSsz2TvYfCaQCIzVghpvtS/uOkHv/6OawECunKaOq8UMN6h30QS85isVpTiDsHyBGyRwHsk0GUsVLeVI5Xo3DZRmtXWsfz7/ZK3sV9NJF/ItTV+4RWr7GqQCQ8PtKmP2YHVtes3iCpRzzATQiIhib5nwtbxYm/PD62XH/BCIJ7RbwfjERCavNj7sPmQiFbl2pJvuvm4LYet09R/rZpQ89yPd58dWRlKdH43Uebzy0C8xI1gmOdE6APTczQmv6b/vqZBOyxXAY45dTOo3WmPzivJowM/1AoS8wGc49UvAjuTiJ6ClGuGLst9HZRk4CuAXlSUqn/2t17wX6/EEhl9lmTMBsFqRxNe/U6GHQF/Z8lrikk5+FFZwr8h5fsEpV8K9JMpc0LQOElIsOQEQOeDcDEYl4T58fJkiFDAZHxCglafisPSJ21MfoEZYtlIPi5/EFW4fCRfmFhnaOqcwpb3SLwyQ4S7c23q30bopSm8bGiqVYp/vTU2gq7NfTb+4NjmXX85r/B75ki7OLmPYV49oDVtLlaMEXN11trrZOCZPZr6Tmm5/N1fnmZY6wE8PZBSM7ZrgbJL1dPw+jwDWSJ8DSm3slC2HznCG4rXZO3G+guBzVOPTJHYWwAAAABJRU5ErkJggg=="},d347:function(e,t,i){},db04:function(e,t,i){},db5e:function(e,t,i){"use strict";i("2e3a")},ddeb:function(e,t,i){"use strict";i("f46d")},f0b3:function(e,t,i){},f30d:function(e,t,i){"use strict";i("1b77")},f46d:function(e,t,i){},f62c:function(e,t,i){"use strict";i("95ec")},f6e3:function(e,t,i){"use strict";i("4cd7")},f763:function(e,t,i){"use strict";i("a578")},f7b5:function(e,t,i){"use strict";i("171c")},faca:function(e,t,i){"use strict";i("5271")},fbba:function(e,t,i){"use strict";i("5645")},fc27:function(e,t,i){"use strict";i("3ac5")},fff2:function(e,t,i){"use strict";i("4c17")}});
//# sourceMappingURL=app.1678c891.js.map
{"remainingRequest":"D:\\Ê°åÈù¢\\Smart-Kitchen-Manager\\src\\main\\resources\\front\\front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Ê°åÈù¢\\Smart-Kitchen-Manager\\src\\main\\resources\\front\\front\\src\\pages\\statistics\\foodusage.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\Ê°åÈù¢\\Smart-Kitchen-Manager\\src\\main\\resources\\front\\front\\src\\pages\\statistics\\foodusage.vue","mtime":1766837548723},{"path":"D:\\Ê°åÈù¢\\Smart-Kitchen-Manager\\src\\main\\resources\\front\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1766827789760},{"path":"D:\\Ê°åÈù¢\\Smart-Kitchen-Manager\\src\\main\\resources\\front\\front\\node_modules\\babel-loader\\lib\\index.js","mtime":1766827793571},{"path":"D:\\Ê°åÈù¢\\Smart-Kitchen-Manager\\src\\main\\resources\\front\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1766827789760},{"path":"D:\\Ê°åÈù¢\\Smart-Kitchen-Manager\\src\\main\\resources\\front\\front\\node_modules\\vue-loader\\lib\\index.js","mtime":1766827794095}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHN0YXRzOiB7DQogICAgICAgIHRvdGFsVHlwZXM6IDAsDQogICAgICAgIHRvdGFsVXNhZ2U6IDAsDQogICAgICAgIG1vc3RVc2VkOiAnLScsDQogICAgICAgIG1vc3RVc2VkQ291bnQ6IDAsDQogICAgICAgIGF2Z0ZyZXF1ZW5jeTogMA0KICAgICAgfSwNCiAgICAgIHRvcEZvb2RzOiBbXSwNCiAgICAgIGZyZXF1ZW5jeURpc3RyaWJ1dGlvbjogW10sDQogICAgICBzdWdnZXN0aW9uczogW10NCiAgICB9DQogIH0sDQogIGNyZWF0ZWQoKSB7DQogICAgdGhpcy5sb2FkU3RhdGlzdGljcygpOw0KICB9LA0KICBtZXRob2RzOiB7DQogICAgbG9hZFN0YXRpc3RpY3MoKSB7DQogICAgICBsZXQgdXNlcmlkID0gdGhpcy4kc3RvcmFnZS5nZXQoJ3VzZXJpZCcpOw0KICAgICAgDQogICAgICAvLyDojrflj5bnlKjmiLfnmoTpo5/mnZDkvb/nlKjmlbDmja4NCiAgICAgIHRoaXMuJGh0dHAuZ2V0KCd1c2Vyc2hpY2FpL2xpc3QnLCB7DQogICAgICAgIHBhcmFtczogew0KICAgICAgICAgIHBhZ2U6IDEsDQogICAgICAgICAgbGltaXQ6IDEwMDAsDQogICAgICAgICAgdXNlcmlkOiB1c2VyaWQNCiAgICAgICAgfQ0KICAgICAgfSkudGhlbihyZXMgPT4gew0KICAgICAgICBpZiAocmVzLmRhdGEgJiYgcmVzLmRhdGEuY29kZSA9PT0gMCkgew0KICAgICAgICAgIHRoaXMucHJvY2Vzc1N0YXRpc3RpY3MocmVzLmRhdGEuZGF0YS5saXN0KTsNCiAgICAgICAgfQ0KICAgICAgfSk7DQogICAgfSwNCiAgICANCiAgICBwcm9jZXNzU3RhdGlzdGljcyhkYXRhKSB7DQogICAgICBpZiAoIWRhdGEgfHwgZGF0YS5sZW5ndGggPT09IDApIHsNCiAgICAgICAgcmV0dXJuOw0KICAgICAgfQ0KICAgICAgDQogICAgICAvLyDnu5/orqHmr4/np43po5/mnZDnmoTkvb/nlKjmg4XlhrUNCiAgICAgIGxldCBmb29kTWFwID0ge307DQogICAgICBkYXRhLmZvckVhY2goaXRlbSA9PiB7DQogICAgICAgIGxldCBuYW1lID0gaXRlbS5zaGljYWlOYW1lOw0KICAgICAgICBpZiAoIWZvb2RNYXBbbmFtZV0pIHsNCiAgICAgICAgICBmb29kTWFwW25hbWVdID0gew0KICAgICAgICAgICAgc2hpY2FpTmFtZTogbmFtZSwNCiAgICAgICAgICAgIHVzYWdlQ291bnQ6IDAsDQogICAgICAgICAgICB0b3RhbFF1YW50aXR5OiAwLA0KICAgICAgICAgICAgdW5pdDogaXRlbS51bml0IHx8ICfkuKonLA0KICAgICAgICAgICAgbGFzdFVzZWREYXRlOiBpdGVtLnB1cmNoYXNlRGF0ZQ0KICAgICAgICAgIH07DQogICAgICAgIH0NCiAgICAgICAgZm9vZE1hcFtuYW1lXS51c2FnZUNvdW50Kys7DQogICAgICAgIGZvb2RNYXBbbmFtZV0udG90YWxRdWFudGl0eSArPSBwYXJzZUZsb2F0KGl0ZW0ucXVhbnRpdHkgfHwgMCk7DQogICAgICAgIGlmIChpdGVtLnB1cmNoYXNlRGF0ZSA+IGZvb2RNYXBbbmFtZV0ubGFzdFVzZWREYXRlKSB7DQogICAgICAgICAgZm9vZE1hcFtuYW1lXS5sYXN0VXNlZERhdGUgPSBpdGVtLnB1cmNoYXNlRGF0ZTsNCiAgICAgICAgfQ0KICAgICAgfSk7DQogICAgICANCiAgICAgIC8vIOi9rOaNouS4uuaVsOe7hOW5tuaOkuW6jw0KICAgICAgbGV0IGZvb2RMaXN0ID0gT2JqZWN0LnZhbHVlcyhmb29kTWFwKTsNCiAgICAgIGZvb2RMaXN0LnNvcnQoKGEsIGIpID0+IGIudXNhZ2VDb3VudCAtIGEudXNhZ2VDb3VudCk7DQogICAgICANCiAgICAgIC8vIOiuoeeul+e7n+iuoeaVsOaNrg0KICAgICAgdGhpcy5zdGF0cy50b3RhbFR5cGVzID0gZm9vZExpc3QubGVuZ3RoOw0KICAgICAgdGhpcy5zdGF0cy50b3RhbFVzYWdlID0gZGF0YS5sZW5ndGg7DQogICAgICBpZiAoZm9vZExpc3QubGVuZ3RoID4gMCkgew0KICAgICAgICB0aGlzLnN0YXRzLm1vc3RVc2VkID0gZm9vZExpc3RbMF0uc2hpY2FpTmFtZTsNCiAgICAgICAgdGhpcy5zdGF0cy5tb3N0VXNlZENvdW50ID0gZm9vZExpc3RbMF0udXNhZ2VDb3VudDsNCiAgICAgIH0NCiAgICAgIHRoaXMuc3RhdHMuYXZnRnJlcXVlbmN5ID0gKGRhdGEubGVuZ3RoIC8gNCkudG9GaXhlZCgxKTsgLy8g5YGH6K6+57uf6K6hNOWRqOaVsOaNrg0KICAgICAgDQogICAgICAvLyBUT1AgMTANCiAgICAgIGxldCBtYXhDb3VudCA9IGZvb2RMaXN0WzBdLnVzYWdlQ291bnQ7DQogICAgICB0aGlzLnRvcEZvb2RzID0gZm9vZExpc3Quc2xpY2UoMCwgMTApLm1hcChpdGVtID0+ICh7DQogICAgICAgIC4uLml0ZW0sDQogICAgICAgIHBlcmNlbnRhZ2U6IE1hdGgucm91bmQoKGl0ZW0udXNhZ2VDb3VudCAvIG1heENvdW50KSAqIDEwMCkNCiAgICAgIH0pKTsNCiAgICAgIA0KICAgICAgLy8g6aKR546H5YiG5biDDQogICAgICBsZXQgaGlnaEZyZXEgPSBmb29kTGlzdC5maWx0ZXIoZiA9PiBmLnVzYWdlQ291bnQgPj0gMTApLmxlbmd0aDsNCiAgICAgIGxldCBub3JtYWxGcmVxID0gZm9vZExpc3QuZmlsdGVyKGYgPT4gZi51c2FnZUNvdW50ID49IDUgJiYgZi51c2FnZUNvdW50IDwgMTApLmxlbmd0aDsNCiAgICAgIGxldCBsb3dGcmVxID0gZm9vZExpc3QuZmlsdGVyKGYgPT4gZi51c2FnZUNvdW50IDwgNSkubGVuZ3RoOw0KICAgICAgbGV0IHRvdGFsID0gZm9vZExpc3QubGVuZ3RoOw0KICAgICAgDQogICAgICB0aGlzLmZyZXF1ZW5jeURpc3RyaWJ1dGlvbiA9IFsNCiAgICAgICAgew0KICAgICAgICAgIGxldmVsOiAnaGlnaCcsDQogICAgICAgICAgbGFiZWw6ICfpq5jpopHpo5/mnZAgKOKJpTEw5qyhKScsDQogICAgICAgICAgY291bnQ6IGhpZ2hGcmVxLA0KICAgICAgICAgIHBlcmNlbnRhZ2U6IE1hdGgucm91bmQoKGhpZ2hGcmVxIC8gdG90YWwpICogMTAwKSwNCiAgICAgICAgICBjb2xvcjogJyM2N0MyM0EnDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICBsZXZlbDogJ25vcm1hbCcsDQogICAgICAgICAgbGFiZWw6ICfkuK3popHpo5/mnZAgKDUtOeasoSknLA0KICAgICAgICAgIGNvdW50OiBub3JtYWxGcmVxLA0KICAgICAgICAgIHBlcmNlbnRhZ2U6IE1hdGgucm91bmQoKG5vcm1hbEZyZXEgLyB0b3RhbCkgKiAxMDApLA0KICAgICAgICAgIGNvbG9yOiAnI0U2QTIzQycNCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIGxldmVsOiAnbG93JywNCiAgICAgICAgICBsYWJlbDogJ+S9jumikemjn+adkCAoPDXmrKEpJywNCiAgICAgICAgICBjb3VudDogbG93RnJlcSwNCiAgICAgICAgICBwZXJjZW50YWdlOiBNYXRoLnJvdW5kKChsb3dGcmVxIC8gdG90YWwpICogMTAwKSwNCiAgICAgICAgICBjb2xvcjogJyM5MDkzOTknDQogICAgICAgIH0NCiAgICAgIF07DQogICAgICANCiAgICAgIC8vIOeUn+aIkOW7uuiurg0KICAgICAgdGhpcy5nZW5lcmF0ZVN1Z2dlc3Rpb25zKGZvb2RMaXN0KTsNCiAgICB9LA0KICAgIA0KICAgIGdlbmVyYXRlU3VnZ2VzdGlvbnMoZm9vZExpc3QpIHsNCiAgICAgIHRoaXMuc3VnZ2VzdGlvbnMgPSBbXTsNCiAgICAgIA0KICAgICAgaWYgKGZvb2RMaXN0Lmxlbmd0aCA+IDApIHsNCiAgICAgICAgbGV0IHRvcDMgPSBmb29kTGlzdC5zbGljZSgwLCAzKS5tYXAoZiA9PiBmLnNoaWNhaU5hbWUpLmpvaW4oJ+OAgScpOw0KICAgICAgICB0aGlzLnN1Z2dlc3Rpb25zLnB1c2goew0KICAgICAgICAgIHRpdGxlOiAn5bi455So6aOf5p2QJywNCiAgICAgICAgICBjb250ZW50OiBg5oKo5pyA5bi45L2/55So55qE6aOf5p2Q5piv77yaJHt0b3Azfe+8jOW7uuiuruS/neaMgemAgumHj+W6k+WtmOOAgmAsDQogICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnDQogICAgICAgIH0pOw0KICAgICAgfQ0KICAgICAgDQogICAgICBsZXQgbG93RnJlcUZvb2RzID0gZm9vZExpc3QuZmlsdGVyKGYgPT4gZi51c2FnZUNvdW50IDwgMyk7DQogICAgICBpZiAobG93RnJlcUZvb2RzLmxlbmd0aCA+IDUpIHsNCiAgICAgICAgdGhpcy5zdWdnZXN0aW9ucy5wdXNoKHsNCiAgICAgICAgICB0aXRsZTogJ+mjn+adkOWkmuagt+aApycsDQogICAgICAgICAgY29udGVudDogYOaCqOaciSAke2xvd0ZyZXFGb29kcy5sZW5ndGh9IOenjeS9jumikeS9v+eUqOeahOmjn+adkO+8jOW7uuiuruWinuWKoOi/meS6m+mjn+adkOeahOS9v+eUqOmikeeOh++8jOS/neaMgemlrumjn+Wkmuagt+aAp+OAgmAsDQogICAgICAgICAgdHlwZTogJ3dhcm5pbmcnDQogICAgICAgIH0pOw0KICAgICAgfQ0KICAgICAgDQogICAgICB0aGlzLnN1Z2dlc3Rpb25zLnB1c2goew0KICAgICAgICB0aXRsZTogJ+WBpeW6t+aPkOekuicsDQogICAgICAgIGNvbnRlbnQ6ICflu7rorq7mr4/lkajmkYTlhaXoh7PlsJEyMOenjeS4jeWQjOeahOmjn+adkO+8jOS/neaMgeiQpeWFu+Wdh+ihoeOAgicsDQogICAgICAgIHR5cGU6ICdpbmZvJw0KICAgICAgfSk7DQogICAgfSwNCiAgICANCiAgICB0YWJsZVJvd0NsYXNzTmFtZSh7cm93LCByb3dJbmRleH0pIHsNCiAgICAgIGlmIChyb3dJbmRleCA9PT0gMCkgcmV0dXJuICd0b3AtMS1yb3cnOw0KICAgICAgaWYgKHJvd0luZGV4ID09PSAxKSByZXR1cm4gJ3RvcC0yLXJvdyc7DQogICAgICBpZiAocm93SW5kZXggPT09IDIpIHJldHVybiAndG9wLTMtcm93JzsNCiAgICAgIHJldHVybiAnJzsNCiAgICB9LA0KICAgIA0KICAgIGdldFByb2dyZXNzQ29sb3IocGVyY2VudGFnZSkgew0KICAgICAgaWYgKHBlcmNlbnRhZ2UgPj0gODApIHJldHVybiAnIzY3QzIzQSc7DQogICAgICBpZiAocGVyY2VudGFnZSA+PSA1MCkgcmV0dXJuICcjRTZBMjNDJzsNCiAgICAgIHJldHVybiAnIzkwOTM5OSc7DQogICAgfQ0KICB9DQp9DQo="},{"version":3,"sources":["foodusage.vue"],"names":[],"mappings":";AAqHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"foodusage.vue","sourceRoot":"src/pages/statistics","sourcesContent":["<template>\r\n  <div>\r\n    <div :style='{\"padding\":\"12px\",\"margin\":\"10px auto\",\"borderColor\":\"#dbd9f4\",\"borderRadius\":\"8px\",\"background\":\"#fff\",\"borderWidth\":\"0 0 2px\",\"width\":\"1200px\",\"borderStyle\":\"solid\"}' class=\"breadcrumb-preview\">\r\n      <el-breadcrumb :separator=\"'Œû'\" :style='{\"width\":\"100%\",\"margin\":\"0 auto\",\"fontSize\":\"14px\",\"lineHeight\":\"1\",\"display\":\"flex\"}'>\r\n        <el-breadcrumb-item>È¶ñÈ°µ</el-breadcrumb-item>\r\n        <el-breadcrumb-item>ÁªüËÆ°ÂàÜÊûê</el-breadcrumb-item>\r\n        <el-breadcrumb-item>Â∏∏Áî®È£üÊùêÂàÜÊûê</el-breadcrumb-item>\r\n      </el-breadcrumb>\r\n    </div>\r\n    \r\n    <div class=\"statistics-preview\" :style='{\"width\":\"1200px\",\"margin\":\"10px auto\",\"position\":\"relative\",\"background\":\"none\"}'>\r\n      \r\n      <!-- ÁªüËÆ°Âç°Áâá -->\r\n      <el-row :gutter=\"20\" :style='{\"marginBottom\":\"20px\"}'>\r\n        <el-col :span=\"6\">\r\n          <el-card shadow=\"hover\" :style='{\"background\":\"linear-gradient(135deg, #667eea 0%, #764ba2 100%)\",\"color\":\"#fff\"}'>\r\n            <div :style='{\"fontSize\":\"14px\",\"marginBottom\":\"10px\"}'>È£üÊùêÁßçÁ±ª</div>\r\n            <div :style='{\"fontSize\":\"32px\",\"fontWeight\":\"bold\"}'>{{stats.totalTypes}}</div>\r\n            <div :style='{\"fontSize\":\"12px\",\"marginTop\":\"5px\",\"opacity\":\"0.8\"}'>Áßç</div>\r\n          </el-card>\r\n        </el-col>\r\n        <el-col :span=\"6\">\r\n          <el-card shadow=\"hover\" :style='{\"background\":\"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)\",\"color\":\"#fff\"}'>\r\n            <div :style='{\"fontSize\":\"14px\",\"marginBottom\":\"10px\"}'>ÊÄª‰ΩøÁî®Ê¨°Êï∞</div>\r\n            <div :style='{\"fontSize\":\"32px\",\"fontWeight\":\"bold\"}'>{{stats.totalUsage}}</div>\r\n            <div :style='{\"fontSize\":\"12px\",\"marginTop\":\"5px\",\"opacity\":\"0.8\"}'>Ê¨°</div>\r\n          </el-card>\r\n        </el-col>\r\n        <el-col :span=\"6\">\r\n          <el-card shadow=\"hover\" :style='{\"background\":\"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)\",\"color\":\"#fff\"}'>\r\n            <div :style='{\"fontSize\":\"14px\",\"marginBottom\":\"10px\"}'>ÊúÄÂ∏∏Áî®È£üÊùê</div>\r\n            <div :style='{\"fontSize\":\"24px\",\"fontWeight\":\"bold\"}'>{{stats.mostUsed}}</div>\r\n            <div :style='{\"fontSize\":\"12px\",\"marginTop\":\"5px\",\"opacity\":\"0.8\"}'>{{stats.mostUsedCount}}Ê¨°</div>\r\n          </el-card>\r\n        </el-col>\r\n        <el-col :span=\"6\">\r\n          <el-card shadow=\"hover\" :style='{\"background\":\"linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)\",\"color\":\"#fff\"}'>\r\n            <div :style='{\"fontSize\":\"14px\",\"marginBottom\":\"10px\"}'>Âπ≥Âùá‰ΩøÁî®È¢ëÁéá</div>\r\n            <div :style='{\"fontSize\":\"32px\",\"fontWeight\":\"bold\"}'>{{stats.avgFrequency}}</div>\r\n            <div :style='{\"fontSize\":\"12px\",\"marginTop\":\"5px\",\"opacity\":\"0.8\"}'>Ê¨°/Âë®</div>\r\n          </el-card>\r\n        </el-col>\r\n      </el-row>\r\n      \r\n      <!-- È£üÊùê‰ΩøÁî®ÊéíË°å -->\r\n      <el-card :style='{\"marginBottom\":\"20px\"}'>\r\n        <div slot=\"header\">\r\n          <span :style='{\"fontSize\":\"18px\",\"fontWeight\":\"bold\"}'>üìä È£üÊùê‰ΩøÁî®ÊéíË°åÊ¶ú TOP 10</span>\r\n        </div>\r\n        \r\n        <el-table :data=\"topFoods\" :style='{\"width\":\"100%\"}' :row-class-name=\"tableRowClassName\">\r\n          <el-table-column type=\"index\" label=\"ÊéíÂêç\" width=\"80\" align=\"center\">\r\n            <template slot-scope=\"scope\">\r\n              <el-tag v-if=\"scope.$index === 0\" type=\"danger\" size=\"small\">ü•á</el-tag>\r\n              <el-tag v-else-if=\"scope.$index === 1\" type=\"warning\" size=\"small\">ü•à</el-tag>\r\n              <el-tag v-else-if=\"scope.$index === 2\" type=\"success\" size=\"small\">ü•â</el-tag>\r\n              <span v-else>{{scope.$index + 1}}</span>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column prop=\"shicaiName\" label=\"È£üÊùêÂêçÁß∞\" width=\"200\"></el-table-column>\r\n          <el-table-column prop=\"usageCount\" label=\"‰ΩøÁî®Ê¨°Êï∞\" width=\"120\" align=\"center\">\r\n            <template slot-scope=\"scope\">\r\n              <el-tag type=\"primary\">{{scope.row.usageCount}} Ê¨°</el-tag>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column prop=\"totalQuantity\" label=\"ÊÄª‰ΩøÁî®Èáè\" width=\"150\" align=\"center\">\r\n            <template slot-scope=\"scope\">\r\n              {{scope.row.totalQuantity}} {{scope.row.unit}}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column prop=\"lastUsedDate\" label=\"ÊúÄÂêé‰ΩøÁî®\" width=\"180\"></el-table-column>\r\n          <el-table-column label=\"‰ΩøÁî®È¢ëÁéá\" align=\"center\">\r\n            <template slot-scope=\"scope\">\r\n              <el-progress :percentage=\"scope.row.percentage\" :color=\"getProgressColor(scope.row.percentage)\"></el-progress>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n      </el-card>\r\n      \r\n      <!-- È£üÊùêÂàÜÁ±ªÁªüËÆ° -->\r\n      <el-row :gutter=\"20\">\r\n        <el-col :span=\"12\">\r\n          <el-card>\r\n            <div slot=\"header\">\r\n              <span :style='{\"fontSize\":\"18px\",\"fontWeight\":\"bold\"}'>ü•ó È£üÊùê‰ΩøÁî®È¢ëÁéáÂàÜÂ∏É</span>\r\n            </div>\r\n            <div :style='{\"padding\":\"20px\"}'>\r\n              <div v-for=\"item in frequencyDistribution\" :key=\"item.level\" :style='{\"marginBottom\":\"15px\"}'>\r\n                <div :style='{\"display\":\"flex\",\"justifyContent\":\"space-between\",\"marginBottom\":\"5px\"}'>\r\n                  <span>{{item.label}}</span>\r\n                  <span>{{item.count}} Áßç ({{item.percentage}}%)</span>\r\n                </div>\r\n                <el-progress :percentage=\"item.percentage\" :color=\"item.color\" :show-text=\"false\"></el-progress>\r\n              </div>\r\n            </div>\r\n          </el-card>\r\n        </el-col>\r\n        \r\n        <el-col :span=\"12\">\r\n          <el-card>\r\n            <div slot=\"header\">\r\n              <span :style='{\"fontSize\":\"18px\",\"fontWeight\":\"bold\"}'>üí° ‰ΩøÁî®Âª∫ËÆÆ</span>\r\n            </div>\r\n            <div :style='{\"padding\":\"20px\",\"lineHeight\":\"2\"}'>\r\n              <el-alert v-for=\"(tip, index) in suggestions\" :key=\"index\" :title=\"tip.title\" :type=\"tip.type\" :closable=\"false\" :style='{\"marginBottom\":\"10px\"}'>\r\n                <div>{{tip.content}}</div>\r\n              </el-alert>\r\n            </div>\r\n          </el-card>\r\n        </el-col>\r\n      </el-row>\r\n      \r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      stats: {\r\n        totalTypes: 0,\r\n        totalUsage: 0,\r\n        mostUsed: '-',\r\n        mostUsedCount: 0,\r\n        avgFrequency: 0\r\n      },\r\n      topFoods: [],\r\n      frequencyDistribution: [],\r\n      suggestions: []\r\n    }\r\n  },\r\n  created() {\r\n    this.loadStatistics();\r\n  },\r\n  methods: {\r\n    loadStatistics() {\r\n      let userid = this.$storage.get('userid');\r\n      \r\n      // Ëé∑ÂèñÁî®Êà∑ÁöÑÈ£üÊùê‰ΩøÁî®Êï∞ÊçÆ\r\n      this.$http.get('usershicai/list', {\r\n        params: {\r\n          page: 1,\r\n          limit: 1000,\r\n          userid: userid\r\n        }\r\n      }).then(res => {\r\n        if (res.data && res.data.code === 0) {\r\n          this.processStatistics(res.data.data.list);\r\n        }\r\n      });\r\n    },\r\n    \r\n    processStatistics(data) {\r\n      if (!data || data.length === 0) {\r\n        return;\r\n      }\r\n      \r\n      // ÁªüËÆ°ÊØèÁßçÈ£üÊùêÁöÑ‰ΩøÁî®ÊÉÖÂÜµ\r\n      let foodMap = {};\r\n      data.forEach(item => {\r\n        let name = item.shicaiName;\r\n        if (!foodMap[name]) {\r\n          foodMap[name] = {\r\n            shicaiName: name,\r\n            usageCount: 0,\r\n            totalQuantity: 0,\r\n            unit: item.unit || '‰∏™',\r\n            lastUsedDate: item.purchaseDate\r\n          };\r\n        }\r\n        foodMap[name].usageCount++;\r\n        foodMap[name].totalQuantity += parseFloat(item.quantity || 0);\r\n        if (item.purchaseDate > foodMap[name].lastUsedDate) {\r\n          foodMap[name].lastUsedDate = item.purchaseDate;\r\n        }\r\n      });\r\n      \r\n      // ËΩ¨Êç¢‰∏∫Êï∞ÁªÑÂπ∂ÊéíÂ∫è\r\n      let foodList = Object.values(foodMap);\r\n      foodList.sort((a, b) => b.usageCount - a.usageCount);\r\n      \r\n      // ËÆ°ÁÆóÁªüËÆ°Êï∞ÊçÆ\r\n      this.stats.totalTypes = foodList.length;\r\n      this.stats.totalUsage = data.length;\r\n      if (foodList.length > 0) {\r\n        this.stats.mostUsed = foodList[0].shicaiName;\r\n        this.stats.mostUsedCount = foodList[0].usageCount;\r\n      }\r\n      this.stats.avgFrequency = (data.length / 4).toFixed(1); // ÂÅáËÆæÁªüËÆ°4Âë®Êï∞ÊçÆ\r\n      \r\n      // TOP 10\r\n      let maxCount = foodList[0].usageCount;\r\n      this.topFoods = foodList.slice(0, 10).map(item => ({\r\n        ...item,\r\n        percentage: Math.round((item.usageCount / maxCount) * 100)\r\n      }));\r\n      \r\n      // È¢ëÁéáÂàÜÂ∏É\r\n      let highFreq = foodList.filter(f => f.usageCount >= 10).length;\r\n      let normalFreq = foodList.filter(f => f.usageCount >= 5 && f.usageCount < 10).length;\r\n      let lowFreq = foodList.filter(f => f.usageCount < 5).length;\r\n      let total = foodList.length;\r\n      \r\n      this.frequencyDistribution = [\r\n        {\r\n          level: 'high',\r\n          label: 'È´òÈ¢ëÈ£üÊùê (‚â•10Ê¨°)',\r\n          count: highFreq,\r\n          percentage: Math.round((highFreq / total) * 100),\r\n          color: '#67C23A'\r\n        },\r\n        {\r\n          level: 'normal',\r\n          label: '‰∏≠È¢ëÈ£üÊùê (5-9Ê¨°)',\r\n          count: normalFreq,\r\n          percentage: Math.round((normalFreq / total) * 100),\r\n          color: '#E6A23C'\r\n        },\r\n        {\r\n          level: 'low',\r\n          label: '‰ΩéÈ¢ëÈ£üÊùê (<5Ê¨°)',\r\n          count: lowFreq,\r\n          percentage: Math.round((lowFreq / total) * 100),\r\n          color: '#909399'\r\n        }\r\n      ];\r\n      \r\n      // ÁîüÊàêÂª∫ËÆÆ\r\n      this.generateSuggestions(foodList);\r\n    },\r\n    \r\n    generateSuggestions(foodList) {\r\n      this.suggestions = [];\r\n      \r\n      if (foodList.length > 0) {\r\n        let top3 = foodList.slice(0, 3).map(f => f.shicaiName).join('„ÄÅ');\r\n        this.suggestions.push({\r\n          title: 'Â∏∏Áî®È£üÊùê',\r\n          content: `ÊÇ®ÊúÄÂ∏∏‰ΩøÁî®ÁöÑÈ£üÊùêÊòØÔºö${top3}ÔºåÂª∫ËÆÆ‰øùÊåÅÈÄÇÈáèÂ∫ìÂ≠ò„ÄÇ`,\r\n          type: 'success'\r\n        });\r\n      }\r\n      \r\n      let lowFreqFoods = foodList.filter(f => f.usageCount < 3);\r\n      if (lowFreqFoods.length > 5) {\r\n        this.suggestions.push({\r\n          title: 'È£üÊùêÂ§öÊ†∑ÊÄß',\r\n          content: `ÊÇ®Êúâ ${lowFreqFoods.length} Áßç‰ΩéÈ¢ë‰ΩøÁî®ÁöÑÈ£üÊùêÔºåÂª∫ËÆÆÂ¢ûÂä†Ëøô‰∫õÈ£üÊùêÁöÑ‰ΩøÁî®È¢ëÁéáÔºå‰øùÊåÅÈ•ÆÈ£üÂ§öÊ†∑ÊÄß„ÄÇ`,\r\n          type: 'warning'\r\n        });\r\n      }\r\n      \r\n      this.suggestions.push({\r\n        title: 'ÂÅ•Â∫∑ÊèêÁ§∫',\r\n        content: 'Âª∫ËÆÆÊØèÂë®ÊëÑÂÖ•Ëá≥Â∞ë20Áßç‰∏çÂêåÁöÑÈ£üÊùêÔºå‰øùÊåÅËê•ÂÖªÂùáË°°„ÄÇ',\r\n        type: 'info'\r\n      });\r\n    },\r\n    \r\n    tableRowClassName({row, rowIndex}) {\r\n      if (rowIndex === 0) return 'top-1-row';\r\n      if (rowIndex === 1) return 'top-2-row';\r\n      if (rowIndex === 2) return 'top-3-row';\r\n      return '';\r\n    },\r\n    \r\n    getProgressColor(percentage) {\r\n      if (percentage >= 80) return '#67C23A';\r\n      if (percentage >= 50) return '#E6A23C';\r\n      return '#909399';\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.el-table >>> .top-1-row {\r\n  background: #fef0f0;\r\n}\r\n.el-table >>> .top-2-row {\r\n  background: #fdf6ec;\r\n}\r\n.el-table >>> .top-3-row {\r\n  background: #f0f9ff;\r\n}\r\n</style>\r\n"]}]}
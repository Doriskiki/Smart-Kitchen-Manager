{"remainingRequest":"D:\\桌面\\Smart-Kitchen-Manager\\src\\main\\resources\\front\\front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\桌面\\Smart-Kitchen-Manager\\src\\main\\resources\\front\\front\\src\\pages\\dietstatistics\\add.vue?vue&type=style&index=0&id=63969fad&scoped=true&lang=css","dependencies":[{"path":"D:\\桌面\\Smart-Kitchen-Manager\\src\\main\\resources\\front\\front\\src\\pages\\dietstatistics\\add.vue","mtime":1766831708618},{"path":"D:\\桌面\\Smart-Kitchen-Manager\\src\\main\\resources\\front\\front\\node_modules\\css-loader\\dist\\cjs.js","mtime":1766827791737},{"path":"D:\\桌面\\Smart-Kitchen-Manager\\src\\main\\resources\\front\\front\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1766827794726},{"path":"D:\\桌面\\Smart-Kitchen-Manager\\src\\main\\resources\\front\\front\\node_modules\\postcss-loader\\src\\index.js","mtime":1766827793567},{"path":"D:\\桌面\\Smart-Kitchen-Manager\\src\\main\\resources\\front\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1766827789760},{"path":"D:\\桌面\\Smart-Kitchen-Manager\\src\\main\\resources\\front\\front\\node_modules\\vue-loader\\lib\\index.js","mtime":1766827794095}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQouZWwtZm9ybSB7DQoJbWF4LXdpZHRoOiA4MDBweDsNCgltYXJnaW46IDAgYXV0bzsNCn0NCg=="},{"version":3,"sources":["add.vue"],"names":[],"mappings":";AA+JA;AACA;AACA;AACA","file":"add.vue","sourceRoot":"src/pages/dietstatistics","sourcesContent":["<template>\r\n<div>\r\n\t<div :style='{\"padding\":\"12px\",\"margin\":\"10px auto\",\"borderColor\":\"#dbd9f4\",\"borderRadius\":\"8px\",\"background\":\"#fff\",\"borderWidth\":\"0 0 2px\",\"width\":\"1200px\",\"borderStyle\":\"solid\"}' class=\"breadcrumb-preview\">\r\n\t\t<el-breadcrumb :separator=\"'Ξ'\" :style='{\"width\":\"100%\",\"margin\":\"0 auto\",\"fontSize\":\"14px\",\"lineHeight\":\"1\",\"display\":\"flex\"}'>\r\n\t\t\t<el-breadcrumb-item>首页</el-breadcrumb-item>\r\n\t\t\t<el-breadcrumb-item>饮食统计</el-breadcrumb-item>\r\n\t\t\t<el-breadcrumb-item>{{id ? '编辑' : '添加'}}记录</el-breadcrumb-item>\r\n\t\t</el-breadcrumb>\r\n\t</div>\r\n\t\r\n\t<div class=\"add-preview\" :style='{\"width\":\"1200px\",\"margin\":\"10px auto\",\"position\":\"relative\",\"background\":\"none\"}'>\r\n\t\t<el-form :model=\"ruleForm\" :rules=\"rules\" ref=\"ruleForm\" label-width=\"120px\" class=\"demo-ruleForm\" :style='{\"border\":\"2px solid #dbd9f4\",\"padding\":\"40px 20px\",\"borderRadius\":\"8px\",\"background\":\"#fff\"}'>\r\n\t\t\t\r\n\t\t\t<el-form-item label=\"日期\" prop=\"recordDate\">\r\n\t\t\t\t<el-date-picker\r\n\t\t\t\t\tv-model=\"ruleForm.recordDate\"\r\n\t\t\t\t\ttype=\"datetime\"\r\n\t\t\t\t\tplaceholder=\"选择日期\"\r\n\t\t\t\t\tvalue-format=\"yyyy-MM-dd HH:mm:ss\"\r\n\t\t\t\t\t:style='{\"width\":\"100%\"}'>\r\n\t\t\t\t</el-date-picker>\r\n\t\t\t</el-form-item>\r\n\t\t\t\r\n\t\t\t<el-form-item label=\"餐次\" prop=\"mealType\">\r\n\t\t\t\t<el-radio-group v-model=\"ruleForm.mealType\">\r\n\t\t\t\t\t<el-radio label=\"breakfast\">早餐</el-radio>\r\n\t\t\t\t\t<el-radio label=\"lunch\">午餐</el-radio>\r\n\t\t\t\t\t<el-radio label=\"dinner\">晚餐</el-radio>\r\n\t\t\t\t\t<el-radio label=\"snack\">加餐</el-radio>\r\n\t\t\t\t</el-radio-group>\r\n\t\t\t</el-form-item>\r\n\t\t\t\r\n\t\t\t<el-form-item label=\"食物名称\" prop=\"foodName\">\r\n\t\t\t\t<el-input v-model=\"ruleForm.foodName\" placeholder=\"请输入食物名称\" clearable></el-input>\r\n\t\t\t</el-form-item>\r\n\t\t\t\r\n\t\t\t<el-form-item label=\"卡路里 (kcal)\" prop=\"calories\">\r\n\t\t\t\t<el-input-number v-model=\"ruleForm.calories\" :min=\"0\" :max=\"99999\" label=\"卡路里\"></el-input-number>\r\n\t\t\t</el-form-item>\r\n\t\t\t\r\n\t\t\t<el-form-item label=\"蛋白质 (g)\" prop=\"protein\">\r\n\t\t\t\t<el-input-number v-model=\"ruleForm.protein\" :min=\"0\" :max=\"9999\" :precision=\"1\" label=\"蛋白质\"></el-input-number>\r\n\t\t\t</el-form-item>\r\n\t\t\t\r\n\t\t\t<el-form-item label=\"碳水化合物 (g)\" prop=\"carbs\">\r\n\t\t\t\t<el-input-number v-model=\"ruleForm.carbs\" :min=\"0\" :max=\"9999\" :precision=\"1\" label=\"碳水化合物\"></el-input-number>\r\n\t\t\t</el-form-item>\r\n\t\t\t\r\n\t\t\t<el-form-item label=\"脂肪 (g)\" prop=\"fat\">\r\n\t\t\t\t<el-input-number v-model=\"ruleForm.fat\" :min=\"0\" :max=\"9999\" :precision=\"1\" label=\"脂肪\"></el-input-number>\r\n\t\t\t</el-form-item>\r\n\t\t\t\r\n\t\t\t<el-form-item label=\"备注\" prop=\"notes\">\r\n\t\t\t\t<el-input type=\"textarea\" v-model=\"ruleForm.notes\" placeholder=\"请输入备注\" :rows=\"4\"></el-input>\r\n\t\t\t</el-form-item>\r\n\t\t\t\r\n\t\t\t<el-form-item>\r\n\t\t\t\t<el-button type=\"primary\" @click=\"submitForm('ruleForm')\" :style='{\"cursor\":\"pointer\",\"border\":\"0\",\"padding\":\"0px 30px\",\"margin\":\"0 10px 0 0\",\"outline\":\"none\",\"color\":\"#666\",\"borderRadius\":\"6px\",\"background\":\"linear-gradient(90deg, rgba(255,233,100,1) 0%, rgba(194,248,126,1) 29%, rgba(181,233,252,1) 61%, rgba(246,172,218,1) 100%)\",\"width\":\"auto\",\"fontSize\":\"14px\",\"lineHeight\":\"42px\",\"height\":\"42px\"}'>提交</el-button>\r\n\t\t\t\t<el-button @click=\"resetForm('ruleForm')\" :style='{\"cursor\":\"pointer\",\"border\":\"0\",\"padding\":\"0px 30px\",\"margin\":\"0 10px 0 0\",\"outline\":\"none\",\"color\":\"#666\",\"borderRadius\":\"6px\",\"background\":\"#f0f0f0\",\"width\":\"auto\",\"fontSize\":\"14px\",\"lineHeight\":\"42px\",\"height\":\"42px\"}'>重置</el-button>\r\n\t\t\t\t<el-button @click=\"back()\" :style='{\"cursor\":\"pointer\",\"border\":\"0\",\"padding\":\"0px 30px\",\"margin\":\"0 10px 0 0\",\"outline\":\"none\",\"color\":\"#666\",\"borderRadius\":\"6px\",\"background\":\"#f0f0f0\",\"width\":\"auto\",\"fontSize\":\"14px\",\"lineHeight\":\"42px\",\"height\":\"42px\"}'>返回</el-button>\r\n\t\t\t</el-form-item>\r\n\t\t</el-form>\r\n\t</div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tid: '',\r\n\t\t\truleForm: {\r\n\t\t\t\trecordDate: '',\r\n\t\t\t\tmealType: 'breakfast',\r\n\t\t\t\tfoodName: '',\r\n\t\t\t\tcalories: 0,\r\n\t\t\t\tprotein: 0,\r\n\t\t\t\tcarbs: 0,\r\n\t\t\t\tfat: 0,\r\n\t\t\t\tnotes: ''\r\n\t\t\t},\r\n\t\t\trules: {\r\n\t\t\t\trecordDate: [\r\n\t\t\t\t\t{ required: true, message: '请选择日期', trigger: 'change' }\r\n\t\t\t\t],\r\n\t\t\t\tmealType: [\r\n\t\t\t\t\t{ required: true, message: '请选择餐次', trigger: 'change' }\r\n\t\t\t\t],\r\n\t\t\t\tfoodName: [\r\n\t\t\t\t\t{ required: true, message: '请输入食物名称', trigger: 'blur' }\r\n\t\t\t\t],\r\n\t\t\t\tcalories: [\r\n\t\t\t\t\t{ required: true, message: '请输入卡路里', trigger: 'blur' }\r\n\t\t\t\t]\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tcreated() {\r\n\t\tthis.id = this.$route.query.id;\r\n\t\tif (this.id) {\r\n\t\t\tthis.getInfo();\r\n\t\t} else {\r\n\t\t\t// 默认设置日期为当前时间\r\n\t\t\tthis.ruleForm.recordDate = this.formatDateTime(new Date());\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\t// 获取详情\r\n\t\tgetInfo() {\r\n\t\t\tthis.$http.get(`dietstatistics/info/${this.id}`).then(res => {\r\n\t\t\t\tif (res.data && res.data.code === 0) {\r\n\t\t\t\t\tthis.ruleForm = res.data.data;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t// 提交表单\r\n\t\tsubmitForm(formName) {\r\n\t\t\tthis.$refs[formName].validate((valid) => {\r\n\t\t\t\tif (valid) {\r\n\t\t\t\t\tlet userid = this.$storage.get('userid');\r\n\t\t\t\t\tthis.ruleForm.userid = userid;\r\n\t\t\t\t\t\r\n\t\t\t\t\tlet url = this.id ? 'dietstatistics/update' : 'dietstatistics/save';\r\n\t\t\t\t\tthis.$http.post(url, this.ruleForm).then(res => {\r\n\t\t\t\t\t\tif (res.data && res.data.code === 0) {\r\n\t\t\t\t\t\t\tthis.$message.success(this.id ? '修改成功' : '添加成功');\r\n\t\t\t\t\t\t\tthis.$router.push('/index/dietStatisticsList');\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.$message.error(res.data.msg);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t// 重置表单\r\n\t\tresetForm(formName) {\r\n\t\t\tthis.$refs[formName].resetFields();\r\n\t\t},\r\n\t\t// 返回\r\n\t\tback() {\r\n\t\t\tthis.$router.go(-1);\r\n\t\t},\r\n\t\t// 格式化日期时间\r\n\t\tformatDateTime(date) {\r\n\t\t\tlet d = new Date(date);\r\n\t\t\treturn d.getFullYear() + '-' + \r\n\t\t\t\t   String(d.getMonth() + 1).padStart(2, '0') + '-' + \r\n\t\t\t\t   String(d.getDate()).padStart(2, '0') + ' ' +\r\n\t\t\t\t   String(d.getHours()).padStart(2, '0') + ':' +\r\n\t\t\t\t   String(d.getMinutes()).padStart(2, '0') + ':' +\r\n\t\t\t\t   String(d.getSeconds()).padStart(2, '0');\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.el-form {\r\n\tmax-width: 800px;\r\n\tmargin: 0 auto;\r\n}\r\n</style>\r\n"]}]}